(window.webpackJsonp=window.webpackJsonp||[]).push([[81],{"5AnR":function(t,e,r){},"9uh1":function(t,e,r){},jyLG:function(t,e,r){},kQow:function(t,e,r){"use strict";r.r(e);var n=r("NDiG"),c=r("7cXU"),a=r("o3vK"),o=r("i2Ud"),i=r("YNzt"),s=r("jYNS"),u=r("3C5o"),l=r("aXGN"),d=(r("5AnR"),{name:"return-panel-product-card",components:{VSvg:n.a,VLink:c.a,VPicture:s.a,VCounter:u.a,Price:i.a},props:{product:{type:Object,default:function(){}},href:{type:String,default:"/"},className:{type:String,default:""},type:{type:String},id:{type:Number,required:!0}},data:function(){return{quantity:null}},methods:{generateSourcePath:function(t,e,r,n){return Object(l.c)(t,e,r,n)}},beforeMount:function(){this.quantity=this.product.stock.qty}}),p=r("KHd+"),b=Object(p.a)(d,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"return-panel-product-card",class:t.className},[r("router-link",{staticClass:"return-panel-product-card__img",attrs:{to:t.href}},[t.product.image?r("v-picture",{attrs:{image:t.product.image,alt:""},scopedSlots:t._u([{key:"source",fn:function(e){var n=e.image;return[r("source",{attrs:{"data-srcset":t.generateSourcePath(64,64,n.id,"webp"),type:"image/webp"}})]}},{key:"fallback",fn:function(e){var n=e.image,c=e.alt;return[r("img",{staticClass:"blur-up lazyload v-picture__img",attrs:{"data-src":t.generateSourcePath(64,64,n.id),alt:c}})]}}],null,!1,2109703504)}):r("v-svg",{attrs:{id:"return-panel-product-card-empty",name:"logo",width:"48",height:"48"}})],1),t._v(" "),r("div",{staticClass:"return-panel-product-card__body"},[r("v-link",{staticClass:"return-panel-product-card__body-name",attrs:{to:t.href}},[t._v(t._s(t.product.name))]),t._v(" "),1===t.product.stock.qty?r("div",{staticClass:"return-panel-product-card__body-count"},[t._v(t._s(t.quantity)+" шт")]):r("v-counter",{staticClass:"return-panel-product-card__counter",attrs:{min:"1",max:t.product.stock.qty},model:{value:t.quantity,callback:function(e){t.quantity=e},expression:"quantity"}}),t._v(" "),r("div",{staticClass:"return-panel-product-card__body-prices"},[r("price",t._b({staticClass:"text-bold return-panel-product-card__body-price"},"price",t.product.price,!1)),t._v(" "),t.product.oldPrice&&t.product.oldPrice.value!==t.product.price.value?r("price",t._b({staticClass:"text-grey text-strike return-panel-product-card__body-price--old"},"price",t.product.oldPrice,!1)):t._e()],1)],1)],1)}),[],!1,null,null,null).exports,f=r("XJM6"),_=r("L2JU"),h=r("rBTT"),m=r("Pm1D"),v=r("cCdQ"),y=r("W6hq"),g=r("q5Zp");r("9uh1");function O(t){return function(t){if(Array.isArray(t))return C(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return C(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return C(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function k(t,e,r,n,c,a,o){try{var i=t[a](o),s=i.value}catch(t){return void r(t)}i.done?e(s):Promise.resolve(s).then(n,c)}function j(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function P(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?j(Object(r),!0).forEach((function(e){S(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function S(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var w="".concat(h.NAME,"/").concat(m.a),E={name:"return-product-selection",components:{VCheck:a.a,VButton:o.a,Price:i.a,ReturnPanelProductCard:b,PackageProductCard:f.a},data:function(){return{checkboxes:[]}},computed:P(P({},Object(_.d)(w,[m.b])),{},{allChecked:function(){return this.checkboxes.length>0&&this.checkboxes.length===this.products.length},indeterminate:function(){return this.checkboxes.length>0&&this.checkboxes.length<this.products.length},totalPrice:function(){return{value:3300,currency:"RUB"}},checkedProducts:function(){var t=this;return this.$refs.products.filter((function(e){return t.isChecked(e.id)})).map((function(t){return P({quantity:t.quantity},t.product)}))},isBtnDisabled:function(){return this.checkboxes.length<1}}),methods:P(P({},Object(_.b)(w,[v.b,v.a])),{},{generateItemProductUrl:function(t){if(Array.isArray(t.categoryCodes)){var e=t.categoryCodes[t.categoryCodes.length-1];return Object(y.e)(e,t.code)}},onNextStep:function(){var t,e=this;return(t=regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e[v.a](e.checkedProducts);case 2:e[v.b](g.i.CHECK);case 3:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,c){var a=t.apply(e,r);function o(t){k(a,n,c,o,i,"next",t)}function i(t){k(a,n,c,o,i,"throw",t)}o(void 0)}))})()},onSelectAll:function(){this.checkboxes.length>0?this.checkboxes=[]:this.checkboxes=O(Object.values(this.products.map((function(t){return"".concat(t.id)}))))},isChecked:function(t){return this.checkboxes.includes("".concat(t))}})},x=Object(p.a)(E,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.products&&t.products.length?r("div",{staticClass:"return-product-selection"},[r("div",{staticClass:"container container--tablet-lg"},[r("h3",{staticClass:"return-product-selection__title"},[t._v("Выберите продукты, которые хотите вернуть")]),t._v(" "),r("v-check",{attrs:{id:"checkbox-all",name:"all",value:"all",checked:t.allChecked,indeterminate:t.indeterminate},on:{change:t.onSelectAll}},[t._v("Выбрать все продукты")])],1),t._v(" "),r("ul",{staticClass:"return-product-selection__product-list"},t._l(t.products,(function(e){return r("li",{key:e.id,staticClass:"return-product-selection__product-item"},[r("v-check",{attrs:{id:""+e.id,value:""+e.id,name:"product-checkbox"},model:{value:t.checkboxes,callback:function(e){t.checkboxes=e},expression:"checkboxes"}}),t._v(" "),r("return-panel-product-card",{ref:"products",refInFor:!0,attrs:{product:e,id:e.id,type:e.type,href:t.generateItemProductUrl(e)}})],1)})),0),t._v(" "),r("div",{staticClass:"return-product-selection__bottom"},[r("div",{staticClass:"return-product-selection__controls"},[r("v-button",{staticClass:"return-product-selection__next-btn",attrs:{disabled:t.isBtnDisabled},on:{click:t.onNextStep}},[t._v("Продолжить")]),t._v(" "),r("v-button",{staticClass:"return-product-selection__back-btn btn--transparent"},[t._v("Назад")])],1),t._v(" "),r("div",{staticClass:"return-product-selection__info"},[t._v("\n            Сумма к возрату:\n            "),r("span",{staticClass:"return-product-selection__info-sum"},[r("price",t._b({staticClass:"text-bold return-product-selection__price"},"price",t.totalPrice,!1))],1)])])]):r("div",{staticClass:"return-product-selection"},[t._v("Продуктов для возврата нет")])}),[],!1,null,null,null).exports,N=r("Z14j"),R=(r("m4mT"),{name:"return-product-card",components:{VSvg:n.a,VLink:c.a,VPicture:s.a,VButton:o.a,Price:i.a},props:{className:{type:String,default:""},href:{type:String,default:"/"},type:{type:String},id:{type:Number,required:!0},quantity:{type:Number},image:{type:Object},name:{type:String},price:{type:Object},oldPrice:{type:Object},reason:{type:String,default:""}},methods:{generateSourcePath:function(t,e,r,n){return Object(l.c)(t,e,r,n)},onSelectReason:function(){this.$emit("select-reason",this.id)}}}),A=Object(p.a)(R,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"return-product-card",class:t.className},[r("router-link",{staticClass:"return-product-card__img",attrs:{to:t.href}},[t.image?r("v-picture",{attrs:{image:t.image,alt:""},scopedSlots:t._u([{key:"source",fn:function(e){var n=e.image;return[r("source",{attrs:{"data-srcset":t.generateSourcePath(64,64,n.id,"webp"),type:"image/webp"}})]}},{key:"fallback",fn:function(e){var n=e.image,c=e.alt;return[r("img",{staticClass:"blur-up lazyload v-picture__img",attrs:{"data-src":t.generateSourcePath(64,64,n.id),alt:c}})]}}],null,!1,2109703504)}):r("v-svg",{attrs:{id:"return-product-card-empty",name:"logo",width:"48",height:"48"}})],1),t._v(" "),r("div",{staticClass:"return-product-card__body"},[r("div",{staticClass:"return-product-card__title"},[r("v-link",{staticClass:"return-product-card__body-name",attrs:{to:t.href}},[t._v(t._s(t.name))]),t._v(" "),t.reason?[t._v("Причина выбрана")]:[r("a",{staticClass:"return-product-card__link-btn",on:{click:t.onSelectReason}},[t._v("Укажите причину возврата")])]],2),t._v(" "),r("div",{staticClass:"return-product-card__body-count"},[t._v(t._s(t.quantity)+" шт")]),t._v(" "),r("div",{staticClass:"return-product-card__body-prices"},[r("price",t._b({staticClass:"text-bold return-product-card__body-price"},"price",t.price,!1)),t._v(" "),t.oldPrice&&t.oldPrice.value!==t.price.value?r("price",t._b({staticClass:"text-grey text-strike return-product-card__body-price--old"},"price",t.oldPrice,!1)):t._e()],1)])],1)}),[],!1,null,null,null).exports,T=r("a6oV"),D=r("55Sm"),q=r("jDKC"),U=r("2JJK");r("lz4a");function L(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function V(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?L(Object(r),!0).forEach((function(e){M(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):L(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function M(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var $=U.modalName.profile.RETURN_SELECT_REASON,B={name:$,components:{VCheck:a.a,GeneralModal:T.a},data:function(){return{reason_selected:null}},computed:V(V({},Object(_.d)(D.b,{isOpen:function(t){return t[D.a][U.modalName.profile.RETURN_SELECT_REASON]&&t[D.a][U.modalName.profile.RETURN_SELECT_REASON].open},modalState:function(t){return t[D.a][$]&&t[D.a][$].state||{}}})),{},{isTablet:function(){return this.$mq.tablet}}),methods:V(V({},Object(_.b)(D.b,[q.a])),{},{onClose:function(){this.$emit("close"),this[q.a]({name:$,open:!1})}})},I=Object(p.a)(B,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.isOpen?r("general-modal",{staticClass:"return-select-reason-modal",attrs:{type:"sm",header:"Выберите причину возврата","is-mobile":t.isTablet},on:{close:t.onClose},scopedSlots:t._u([{key:"content",fn:function(){return[t._v("\n        Форма с выбором причины возврата\n    ")]},proxy:!0}],null,!1,2316208946)}):t._e()}),[],!1,null,null,null).exports;r("jyLG");function J(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function K(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?J(Object(r),!0).forEach((function(e){z(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):J(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function z(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var G="".concat(h.NAME,"/").concat(m.a),H={name:"return-check-products",components:{VButton:o.a,AttentionPanel:N.a,Price:i.a,ReturnProductCard:A,ReturnSelectReasonModal:I},computed:K(K(K({},Object(_.d)(G,[m.c])),Object(_.d)(D.b,{isModalOpen:function(t){return t[D.a][U.modalName.profile.RETURN_SELECT_REASON]&&t[D.a][U.modalName.profile.RETURN_SELECT_REASON].open}})),{},{totalPrice:function(){return{value:3300,currency:"RUB"}}}),methods:K(K(K({},Object(_.b)(D.b,[q.a])),Object(_.b)(G,[v.b])),{},{generateItemProductUrl:function(t){if(Array.isArray(t.categoryCodes)){var e=t.categoryCodes[t.categoryCodes.length-1];return Object(y.e)(e,t.code)}},onClickBack:function(){this[v.b](g.i.SELECT)},onSelectReason:function(t){this[q.a]({name:U.modalName.profile.RETURN_SELECT_REASON,open:!0})}})},X=Object(p.a)(H,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"return-check-products"},[r("h3",{staticClass:"return-check-products__title"},[t._v("Продукты")]),t._v(" "),t.selectedProducts?r("ul",{staticClass:"return-check-products__list"},t._l(t.selectedProducts,(function(e){return r("li",{key:e.id,staticClass:"return-check-products__list-item"},[r("return-product-card",{attrs:{href:t.generateItemProductUrl(e),type:e.type,id:e.id,quantity:e.quantity,image:e.image,name:e.name,price:e.price,"old-price":e.oldPrice,reason:e.reason},on:{"select-reason":t.onSelectReason}})],1)})),0):t._e(),t._v(" "),r("attention-panel",{staticClass:"return-check-products__attention-panel"},[t._v("После нажатия на кнопку «Продолжить», будет автоматически сформировано заявление на возврат. Вам нужно будет его распечатать и подписать, затем отсканировать подписанное заявление и прикрепить на следующем шаге.")]),t._v(" "),r("div",{staticClass:"return-check-products__bottom"},[r("div",{staticClass:"return-check-products__controls"},[r("v-button",{staticClass:"return-check-products__next-btn"},[t._v("Продолжить")]),t._v(" "),r("v-button",{staticClass:"return-check-products__back-btn btn--transparent",on:{click:t.onClickBack}},[t._v("Назад")])],1),t._v(" "),r("div",{staticClass:"return-check-products__info"},[t._v("\n            Сумма к возрату:\n            "),r("span",{staticClass:"return-check-products__info-sum"},[r("price",t._b({staticClass:"text-bold return-check-products__price"},"price",t.totalPrice,!1))],1)])]),t._v(" "),r("transition",{attrs:{name:"fade"}},[t.isModalOpen?r("return-select-reason-modal"):t._e()],1)],1)}),[],!1,null,null,null).exports;r("oHx4");function Q(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Y(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Q(Object(r),!0).forEach((function(e){Z(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Q(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Z(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var F="".concat(h.NAME,"/").concat(m.a),W={name:"return",components:{VSvg:n.a,VLink:c.a},computed:Y(Y({},Object(_.d)(F,[m.d])),{},{backUrl:function(){return{name:""}},currentStep:function(){switch(this.step){case g.i.SELECT:return x;case g.i.CHECK:return X;default:return x}}}),methods:Y({},Object(_.b)(F,[v.b])),beforeMount:function(){this.step||this[v.b](g.i.SELECT)}},tt=Object(p.a)(W,(function(){var t=this.$createElement,e=this._self._c||t;return e("section",{staticClass:"section return-view"},[e("div",{staticClass:"container container--tablet-lg"},[e("v-link",{staticClass:"return-view__back-link",attrs:{to:this.backUrl}},[e("v-svg",{attrs:{modifier:"icon--rotate-deg90",name:"arrow-small",width:"24",height:"24"}}),this._v(" Назад\n        ")],1)],1),this._v(" "),e("h2",{staticClass:"return-view__title"},[this._v("Возврат Заказа №124589524")]),this._v(" "),e(this.currentStep,{tag:"component"})],1)}),[],!1,null,null,null);e.default=tt.exports},lz4a:function(t,e,r){},m4mT:function(t,e,r){},oHx4:function(t,e,r){}}]);