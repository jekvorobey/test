(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{A0RZ:function(t,e,r){"use strict";r.r(e),r.d(e,"default",(function(){return o}));var n=r("qY4L"),s=r("BZIu"),i=function(){return r.e(5).then(r.bind(null,"Awhl"))},u=function(t){return t.charAt(0).toUpperCase()+t.slice(1)};function o(t){return{name:"".concat(t,"-stories-view"),serverPrefetch:function(){return this.$store.registerModule("item_list",n.a),this.$store.dispatch("item_list/FETCH_LIST_DATA",{type:t})},beforeRouteEnter:function(e,r,i){!!s.$store._modulesNamespaceMap["".concat(n.a.name,"/")]||s.$store.registerModule(n.a.name,n.a,{preserveState:!!s.$store.state.item_list}),s.$progress.start(),s.$store.dispatch("item_list/FETCH_LIST_DATA",{type:t}).then((function(){i((function(){return s.$progress.finish()}))}))},title:u(t),render:function(e){return e(i,{props:{type:t}})}}}},qY4L:function(t,e,r){"use strict";var n=r("Nlzp"),s={FETCH_LIST_DATA:function(t,e){var r=t.commit,s=t.dispatch,i=e.type;return r("SET_ACTIVE_TYPE",{type:i}),Object(n.a)(i).then((function(t){return r("SET_LIST",{type:i,ids:t})})).then((function(){return s("ENSURE_ACTIVE_ITEMS")}))},ENSURE_ACTIVE_ITEMS:function(t){return(0,t.dispatch)("FETCH_ITEMS",{ids:t.getters.activeIds})},FETCH_ITEMS:function(t,e){var r=t.commit,s=t.state,i=e.ids,u=Date.now();return(i=i.filter((function(t){var e=s.items[t];return!e||u-e.__lastUpdated>18e4}))).length?Object(n.b)(i).then((function(t){return r("SET_ITEMS",{items:t})})):Promise.resolve()},FETCH_USER:function(t,e){var r=t.state,s=t.dispatch,i=e.id;return r.users[i]?Promise.resolve(r.users[i]):Object(n.c)(i).then((function(t){return s("SET_USER",{id:i,user:t})}))},SET_USER:function(t,e){var r=t.commit,s=t.state,i=e.id;return s.users[i]?Promise.resolve(s.users[i]):Object(n.c)(i).then((function(t){return r("SET_USER",{id:i,user:t})}))}},i=r("Kw5r"),u={SET_ACTIVE_TYPE:function(t,e){var r=e.type;t.activeType=r},SET_LIST:function(t,e){var r=e.type,n=e.ids;t.lists[r]=n},SET_ITEMS:function(t,e){e.items.forEach((function(e){e&&i.default.set(t.items,e.id,e)}))},SET_USER:function(t,e){var r=e.id,n=e.user;i.default.set(t.users,r,n||!1)}},o={activeIds:function(t,e,r){var n=t.activeType,s=t.itemsPerPage,i=t.lists;if(!n)return[];var u=Number(r.route.params.page)||1,o=(u-1)*s,a=u*s;return i[n].slice(o,a)},activeItems:function(t,e){return e.activeIds.map((function(e){return t.items[e]})).filter((function(t){return t}))}};e.a={name:"item_list",namespaced:!0,state:{activeType:null,itemsPerPage:20,items:{},users:{},lists:{top:[],new:[],show:[],ask:[],job:[]}},actions:s,mutations:u,getters:o}}}]);