(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{UTL2:function(t,e,r){"use strict";r.r(e);var n=r("Nlzp");var o,a,c,i,u=(c=function(t,e){t.product=e},(a="SET_PRODUCT")in(o={})?Object.defineProperty(o,a,{value:c,enumerable:!0,configurable:!0,writable:!0}):o[a]=c,o);function s(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var l,f=(s(i={},"FETCH_PRODUCT",(function(t,e){var r=t.commit;return Object(n.f)(e).then((function(t){return r("SET_PRODUCT",t)}))})),s(i,"FETCH_PRODUCT_DATA",(function(t,e){var r=t.dispatch;return Promise.all([r("FETCH_PRODUCT",e)])})),i);r("W6hq");function d(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var p={name:"product",namespaced:!0,state:(l={},d(l,"product",{}),d(l,"productCode",""),l),actions:f,mutations:u,getters:{}},v=r("L2JU"),b=r("BZIu"),m=r("sEfC"),g=r.n(m);r("lEig");function _(t,e,r,n,o,a,c){try{var i=t[a](c),u=i.value}catch(t){return void r(t)}i.done?e(u):Promise.resolve(u).then(n,o)}function h(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function O(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?h(r,!0).forEach((function(e){y(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):h(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function y(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var w="".concat(p.name,"/").concat("FETCH_PRODUCT_DATA"),C={name:"product",components:{},data:function(){return{}},computed:O({},Object(v.c)(p.name,[]),{},Object(v.d)(p.name,["product"]),{},Object(v.d)("route",{code:function(t){return t.params.code}})),methods:O({},Object(v.b)(p.name,["FETCH_PRODUCT_DATA"])),beforeRouteEnter:function(t,e,r){var n=t.params.code;!!b.$store._modulesNamespaceMap["".concat(p.name,"/")]||b.$store.registerModule(p.name,p,{preserveState:!!b.$store.state.product}),b.$store.state.product.code===n?r():(b.$progress.start(),b.$store.dispatch(w,{code:n}).then((function(){return r((function(t){return b.$progress.finish()}))})).catch((function(){b.$progress.fail(),b.$logger.error(error)})))},beforeRouteUpdate:function(t,e,r){this.debounce_fetchProduct(t,e),r()},beforeMount:function(){var t=this;this.debounce_fetchProduct=g()(function(){var e,r=(e=regeneratorRuntime.mark((function e(r,n){var o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,o=t.$store.state.product.productCode,a=r.params.code,t.$progress.start(),o===a){e.next=9;break}return e.next=7,t.FETCH_PRODUCT_DATA({code:a});case 7:e.next=11;break;case 9:return e.next=11,Promise.resolve();case 11:t.$progress.finish(),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),b.$logger.error("debounce_fetchProduct",e.t0),t.$progress.fail();case 18:case"end":return e.stop()}}),e,null,[[0,14]])})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function c(t){_(a,n,o,c,i,"next",t)}function i(t){_(a,n,o,c,i,"throw",t)}c(void 0)}))});return function(t,e){return r.apply(this,arguments)}}(),500)}},P=r("KHd+");r.d(e,"DISPATCH_FETCH_PRODUCT_DATA",(function(){return w}));var T=Object(P.a)(C,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"section product-view"},[r("div",{staticClass:"container"},[r("transition-group",{staticClass:"section product-view__breadcrumbs",attrs:{tag:"ol",name:"fade-in"}},[r("li",{key:"main",staticClass:"product-view__breadcrumbs-item"},[r("router-link",{attrs:{to:"/"}},[t._v(t._s("Главная"))])],1),t._v(" "),r("li",{key:"all",staticClass:"product-view__breadcrumbs-item"},[r("router-link",{attrs:{to:"/catalog"}},[t._v(t._s("Каталог"))])],1)])],1),t._v(" "),r("section",{staticClass:"section"},[r("div",{staticClass:"container product-view__grid"},[r("div",{staticClass:"product-view__grid-gallery"},t._l(t.product.media,(function(t){return r("div",{key:t.id,staticClass:"product-view__grid-gallery-item"},[r("img",{staticClass:"blur-up lazyload",attrs:{"data-src":t.image,alt:""}})])})),0),t._v(" "),r("div",{staticClass:"product-view__grid-detail"},[r("div",[t._v(t._s(t.product.title))])])])])])}),[],!1,null,null,null);e.default=T.exports},W6hq:function(t,e,r){"use strict";function n(t){return function(t){if(Array.isArray(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}r.d(e,"a",(function(){return c})),r.d(e,"c",(function(){return i})),r.d(e,"b",(function(){return u}));var o=/from_\d*_to_\d*/,a=/\d+/g;function c(t,e){var r=t?"/catalog/".concat(t):"/catalog",o=e.length>0?"".concat(r,"/filters"):r;return o.concat.apply(o,n(e.map((function(t){return"/".concat(t)}))))}function i(t){for(var e={},r=0;r<t.length;r++){var n=t[r],c=n.split("-")[0];if(o.test(n)){var i=n.match(a);e[c]=i.map((function(t){return+t}))}else e[c]||(e[c]={}),e[c][n]=n}return e}function u(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(e.code===t)return e;if(Array.isArray(e.items))for(var n=0;n<e.items.length;n++){var o=u(t,e.items[n],r);if(o)return r.unshift(o),e}return!1}},lEig:function(t,e,r){}}]);