(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{"/Rcj":function(t,e,r){"use strict";r.r(e);var n,a=r("NDiG"),i=r("i2Ud"),o=r("o3vK"),c=r("+gqB"),s=r("nuHk"),l=r("pFko"),u=r("ze5i"),p=r("wo+G"),d=r("2/Mz"),m=r("obii"),f=r("zfPd"),g=r("KLyl"),_=r("tHOl"),v=r("BZIu"),b=r("AlLH"),h=r("48TQ"),y=r("Nlzp");function C(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function O(t){return function(t){if(Array.isArray(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var w,T=(C(n={},"SET_LOAD_PATH",(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";t.loadPath=e})),C(n,"SET_BANNER",(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.banner=e})),C(n,"SET_ITEMS_MORE",(function(t,e){var r,n=e.items,a=e.range;(r=t.items).push.apply(r,O(n)),t.range=a||0})),C(n,"SET_ITEMS",(function(t,e){var r=e.items,n=e.range;t.items=r,t.range=n||0})),C(n,"SET_CATEGORY_CODE",(function(t,e){t.categoryCode=e})),C(n,"SET_CATEGORIES",(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];t.categories=e})),C(n,"SET_FILTERS",(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];t.filters=e})),C(n,"SET_PRODUCT_GROUP",(function(t,e){t.productGroup=e})),C(n,"SET_TYPE",(function(t,e){t.type=e})),C(n,"SET_ENTITY_CODE",(function(t,e){t.entityCode=e})),n);function E(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function j(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?E(Object(r),!0).forEach((function(e){P(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function P(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function S(t,e,r,n,a,i,o){try{var c=t[i](o),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,a)}function x(t){return function(){var e=this,r=arguments;return new Promise((function(n,a){var i=t.apply(e,r);function o(t){S(i,n,a,o,c,"next",t)}function c(t){S(i,n,a,o,c,"throw",t)}o(void 0)}))}}var k,R,A,D,F,I,M,H,G,$=(P(w={},"SET_LOAD_PATH",(function(t,e){(0,t.commit)("SET_LOAD_PATH",e)})),P(w,"FETCH_BANNER",(H=x(regeneratorRuntime.mark((function t(e,r){var n,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.commit,t.prev=1,t.next=4,Object(y.m)();case 4:a=t.sent,n("SET_BANNER",a[6]),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),Object(h.b)("FETCH_BANNER",!0)(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])}))),function(t,e){return H.apply(this,arguments)})),P(w,"FETCH_CATEGORIES",(M=x(regeneratorRuntime.mark((function t(e,r){var n,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.commit,t.prev=1,t.next=4,Object(y.q)(r);case 4:a=t.sent,n("SET_CATEGORIES",a),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),Object(h.b)("FETCH_CATEGORIES",!0)(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])}))),function(t,e){return M.apply(this,arguments)})),P(w,"FETCH_FILTERS",(I=x(regeneratorRuntime.mark((function t(e,r){var n,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.commit,t.prev=1,t.next=4,Object(y.s)(r);case 4:a=t.sent,n("SET_FILTERS",a),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),Object(h.b)("FETCH_FILTERS",!0)(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])}))),function(t,e){return I.apply(this,arguments)})),P(w,"FETCH_ITEMS",(F=x(regeneratorRuntime.mark((function t(e,r){var n,a,i,o,c,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.commit,a=e.state,t.prev=1,i=a.productGroup||{},o=i.filters,c=j({},r.filter,{},o),t.next=6,Object(y.p)(j({},r,{filter:c}));case 6:s=t.sent,r.showMore?n("SET_ITEMS_MORE",s):n("SET_ITEMS",s),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),Object(h.b)("FETCH_ITEMS",!0)(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])}))),function(t,e){return F.apply(this,arguments)})),P(w,"FETCH_PRODUCT_GROUP",(D=x(regeneratorRuntime.mark((function t(e,r){var n,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.commit,t.prev=1,t.next=4,Object(y.w)(r);case 4:return a=t.sent,n("SET_PRODUCT_GROUP",a),t.abrupt("return",a);case 9:t.prev=9,t.t0=t.catch(1),Object(h.b)("FETCH_PRODUCT_GROUP",!0)(t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,9]])}))),function(t,e){return D.apply(this,arguments)})),P(w,"FETCH_PRODUCT_GROUP_DATA",(A=x(regeneratorRuntime.mark((function t(e){var r,n,a=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.dispatch,n=a.length>1&&void 0!==a[1]?a[1]:{},t.prev=2,t.next=5,r("FETCH_PRODUCT_GROUP",n.entityCode);case 5:return t.next=7,Promise.all([r("FETCH_CATEGORIES",n),r("FETCH_FILTERS",n.filter.category)]);case 7:return t.abrupt("return",r("FETCH_ITEMS",n));case 10:t.prev=10,t.t0=t.catch(2),Object(h.b)("FETCH_PRODUCT_GROUP_DATA")(t.t0);case 13:case"end":return t.stop()}}),t,null,[[2,10]])}))),function(t){return A.apply(this,arguments)})),P(w,"FETCH_CATALOG_DATA",(R=x(regeneratorRuntime.mark((function t(e){var r,n,a,i=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.dispatch,n=e.commit,a=i.length>1&&void 0!==i[1]?i[1]:{},t.prev=2,t.next=5,Promise.all([r("FETCH_BANNER",a),r("FETCH_CATEGORIES",a),r("FETCH_FILTERS",a.filter.category)]);case 5:return n("SET_PRODUCT_GROUP",null),t.abrupt("return",r("FETCH_ITEMS",a));case 9:t.prev=9,t.t0=t.catch(2),Object(h.b)("FETCH_CATALOG_DATA")(t.t0);case 12:case"end":return t.stop()}}),t,null,[[2,9]])}))),function(t){return R.apply(this,arguments)})),P(w,"FETCH_DATA_BY_TYPE",(k=x(regeneratorRuntime.mark((function t(e){var r,n,a,i,o,c,s=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=e.dispatch,n=e.commit,a=s.length>1&&void 0!==s[1]?s[1]:{type:b.productGroupTypes.CATALOG},i=a.type,o=a.entityCode,c=null,t.t0=a.type,t.next=t.t0===b.productGroupTypes.CATALOG?7:t.t0===b.productGroupTypes.BRANDS?9:t.t0===b.productGroupTypes.PROMO?9:t.t0===b.productGroupTypes.SETS?9:11;break;case 7:return c="FETCH_CATALOG_DATA",t.abrupt("break",12);case 9:return c="FETCH_PRODUCT_GROUP_DATA",t.abrupt("break",12);case 11:return t.abrupt("return",Promise.reject(new Error("Wrong catalog type ".concat(a.type))));case 12:return t.abrupt("return",r(c,a).then((function(){n("SET_TYPE",i),n("SET_ENTITY_CODE",o)})));case 13:case"end":return t.stop()}}),t)}))),function(t){return k.apply(this,arguments)})),w),B=r("W6hq");function L(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function U(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?L(Object(r),!0).forEach((function(e){V(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):L(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function V(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var N,q=(V(G={},"activeCategories",(function(t,e,r){for(var n=t.categories,a=r.route.params.code,i=[],o=null,c=0;c<n.length;c++){var s=n[c];if(o=Object(B.d)(a,s,i)){i.unshift(o);break}}return i})),V(G,"activePage",(function(t,e,r){var n=r.route;return n.query.page?Number(n.query.page):1})),V(G,"pagesCount",(function(t){return Math.ceil(t.range/12)})),V(G,"activeCategory",(function(t,e){var r=e.activeCategories;return r[r.length-1]})),V(G,"routeSegments",(function(t,e,r){var n=r.route.params.pathMatch;return n?n.split("/"):[]})),V(G,"filterSegments",(function(t,e){var r=e.routeSegments;return Object(B.e)(r)})),V(G,"activeTags",(function(t,e){for(var r=[],n=t.filters.filter((function(t){return"range"!==t.type})),a=e.filterSegments,i=0;i<n.length;i++)for(var o=n[i],c=0;c<o.items.length;c++){var s=o.items[c];a[o.name]&&a[o.name][s.code]&&r.push(U({},s,{segment:"".concat(o.name,"-").concat(s.code)}))}return r})),G);function Y(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var z="catalog",Q={name:z,namespaced:!0,state:(N={},Y(N,"loadPath",""),Y(N,"productGroup",null),Y(N,"entityCode",null),Y(N,"type",null),Y(N,"banner",{}),Y(N,"categoryId",null),Y(N,"categoryCode",null),Y(N,"categories",[]),Y(N,"items",[]),Y(N,"range",0),Y(N,"filters",[]),N),actions:$,mutations:T,getters:q},W=r("L2JU");r("x3SC");function J(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function K(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var X={name:"category-tree-item",components:{},props:{item:{type:Object,required:!0},depth:{type:Number,default:0}},data:function(){return{isHover:!1}},computed:function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?J(Object(r),!0).forEach((function(e){K(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):J(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},Object(W.c)(z,["activeCategories"]),{},Object(W.d)("route",{type:function(t){return t.params.type},entityCode:function(t){return t.params.entityCode}}),{isActive:function(){return this.activeCategories.includes(this.item)},url:function(){var t=this.entityCode,e=this.type,r=this.item.code;return{path:Object(B.c)(e,t,r)}},hasChildren:function(){this.entityCode,this.type,this.item.items;return Array.isArray(this.item.items)}}),methods:{onMouseOver:function(t){this.isHover=t}}},Z=r("KHd+"),tt=Object(Z.a)(X,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("li",{staticClass:"category-tree-item",class:[{"category-tree-item--root":0===t.depth},{"category-tree-item--active":t.isActive}],on:{mouseover:function(e){return t.onMouseOver(!0)},mouseleave:function(e){return t.onMouseOver(!1)}}},[r("div",{staticClass:"category-tree-item__label"},[void 0!==t.item.code?r("router-link",{staticClass:"category-tree-item__link",attrs:{to:t.url,exact:""===t.item.code}},[t._v("\n            "+t._s(t.item.name)+"\n        ")]):r("span",{staticClass:"category-tree-item__link"},[t._v("\n            "+t._s(t.item.name)+"\n        ")])],1),t._v(" "),r("transition",{attrs:{name:"slide-right"}},[t.hasChildren&&(t.isHover||t.isActive)?r("ul",{staticClass:"category-tree-item__list"},t._l(t.item.items,(function(e,n){return r("category-tree-item",{key:e.id||n,staticClass:"category-tree-item__item",attrs:{item:e,depth:t.depth+1}})})),1):t._e()])],1)}),[],!1,null,null,null).exports,et=r("MhNv"),rt=r("sEfC"),nt=r.n(rt);r("Xtz6");function at(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function it(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var ot={name:"catalog-filter",components:{VButton:i.a,VCheck:o.a,VRange:s.a,VAccordion:et.a},props:{btnText:{type:String,default:"Очистить фильтры"}},data:function(){return{format:{to:function(t){return Math.round(t)},from:function(t){return Number(t)}}}},computed:function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?at(Object(r),!0).forEach((function(e){it(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):at(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},Object(W.c)(z,["filterSegments","routeSegments"]),{},Object(W.d)(z,["filters"]),{},Object(W.d)("route",{type:function(t){return t.params.type},code:function(t){return t.params.code},entityCode:function(t){return t.params.entityCode}}),{accordionFilters:function(){return this.filters?this.filters.map((function(t){return{id:t.id,item:t,title:t.title,isExpanded:!0}})):[]},clearFilterUrl:function(){var t=this.type,e=this.entityCode,r=this.code;return Object(B.c)(t,e,r)}}),methods:{onRadioChange:function(t,e){var r=this.type,n=this.entityCode,a=this.code,i=this.routeSegments;i.includes(e)||i.push(e),function(t){throw new Error('"'+t+'" is read-only')}("routeSegments"),i=i.filter((function(t){return t===e}));var o=Object(B.b)(r,n,a,i);this.$router.replace({path:o})},onCheckChange:function(t,e){var r=this.type,n=this.entityCode,a=this.code,i=this.routeSegments;if(t){if(i.includes(e))return;i.push(e)}else{if(!i.includes(e))return;var o=i.indexOf(e);-1!==o&&i.splice(o,1)}var c=Object(B.b)(r,n,a,i);this.$router.replace({path:c})},onRangeChange:function(t,e){this.debounce_rangeChange(t,e)}},beforeMount:function(){var t=this;this.debounce_rangeChange=nt()((function(e,r){for(var n=t.type,a=t.entityCode,i=t.code,o=t.routeSegments,c="".concat(r,"-from_").concat(e[0],"_to_").concat(e[1]),s=new RegExp("^".concat(r,"-")),l=-1,u=0;u<o.length;u++)if(o[u].match(s)){l=u;break}if(-1!==l){if(o[l]===c)return;o.splice(l,1,c)}else o.push(c);var p=Object(B.b)(n,a,i,o);t.$router.replace({path:p})}),500)}},ct=Object(Z.a)(ot,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.accordionFilters&&t.accordionFilters.length>0?r("div",{staticClass:"catalog-filter"},[r("v-accordion",{staticClass:"catalog-filter__filters",attrs:{"key-field":"id",items:t.accordionFilters,"item-expanded":function(t){return t.isExpanded},"item-toggled":function(t){return t.isExpanded=!t.isExpanded}},scopedSlots:t._u([{key:"content",fn:function(e){var n=e.item;return["range"===n.item.type?r("div",{staticClass:"catalog-filter__filters-range"},[r("v-range",{attrs:{initialValue:[n.item.min,n.item.max],value:t.filterSegments[n.item.name]||[n.item.min,n.item.max],max:n.item.max,min:n.item.min,format:t.format},on:{input:function(e){return t.onRangeChange(e,n.item.name)}}})],1):"check"===n.item.type?r("div",{staticClass:"catalog-filter__filters-check"},t._l(n.item.items,(function(e){return r("v-check",{key:e.id,attrs:{id:n.item.name+"-"+e.id,name:n.item.name,checked:t.filterSegments[n.item.name]&&t.filterSegments[n.item.name][e.code]},on:{change:function(r){return t.onCheckChange(r,n.item.name+"-"+e.code)}}},[t._v("\n                    "+t._s(e.name)+"\n                ")])})),1):"radio"===n.item.type?r("div",{staticClass:"catalog-filter__filters-check"},t._l(n.item.items,(function(e){return r("v-check",{key:e.id,attrs:{id:n.item.name+"-"+e.id,type:"radio",name:n.item.name,checked:t.filterSegments[n.item.name]&&t.filterSegments[n.item.name][e.code]},on:{change:function(r){return t.onRadioChange(r,n.item.name+"-"+e.code)}}},[t._v("\n                    "+t._s(e.name)+"\n                ")])})),1):t._e()]}}],null,!1,1429883620)}),t._v(" "),r("v-button",{staticClass:"btn--outline catalog-filter__clear-btn",attrs:{to:t.clearFilterUrl,replace:""}},[t._v("\n        "+t._s(t.btnText)+"\n    ")])],1):t._e()}),[],!1,null,null,null).exports,st=r("LqtR"),lt=r("jYNS"),ut=r("OvCi"),pt=(r("hqjE"),{name:"catalog-banner-list-card",components:{VButton:i.a,VPicture:lt.a},props:{item:{type:Object,default:function(){return{}}}},computed:{img:function(){return Object(ut.a)(300,300,this.item.image.id,"webp")},defaultImg:function(){return Object(ut.a)(300,300,this.item.image.id,this.item.image.sourceExt)},isObject:function(){return this.item.image instanceof Object}}}),dt=Object(Z.a)(pt,(function(){var t=this.$createElement;return(this._self._c||t)("li",{staticClass:"catalog-banner-list-card"},[this._m(0),this._v(" "),this._m(1)])}),[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"catalog-banner-list-card__img"},[t.item.image&&t.item.image.id?r("v-picture",[t.isObject?[r("source",{attrs:{"data-srcset":t.img,type:"image/webp",media:"(min-width: 1024px)"}}),t._v(" "),r("img",{staticClass:"blur-up lazyload v-picture__img",attrs:{"data-src":t.defaultImg,alt:""}})]:[r("img",{staticClass:"blur-up lazyload v-picture__img",attrs:{"data-src":t.item.image,alt:""}})]],2):t._e()],1)},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"catalog-banner-list-card__panel"},[t.item.upperText?r("div",{staticClass:"catalog-banner-list-card__panel-upper-text"},[t._v("\n            "+t._s(t.item.upperText)+"\n        ")]):t._e(),t._v(" "),r("div",{staticClass:"catalog-banner-list-card__panel-title"},[t._v("\n            "+t._s(t.item.title)+"\n        ")]),t._v(" "),t.item.bottomText?r("div",{staticClass:"catalog-banner-list-card__panel-bottom-text"},[t._v("\n            "+t._s(t.item.bottomText)+"\n        ")]):t._e(),t._v(" "),t.item.btnText?r("v-button",{staticClass:"btn--outline catalog-banner-list-card__panel-btn"},[t._v("\n            "+t._s(t.item.btnText)+"\n        ")]):t._e()],1)}],!1,null,null,null).exports,mt=r("7cXU"),ft=r("7bnD"),gt=r("fB3W"),_t=(r("nhva"),r("CxEY"),r("iHux"),r("gB8C"),r("FIks"),{name:"catalog-product-list-card",components:{VSvg:a.a,VLink:mt.a,VButton:i.a,VRating:ft.a,VPicture:lt.a,Tag:gt.a},props:{item:{type:Object,default:function(){return{categoryCodes:[],tags:[]}}},isSmall:{type:Boolean,default:!1},showWishlistBtn:{type:Boolean,default:!0}},computed:{bigImg:function(){return Object(ut.a)(300,300,this.item.image.id,"webp")},smallImg:function(){return Object(ut.a)(200,200,this.item.image.id,"webp")},defaultImg:function(){return Object(ut.a)(200,200,this.item.image.id,this.item.image.sourceExt)},href:function(){return this.item.categoryCodes&&0!==this.item.categoryCodes.length?"/catalog/".concat(this.item.categoryCodes[this.item.categoryCodes.length-1],"/").concat(this.item.code):"/catalog"}},methods:{onBuyButtonClick:function(){this.$emit("addItem",{id:this.item.id,type:this.item.type})},onPreview:function(){this.$emit("preview",{id:this.item.id,type:this.item.type})}}}),vt=Object(Z.a)(_t,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("router-link",{staticClass:"catalog-product-list-card",class:{"catalog-product-list-card--small":t.isSmall},attrs:{tag:"li",to:t.href}},[t._m(0),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),t.showWishlistBtn?r("v-link",{staticClass:"catalog-product-list-card__wishlist-btn",attrs:{tag:"button"},on:{click:function(t){t.preventDefault()}}},[r("v-svg",{attrs:{name:"wishlist-middle",width:"24",height:"24"}})],1):t._e()],1)}),[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"catalog-product-list-card__img"},[t.item.image&&t.item.image.id?r("v-picture",{attrs:{alt:""}},[r("source",{attrs:{"data-srcset":t.bigImg,type:"image/webp",media:"(min-width: 480px)"}}),t._v(" "),r("source",{attrs:{"data-srcset":t.smallImg,type:"image/webp",media:"(max-width: 479px)"}}),t._v(" "),r("img",{staticClass:"blur-up lazyload v-picture__img",attrs:{"data-src":t.defaultImg,alt:""}})]):r("v-svg",{attrs:{id:"catalog-product-list-card-empty",name:"logo",width:"48",height:"48"}}),t._v(" "),r("div",{staticClass:"catalog-product-list-card__controls"},[r("v-button",{staticClass:"btn--outline catalog-product-list-card__controls-btn",on:{click:function(e){return e.preventDefault(),t.onBuyButtonClick(e)}}},[t._v("\n                Купить\n            ")]),t._v(" "),r("v-link",{staticClass:"catalog-product-list-card__controls-link",attrs:{tag:"button"},on:{click:function(e){return e.preventDefault(),t.onPreview(e)}}},[t._v("\n                Быстрый просмотр\n            ")])],1)],1)},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"catalog-product-list-card__rating"},t._l(5,(function(e){return r("span",{key:e,staticClass:"catalog-product-list-card__rating-star",class:{"catalog-product-list-card__rating-star--empty":e>t.item.rating}})})),0)},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"catalog-product-list-card__body"},[r("div",{staticClass:"catalog-product-list-card__prices"},[t.item.price?r("div",{staticClass:"text-bold catalog-product-list-card__price"},[t._v("\n                "+t._s(t.item.oldPrice?"от "+t.item.price:t.item.price)+"\n            ")]):t._e(),t._v(" "),t.item.oldPrice?r("div",{staticClass:"text-sm text-grey text-strike catalog-product-list-card__price"},[t._v("\n                от "+t._s(t.item.oldPrice)+"\n            ")]):t._e()]),t._v(" "),r("div",{staticClass:"link--sm catalog-product-list-card__link"},[t._v(t._s(t.item.name))]),t._v(" "),t._m(1)])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"catalog-product-list-card__tags"},this._l(this.item.tags,(function(t){return e("tag",{key:t,staticClass:"catalog-product-list-card__tags-item",attrs:{text:t}})})),1)}],!1,null,null,null).exports,bt=r("/Qa0"),ht=r("Jtxo"),yt=r("55Sm"),Ct=r("jDKC");r("bhYy");function Ot(t,e,r,n,a,i,o){try{var c=t[i](o),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,a)}function wt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Tt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?wt(Object(r),!0).forEach((function(e){Et(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Et(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var jt,Pt,St=0,xt={name:"catalog-product-list",props:{animation:{type:Boolean,default:!0}},components:{CatalogBannerListCard:dt,CatalogProductListCard:vt},computed:Tt({},Object(W.d)(z,["items"])),methods:Tt({},Object(W.b)(yt.b,[Ct.a]),{getComponent:function(t){switch(t){case b.catalogItemTypes.PRODUCT:return vt.name;case b.catalogItemTypes.BANNER:return dt.name}},getClass:function(t){return{"catalog-product-list__item--banner":t===b.catalogItemTypes.BANNER}},onBeforeEnterItems:function(t){t.dataset.index=St,St+=1,t.style.opacity=0},itemAnimation:function(t,e){return new Promise((function(r,n){try{setTimeout((function(){requestAnimationFrame((function(){t.style.opacity=1,r()}))}),e)}catch(t){n(t)}}))},onEnterItems:(jt=regeneratorRuntime.mark((function t(e,r){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=100*e.dataset.index,t.next=3,this.itemAnimation(e,n);case 3:r();case 4:case"end":return t.stop()}}),t,this)})),Pt=function(){var t=this,e=arguments;return new Promise((function(r,n){var a=jt.apply(t,e);function i(t){Ot(a,r,n,i,o,"next",t)}function o(t){Ot(a,r,n,i,o,"throw",t)}i(void 0)}))},function(t,e){return Pt.apply(this,arguments)}),onAfterEnterItems:function(t){delete t.dataset.index,St=0},onLeaveItems:function(t,e){requestAnimationFrame((function(){t.style.opacity=0,e()}))},onPreview:function(t){this[Ct.a]({name:bt.a,open:!0,state:{code:t}})},onAddToCart:function(t){this[Ct.a]({name:ht.a,open:!0,state:{offerId:t.id,type:t.type}})}})},kt=Object(Z.a)(xt,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.animation?r("transition-group",{staticClass:"catalog-product-list",attrs:{tag:"ul",name:"catalog-item"},on:{"before-enter":t.onBeforeEnterItems,enter:t.onEnterItems,"after-enter":t.onAfterEnterItems,leave:t.onLeaveItems}},t._l(t.items,(function(e){return r(t.getComponent(e.type),{key:e.id,tag:"component",staticClass:"catalog-product-list__item",class:t.getClass(e.type),attrs:{item:e},on:{addItem:function(e){return t.onAddToCart(e)},preview:function(r){return t.onPreview(e.code)}}})})),1):r("ul",{staticClass:"catalog-product-list"},t._l(t.items,(function(e){return r(t.getComponent(e.type),{key:e.id,tag:"component",staticClass:"catalog-product-list__item",class:t.getClass(e.type),attrs:{item:e},on:{addItem:function(e){return t.onAddToCart(e)},preview:function(r){return t.onPreview(e.code)}}})})),1)}),[],!1,null,null,null).exports,Rt=r("8TZ/"),At=r("0CxO");r("4eDr"),r("9bRU");function Dt(t,e,r,n,a,i,o){try{var c=t[i](o),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,a)}function Ft(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function It(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ft(Object(r),!0).forEach((function(e){Mt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ft(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Mt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Ht,Gt={name:"catalog",components:{VSvg:a.a,VButton:i.a,VSelect:l.a,VPagination:c.a,VSticky:u.a,VExpander:p.a,Modal:d.a,Breadcrumbs:m.a,BreadcrumbItem:f.a,FilterButton:g.a,TagItem:_.a,CategoryTreeItem:tt,CatalogFilter:ct,CatalogProductList:kt,CatalogBannerCard:st.a,AddToCartModal:ht.b,QuickViewModal:bt.b},data:function(){var t=[{id:1,title:"Сначала подороже",field:"price",direction:"desc"},{id:2,title:"Сначала подешевле",field:"price",direction:"asc"}];return{sortValue:t[0],sortOptions:t,filterModal:!1,showMore:!1}},computed:It({},Object(W.c)(z,["activeTags","activeCategory","activePage","pagesCount","routeSegments","activeCategories"]),{},Object(W.d)(z,["items","banner","categories","productGroup"]),{},Object(W.d)(yt.b,{isQuickViewOpen:function(t){return t[yt.a][bt.a]&&t[yt.a][bt.a].open},isAddToCartOpen:function(t){return t[yt.a][ht.a]&&t[yt.a][ht.a].open}}),{},Object(W.d)("route",{type:function(t){return t.params.type},code:function(t){return t.params.code},entityCode:function(t){return t.params.entityCode}}),{breadcrumbRootUrl:function(){var t=this.type;return{name:t===b.productGroupTypes.CATALOG?"Catalog":"ProductGroups",params:{type:t}}},isTabletLg:function(){return this.$mq.tabletLg},isTablet:function(){return this.$mq.tablet}}),watch:{sortValue:function(t,e){t!==e&&this.$router.replace({path:this.$route.path,query:{orderField:t.field,orderDirection:t.direction}})}},methods:It({},Object(W.b)(z,["FETCH_ITEMS","FETCH_DATA_BY_TYPE","SET_LOAD_PATH"]),{},Object(W.b)(Rt.c,[At.a]),{},Object(W.b)(yt.b,[Ct.a]),{generateBreadcrumbUrl:function(t){var e=this.type,r=this.entityCode;return{path:Object(B.c)(e,r,t)}},setSortValue:function(t,e){this.sortValue=this.sortOptions.find((function(r){return r.field===t&&r.direction===e}))||this.sortOptions[0]},onClickDeleteTag:function(t){var e=this.type,r=this.code,n=this.entityCode,a=this.routeSegments;if(a.includes(t)){var i=a.indexOf(t);-1!==i&&a.splice(i,1);var o=Object(B.b)(e,n,r,a);this.$router.replace({path:o})}},onShowMore:function(){this.showMore=!0,this.$router.replace({path:this.$route.path,query:It({},this.$route.query,{page:this.activePage+1})})},onPageChanged:function(t){this.showMore=!1,this.$router.push({path:this.$route.path,query:It({},this.$route.query,{page:t})})},fetchCatalog:(Ht=function(t){return function(){var e=this,r=arguments;return new Promise((function(n,a){var i=t.apply(e,r);function o(t){Dt(i,n,a,o,c,"next",t)}function c(t){Dt(i,n,a,o,c,"throw",t)}o(void 0)}))}}(regeneratorRuntime.mark((function t(e,r,n){var a,i,o,c,s,l,u,p,d,m,f,g,_,h,y,C,O,w,T,E,j=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,a=e.params,i=a.code,o=a.entityCode,c=a.type,s=a.pathMatch,l=e.query,u=(l=void 0===l?{page:1,orderField:"price",orderDirection:"desc"}:l).page,p=void 0===u?1:u,d=l.orderField,m=void 0===d?"price":d,f=l.orderDirection,g=void 0===f?"desc":f,_=r.params,h=_.code,y=_.entityCode,C=_.type,O=r.query,w=(O=void 0===O?{page:1}:O).page,T=void 0===w?1:w,E=Object(B.a)(s,i),this.$progress.start(),c!==C||i!==h||o!==y){t.next=15;break}return t.next=13,this.FETCH_ITEMS({filter:E,orderField:m,orderDirection:g,page:p,showMore:n});case 13:t.next=17;break;case 15:return t.next=17,this.FETCH_DATA_BY_TYPE({type:c,entityCode:o,filter:E,orderField:m,orderDirection:g,page:p});case 17:this.setSortValue(m,g),this.$progress.finish(),n||p===T||window.scrollTo({top:b.MIN_SCROLL_VALUE+1,behavior:"smooth"}),n&&setTimeout((function(){return j.showMore=!1}),200),t.next=28;break;case 23:t.prev=23,t.t0=t.catch(0),this.$progress.fail(),v.$logger.error("fetchCatalog",t.t0),this.$progress.finish();case 28:case"end":return t.stop()}}),t,this,[[0,23]])}))),function(t,e,r){return Ht.apply(this,arguments)})}),beforeRouteEnter:function(t,e,r){var n=t.fullPath,a=t.params,i=a.code,o=void 0===i?null:i,c=a.entityCode,s=void 0===c?null:c,l=a.type,u=a.pathMatch,p=t.query,d=(p=void 0===p?{page:1,orderField:"price",orderDirection:"desc"}:p).page,m=void 0===d?1:d,f=p.orderField,g=void 0===f?"price":f,_=p.orderDirection,b=void 0===_?"desc":_;Object(h.a)(v.$store,z,Q);var y=v.$store.state[z],C=y.loadPath,O=y.categoryCode,w=y.entityCode,T=y.type;if(C===n&&l===T&&o===O&&s===w)r();else{var E=Object(B.a)(u,o),j=null;j=l===T&&o===O&&s===w?"".concat(z,"/").concat("FETCH_ITEMS"):"".concat(z,"/").concat("FETCH_DATA_BY_TYPE"),v.$progress.start(),v.$store.dispatch(j,{type:l,entityCode:s,filter:E,page:m,orderField:g,orderDirection:b}).then((function(){v.$store.dispatch("".concat(z,"/").concat("SET_LOAD_PATH"),n),r((function(t){t.setSortValue(g,b),v.$progress.finish()}))})).catch((function(t){v.$progress.fail(),v.$logger.error("beforeRouteEnter",t),v.$progress.finish(),r()}))}},beforeRouteUpdate:function(t,e,r){this.showMore?this.fetchCatalog(t,e,this.showMore):this.debounce_fetchCatalog(t,e),r()},beforeRouteLeave:function(t,e,r){this.debounce_fetchCatalog.cancel(),r()},beforeMount:function(){this.debounce_fetchCatalog=nt()(this.fetchCatalog,500)}},$t=Object(Z.a)(Gt,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"section catalog-view"},[r("div",{staticClass:"container catalog-view__header"},[r("breadcrumbs",{staticClass:"catalog-view__breadcrumbs"},[r("breadcrumb-item",{key:"main",attrs:{to:"/"}},[t._v("\n                Главная\n            ")]),t._v(" "),r("breadcrumb-item",{key:t.type,attrs:{to:t.breadcrumbRootUrl}},[t._v("\n                "+t._s(t.$t("productGroups.title."+t.type))+"\n            ")]),t._v(" "),t.entityCode?r("breadcrumb-item",{key:t.entityCode,attrs:{to:t.generateBreadcrumbUrl(null)}},[t._v("\n                "+t._s(t.productGroup&&t.productGroup.name)+"\n            ")]):t._e(),t._v(" "),t._l(t.activeCategories,(function(e){return r("breadcrumb-item",{key:e.id,attrs:{to:t.generateBreadcrumbUrl(e.code)}},[t._v("\n                "+t._s(e.name)+"\n            ")])}))],2),t._v(" "),t.entityCode&&t.productGroup?r("catalog-banner-card",{staticClass:"catalog-view__brand",attrs:{"banner-id":t.productGroup.id,"bottom-text":t.productGroup.description,title:t.productGroup.name,image:t.productGroup.image}}):r("catalog-banner-card",{staticClass:"catalog-view__banner",attrs:{"banner-id":t.banner.id,image:t.banner.image,"upper-text":t.banner.upperText,"bottom-text":t.banner.bottomText,title:t.banner.title,"btn-text":t.banner.btnText}})],1),t._v(" "),r("section",{staticClass:"section"},[r("div",{staticClass:"container catalog-view__grid"},[t.isTabletLg?t._e():r("div",{staticClass:"catalog-view__side-panel"},[r("ul",{staticClass:"catalog-view__side-panel-categories"},t._l(t.categories,(function(t){return r("category-tree-item",{key:t.id,staticClass:"catalog-view__side-panel-categories-item",attrs:{item:t}})})),1),t._v(" "),r("catalog-filter",{staticClass:"catalog-view__side-panel-filters"})],1),t._v(" "),r("div",{staticClass:"catalog-view__main"},[r("div",{staticClass:"catalog-view__main-header"},[r("div",{staticClass:"catalog-view__main-header-title"},[r("h1",{staticClass:"catalog-view__main-header-hl"},[t._v("\n                            "+t._s(t.activeCategory?t.activeCategory.name:"Все категории")+"\n                        ")]),t._v(" "),r("p",{staticClass:"text-grey catalog-view__main-header-text"},[t._v("489 продуктов")])]),t._v(" "),r("v-select",{staticClass:"catalog-view__main-header-sort",attrs:{label:"title","track-by":"id",options:t.sortOptions,searchable:!1,"allow-empty":!1,"show-labels":!1},model:{value:t.sortValue,callback:function(e){t.sortValue=e},expression:"sortValue"}}),t._v(" "),r("filter-button",{staticClass:"catalog-view__main-header-btn",on:{click:function(e){t.filterModal=!t.filterModal}}},[t._v("\n                        Фильтр и сортировка  \n                        "),r("span",{staticClass:"text-grey"},[t._v(t._s(t.activeTags.length))])])],1),t._v(" "),t.isTabletLg?t._e():r("transition-group",{staticClass:"catalog-view__main-tags",attrs:{tag:"ul",name:"tag-item"}},t._l(t.activeTags,(function(e,n){return r("tag-item",{key:e.code,attrs:{"data-index":n,text:e.name},on:{delete:function(r){return t.onClickDeleteTag(e.segment)}}})})),1),t._v(" "),r("catalog-product-list",{staticClass:"catalog-view__main-grid",attrs:{animation:!t.isTablet}}),t._v(" "),t.pagesCount>1?r("div",{staticClass:"catalog-view__main-controls"},[t.activePage<t.pagesCount?r("v-button",{staticClass:"btn--outline catalog-view__main-controls-btn",attrs:{disabled:t.showMore},on:{click:t.onShowMore}},[t._v("\n                        Показать ещё\n                    ")]):t._e(),t._v(" "),r("v-pagination",{attrs:{value:t.activePage,"page-count":t.pagesCount},on:{input:t.onPageChanged}})],1):t._e()],1)])]),t._v(" "),r("transition",{attrs:{name:"fade-in"}},[t.filterModal&&t.isTabletLg?r("modal",{staticClass:"catalog-view__modal-filter",attrs:{"show-close-btn":!1,type:"fullscreen"},scopedSlots:t._u([{key:"body",fn:function(){return[r("v-sticky",{staticClass:"catalog-view__modal-filter-sticky",scopedSlots:t._u([{key:"sticky",fn:function(){return[r("div",{staticClass:"catalog-view__modal-filter-header"},[r("button",{staticClass:"catalog-view__modal-filter-header-btn",on:{click:function(e){t.filterModal=!1}}},[r("v-svg",{attrs:{name:"cross-small",width:"14",height:"14"}}),t._v("Фильтр\n                            ")],1)])]},proxy:!0}],null,!1,219555529)},[t._v(" "),r("div",{staticClass:"catalog-view__modal-filter-sort"},[r("div",{staticClass:"catalog-view__modal-filter-sort-title"},[t._v("Сортировка")]),t._v(" "),r("ul",{staticClass:"catalog-view__modal-filter-sort-list"},t._l(t.sortOptions,(function(e){return r("li",{key:e.title,staticClass:"catalog-view__modal-filter-sort-item",class:{"catalog-view__modal-filter-sort-item--active":e===t.sortValue}},[r("button",{staticClass:"catalog-view__modal-filter-sort-btn",on:{click:function(r){t.sortValue=e}}},[t._v("\n                                    "+t._s(e.title)+"\n                                ")])])})),0)]),t._v(" "),r("catalog-filter",{staticClass:"catalog-view__modal-filter-panel"})],1)]},proxy:!0}],null,!1,2324292678)}):t._e()],1),t._v(" "),r("section",{staticClass:"section catalog-view__section catalog-view__seo"},[r("div",{staticClass:"container catalog-view__seo-container"},[r("h2",{staticClass:"catalog-view__section-hl catalog-view__seo-hl"},[t._v("Блок SEO текста")]),t._v(" "),r("v-expander",{staticClass:"catalog-view__seo-text",attrs:{"min-height":80,"has-mask":""},scopedSlots:t._u([{key:"btn",fn:function(e){var r=e.isExpanded;return[t._v("\n                    "+t._s(r?"Скрыть":"Показать больше")+"\n                ")]}}])},[t._v("\n                Помада L'Oreal Paris Color Riche — это первый матовый тинт для губ с ультранасыщенным цветом,\n                который абсолютно не ощущается на губах. Выбери из 10 модных оттенков те, которые тебе по душе. Эта\n                помада не оставит тебя равнодушной. Экспериментируй и наслаждайся, а Color Riche поможет тебе в\n                этом. Мы заботимся о надёжных поставщиках, качестве товаров и безопасной оплате. А что делать вам?\n                Просто наслаждаться покупками. Для экономии не нужен повод, поэтому мы каждый день даём вам скидки\n                на популярные товары самых разных категорий.\n\n                ")])],1)]),t._v(" "),r("transition",{attrs:{name:"fade-in"}},[t.isQuickViewOpen&&!t.isTabletLg?r("quick-view-modal"):t.isAddToCartOpen?r("add-to-cart-modal"):t._e()],1)],1)}),[],!1,null,null,null);e.default=$t.exports},"9bRU":function(t,e,r){},FIks:function(t,e,r){},Xtz6:function(t,e,r){},bhYy:function(t,e,r){},hqjE:function(t,e,r){},x3SC:function(t,e,r){}}]);