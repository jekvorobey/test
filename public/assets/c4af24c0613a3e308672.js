(window.webpackJsonp=window.webpackJsonp||[]).push([["create-list-view"],{435:function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return a});var r=n(445),i=n(69),s=n.n(i),c=function(){return n.e("item-list").then(n.bind(null,500))},o=function(t){return t.charAt(0).toUpperCase()+t.slice(1)};function a(t){return{name:"".concat(t,"-stories-view"),serverPrefetch:function(){return this.$store.registerModule("item_list",r.a),this.$store.dispatch("item_list/FETCH_LIST_DATA",{type:t})},beforeRouteEnter:function(e,n,i){var c=s.a.$store(),o=s.a.$progress();!!c._modulesNamespaceMap["".concat(r.a.name,"/")]||c.registerModule(r.a.name,r.a,{preserveState:!!c.state.item_list}),o.start(),c.dispatch("item_list/FETCH_LIST_DATA",{type:t}).then(function(){o.finish(),i()})},title:o(t),render:function(e){return e(c,{props:{type:t}})}}}},442:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return u}),n.d(e,"b",function(){return f}),n.d(e,"c",function(){return d}),n.d(e,"d",function(){return l});var r=n(444),i=n(69),s=n.n(i).a.$logger(),c=!!t.env.DEBUG_API,o=Object(r.a)({version:"/v0",config:{databaseURL:"https://hacker-news.firebaseio.com"}});function a(t){c&&s.info("fetching ".concat(t,"..."));var e=o.cachedItems;return e&&e.has(t)?(c&&s.info("cache hit for ".concat(t,".")),Promise.resolve(e.get(t))):new Promise(function(n,r){o.child(t).once("value",function(r){var i=r.val();i&&(i.__lastUpdated=Date.now()),e&&e.set(t,i),c&&s.info("fetched ".concat(t,".")),n(i)},r)})}function u(t){return o.cachedIds&&o.cachedIds[t]?Promise.resolve(o.cachedIds[t]):a("".concat(t,"stories"))}function f(t){return Promise.all(t.map(function(t){return function(t){return a("item/".concat(t))}(t)}))}function d(t){return a("user/".concat(t))}function l(t,e){var n=!0,r=o.child("".concat(t,"stories")),i=function(t){n?n=!1:e(t.val())};return r.on("value",i),function(){r.off("value",i)}}o.onServer&&function t(){f((o.cachedIds.top||[]).slice(0,30));setTimeout(t,9e5)}()}).call(this,n(116))},444:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n(447),i=n.n(r);n(449);function s(t){var e=t.config,n=t.version;return i.a.initializeApp(e),i.a.database().ref(n)}},445:function(t,e,n){"use strict";var r=n(442),i={FETCH_LIST_DATA:function(t,e){var n=t.commit,i=t.dispatch,s=e.type;return n("SET_ACTIVE_TYPE",{type:s}),Object(r.a)(s).then(function(t){return n("SET_LIST",{type:s,ids:t})}).then(function(){return i("ENSURE_ACTIVE_ITEMS")})},ENSURE_ACTIVE_ITEMS:function(t){return(0,t.dispatch)("FETCH_ITEMS",{ids:t.getters.activeIds})},FETCH_ITEMS:function(t,e){var n=t.commit,i=t.state,s=e.ids,c=Date.now();return(s=s.filter(function(t){var e=i.items[t];return!e||c-e.__lastUpdated>18e4})).length?Object(r.b)(s).then(function(t){return n("SET_ITEMS",{items:t})}):Promise.resolve()},FETCH_USER:function(t,e){var n=t.state,i=t.dispatch,s=e.id;return n.users[s]?Promise.resolve(n.users[s]):Object(r.c)(s).then(function(t){return i("SET_USER",{id:s,user:t})})},SET_USER:function(t,e){var n=t.commit,i=t.state,s=e.id;return i.users[s]?Promise.resolve(i.users[s]):Object(r.c)(s).then(function(t){return n("SET_USER",{id:s,user:t})})}},s=n(11),c={SET_ACTIVE_TYPE:function(t,e){var n=e.type;t.activeType=n},SET_LIST:function(t,e){var n=e.type,r=e.ids;t.lists[n]=r},SET_ITEMS:function(t,e){e.items.forEach(function(e){e&&s.a.set(t.items,e.id,e)})},SET_USER:function(t,e){var n=e.id,r=e.user;s.a.set(t.users,n,r||!1)}},o={activeIds:function(t,e,n){var r=t.activeType,i=t.itemsPerPage,s=t.lists;if(!r)return[];var c=Number(n.route.params.page)||1,o=(c-1)*i,a=c*i;return s[r].slice(o,a)},activeItems:function(t,e){return e.activeIds.map(function(e){return t.items[e]}).filter(function(t){return t})}};e.a={name:"item_list",namespaced:!0,state:{activeType:null,itemsPerPage:20,items:{},users:{},lists:{top:[],new:[],show:[],ask:[],job:[]}},actions:i,mutations:c,getters:o}}}]);