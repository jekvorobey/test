(window.webpackJsonp=window.webpackJsonp||[]).push([[55],{"B/pr":function(e,t,n){},o1PI:function(e,t,n){"use strict";n.r(t);var s=n("NDiG"),r=n("7cXU"),o=n("i2Ud"),a=n("PZpB"),i=n("qjh8"),c=n("VKYi"),d=n("L2JU"),l=n("55Sm"),u=n("jDKC"),p=n("rBTT"),f=n("mbF8"),v=n("h9RX"),h=(n("BkRI"),n("Y+p1")),b=n.n(h),_=n("2JJK"),g=n("3eXy");n("QmAe"),n("zYMX"),n("LZ6J"),n("B/pr");function m(e,t,n,s,r,o,a){try{var i=e[o](a),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(s,r)}function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){k(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var A="".concat(p.NAME,"/").concat(f.b),S={name:"addresses",components:{VSvg:s.a,VLink:r.a,VButton:o.a,InfoPanel:a.a,CheckoutOptionCard:i.a,AddressEditModal:c.a},computed:O(O(O({},Object(d.d)(A,[f.a])),Object(d.d)(l.b,{isAddressEditOpen:function(e){return e[l.a][_.modalName.profile.ADDRESS_EDIT]&&e[l.a][_.modalName.profile.ADDRESS_EDIT].open}})),{},{isTablet:function(){return this.$mq.tablet},iconSize:function(){return this.$mq.tablet?24:16}}),methods:O(O(O({},Object(d.b)(l.b,[u.a])),Object(d.b)(A,[v.b,v.d,v.e,v.c,v.a])),{},{isEqualAddress:function(e,t){return b()(e,t)},onSetDefaultAddress:function(e){e.default||this[v.c](e.id)},onAddAddress:function(){this[u.a]({name:_.modalName.profile.ADDRESS_EDIT,open:!0,state:{address:{}}})},onSaveAddress:function(e){this[v.e](e)},onDeleteAddress:function(e){this[v.a](e)},onChangeAddress:function(e){this[u.a]({name:_.modalName.profile.ADDRESS_EDIT,open:!0,state:{address:O({},e)}})}}),serverPrefetch:function(){var e,t=this;return(e=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t[v.b](t.$isServer);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),g.$logger.error(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})),function(){var t=this,n=arguments;return new Promise((function(s,r){var o=e.apply(t,n);function a(e){m(o,s,r,a,i,"next",e)}function i(e){m(o,s,r,a,i,"throw",e)}a(void 0)}))})()},beforeRouteEnter:function(e,t,n){if(g.$store.state[p.NAME][f.b].load)return n(),void g.$store.dispatch("".concat(A,"/").concat(v.d),!1);g.$progress.start(),g.$store.dispatch("".concat(A,"/").concat(v.b)).then((function(){n((function(e){g.$progress.finish()}))})).catch((function(e){g.$progress.fail(),g.$logger.error("beforeRouteEnter",e.error),g.$progress.finish(),n()}))}},y=n("KHd+"),D=Object(y.a)(S,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"section addresses-view"},[n("h2",{staticClass:"addresses-view__hl"},[e._v(e._s(e.$t("profile.routes."+e.$route.name)))]),e._v(" "),n("info-panel",{staticClass:"addresses-view__panel",attrs:{header:"Сохраненные адреса"},scopedSlots:e._u([{key:"controls",fn:function(){return[n("v-link",{staticClass:"addresses-view__panel-link",attrs:{tag:"button"},on:{click:e.onAddAddress}},[n("v-svg",{attrs:{name:"plus-small",width:e.iconSize,height:e.iconSize}}),e._v(" "),n("span",[e._v("  Добавить новый адрес")])],1)]},proxy:!0}])},[e._v(" "),e.addresses&&e.addresses.length>0?n("div",{staticClass:"container container--tablet-lg"},[n("ul",{staticClass:"addresses-view__panel-list"},e._l(e.addresses,(function(t){return n("checkout-option-card",{key:t.region_guid+"-"+(t.city_guid||t.settlment_guid)+"-"+t.house,staticClass:"addresses-view__panel-item",attrs:{selected:t.default},on:{cardClick:function(n){return e.onSetDefaultAddress(t)}},scopedSlots:e._u([{key:"controls",fn:function(){return[n("div",{staticClass:"checkout-option-card__controls"},[n("v-link",{staticClass:"checkout-option-card__right-link",attrs:{tag:"button"},on:{click:function(n){return n.stopPropagation(),e.onChangeAddress(t)}}},[n("v-svg",{attrs:{name:"edit",width:"16",height:"16"}})],1),e._v(" "),n("v-link",{staticClass:"checkout-option-card__right-link",attrs:{tag:"button"},on:{click:function(n){return n.stopPropagation(),e.onDeleteAddress(t)}}},[n("v-svg",{attrs:{name:"cross",width:"16",height:"16"}})],1)],1)]},proxy:!0}],null,!0)},[e._v("\n                    "+e._s((t.city||t.settlement)+", "+(t.area?t.area+", ":"")+(t.street?t.street+", ":"")+t.house+" "+(t.block||"")+", "+t.post_index)+"\n                    ")])})),1)]):n("div",{staticClass:"container container--tablet-lg"},[n("div",{staticClass:"addresses-view__no-addresses"},[n("v-svg",{staticClass:"addresses-view__no-addresses-icon",attrs:{name:"info-middle",width:"24",height:"24"}}),e._v("\n                Вы ещё не добавили адресов\n            ")],1),e._v(" "),n("v-button",{staticClass:"btn--outline addresses-view__no-addresses-btn",on:{click:e.onAddAddress}},[e._v("\n                Добавить адрес\n            ")])],1)]),e._v(" "),n("transition",{attrs:{name:"fade"}},[e.$isServer||e.isAddressEditOpen?n("address-edit-modal",{directives:[{name:"show",rawName:"v-show",value:e.isAddressEditOpen,expression:"isAddressEditOpen"}],on:{save:e.onSaveAddress}}):e._e()],1)],1)}),[],!1,null,null,null);t.default=D.exports}}]);