(window.webpackJsonp=window.webpackJsonp||[]).push([[62],{"/Rcj":function(t,e,r){"use strict";r.r(e);var i=r("NDiG"),n=r("i2Ud"),o=r("o3vK"),a=r("+gqB"),s=r("nuHk"),c=r("pFko"),u=r("ze5i"),l=r("cpWO"),d=r("2/Mz"),p=r("obii"),f=r("zfPd"),h=r("KLyl"),m=r("tHOl"),b=r("L2JU"),v=r("3bB/"),g=r("zUOt"),y=r("W6hq");r("x3SC");function O(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function C(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?O(Object(r),!0).forEach((function(e){_(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function _(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var S={name:"category-tree-item",props:{item:{type:Object,required:!0},depth:{type:Number,default:0},disabled:{type:Boolean,default:!0}},data:function(){return{isHover:!1}},computed:C(C(C({},Object(b.d)("route",{type:function(t){return t.params.type},entityCode:function(t){return t.params.entityCode}})),Object(b.c)(v.NAME,[g.h,g.a])),{},{isActive:function(){var t=this;return(this[g.a]||[]).some((function(e){return e.code===t.item.code}))},isRoot:function(){var t=this.item.code,e=this.depth,r=this.rootCategory;return r?t===r.code:0===e},isInteractive:function(){this.type;var t=this.item.code,e=this.rootCategory,r=this.isRoot,i=this.disabled;return e?t&&(r||!i):t},url:function(){var t=this.entityCode,e=this.type,r=this.item.code,i=this.isRoot,n=(this.disabled,this.rootCategory);return{path:Object(y.f)(e,t,n?!i&&r:r)}},hasChildren:function(){this.entityCode,this.type,this.item.items;return Array.isArray(this.item.items)}}),methods:{onMouseOver:function(t){this.isHover=t}}},w=r("KHd+"),T=Object(w.a)(S,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("li",{staticClass:"category-tree-item",class:[{"category-tree-item--root":0===t.depth},{"category-tree-item--active":t.isActive}],on:{mouseover:function(e){return t.onMouseOver(!0)},mouseleave:function(e){return t.onMouseOver(!1)}}},[r("div",{staticClass:"category-tree-item__label"},[t.isInteractive?r("router-link",{staticClass:"category-tree-item__link",attrs:{to:t.url,exact:""===t.item.code}},[t._v("\n            "+t._s(t.item.name)+"\n        ")]):r("span",{staticClass:"category-tree-item__link"},[t._v("\n            "+t._s(t.item.name)+"\n        ")])],1),t._v(" "),r("transition",{attrs:{name:"slide-right"}},[t.hasChildren&&(t.isHover||t.isActive)?r("ul",{staticClass:"category-tree-item__list"},t._l(t.item.items,(function(e,i){return r("category-tree-item",{key:e.id||i,staticClass:"category-tree-item__item",attrs:{item:e,depth:t.depth+1,disabled:!t.isInteractive}})})),1):t._e()])],1)}),[],!1,null,null,null).exports,k=r("MhNv"),E=r("7cXU"),P=r("sEfC"),j=r.n(P);r("Xtz6");function x(t){return function(t){if(Array.isArray(t))return R(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return R(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return R(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=t[r];return i}function I(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function A(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?I(Object(r),!0).forEach((function(e){M(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):I(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function M(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var D={name:"catalog-filter",components:{VButton:n.a,VCheck:o.a,VRange:s.a,VAccordion:k.a,VLink:E.a},data:function(){return{format:{to:function(t){return Math.round(t)},from:function(t){return Number(t)}},maxCountFilters:8,showMore:[],isExpanded:[]}},computed:A(A(A(A({},Object(b.c)(v.NAME,[g.f,g.i])),Object(b.d)(v.NAME,[v.FILTERS])),Object(b.d)("route",{type:function(t){return t.params.type},code:function(t){return t.params.code},entityCode:function(t){return t.params.entityCode}})),{},{accordionFilters:function(){var t=this;return this.filters?this.filters.map((function(e,r){return{id:e.id,item:e,title:e.title,isExpanded:t.isExpanded.find((function(t){return t.id===e.id})).state,showMore:t.showMore.find((function(t){return t.id===e.id})).state,moreMax:!!e.items&&e.items.length>=t.maxCountFilters}})):[]}}),created:function(){this.initFiltersOptions()},methods:{onRadioChange:function(t,e){var r=this.type,i=this.entityCode,n=this.code,o=this.routeSegments;o.includes(e)||o.push(e),function(t){throw new Error('"'+t+'" is read-only')}("routeSegments"),o=o.filter((function(t){return t===e}));var a=Object(y.c)(r,i,n,o);this.$router.replace({path:a})},initFiltersOptions:function(){var t=this;this.showMore=x(this.filters.map((function(e){var r=e.type,i=e.items;return{id:e.id,state:!!("check"===r&&i&&i.length>=t.maxCountFilters)}}))),this.isExpanded=x(this.filters.map((function(t){return{id:t.id,state:!0}}))),this.isExpanded.forEach((function(e){var r=e.id;t.$refs["check"+r]&&t.$refs["check"+r].parentNode.removeAttribute("style")}))},onCheckChange:function(t,e){var r=this.type,i=this.entityCode,n=this.code,o=this.routeSegments;if(t){if(o.includes(e))return;o.push(e)}else{if(!o.includes(e))return;var a=o.indexOf(e);-1!==a&&o.splice(a,1)}var s=Object(y.c)(r,i,n,o);this.$router.replace({path:s})},onShowMoreClick:function(t){var e=this.showMore.findIndex((function(e){return e.id===t})),r=this.showMore.find((function(e){return e.id===t}));this.showMore.splice(e,1,A(A({},r),{},{state:!r.state})),this.$emit("updateSticky"),this.$refs["check"+t].parentNode.removeAttribute("style")},onIsExpandedClick:function(t){var e=this.isExpanded.findIndex((function(e){return e.id===t})),r=this.isExpanded.find((function(e){return e.id===t}));this.isExpanded.splice(e,1,A(A({},r),{},{state:!r.state})),this.$emit("updateSticky")},onRangeChange:function(t,e){this.debounce_rangeChange(t,e)}},beforeMount:function(){var t=this;this.debounce_rangeChange=j()((function(e,r){for(var i=t.type,n=t.entityCode,o=t.code,a=t.routeSegments,s="".concat(r,"-from_").concat(e[0],"_to_").concat(e[1]),c=new RegExp("^".concat(r,"-")),u=-1,l=0;l<a.length;l++)if(a[l].match(c)){u=l;break}if(-1!==u){if(a[u]===s)return;a.splice(u,1,s)}else a.push(s);var d=Object(y.c)(i,n,o,a);t.$router.replace({path:d})}),500)},watch:{filters:function(){this.initFiltersOptions()},sortValue:function(t,e){t!==e&&this.$router.replace({path:this.$route.path,query:{orderField:t.field,orderDirection:t.direction}})}}},N=Object(w.a)(D,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.accordionFilters&&t.accordionFilters.length>0?r("div",{staticClass:"catalog-filter"},[r("v-accordion",{staticClass:"catalog-filter__filters",attrs:{"key-field":"id",items:t.accordionFilters,"item-expanded":function(t){return t.isExpanded},"item-toggled":function(e){return t.onIsExpandedClick(e.id)}},scopedSlots:t._u([{key:"content",fn:function(e){var i=e.item;return["range"===i.item.type?r("div",{staticClass:"catalog-filter__filters-range"},[r("v-range",{attrs:{initialValue:[i.item.min,i.item.max],value:t.filterSegments[i.item.name]||[i.item.min,i.item.max],max:i.item.max,min:i.item.min,format:t.format},on:{input:function(e){return t.onRangeChange(e,i.item.name)}}})],1):"check"===i.item.type?r("div",{ref:"check"+i.item.id,staticClass:"catalog-filter__filters-check"},[t._l(i.showMore?i.item.items.filter((function(e,r){return r<t.maxCountFilters})):i.item.items,(function(e){return r("v-check",{key:e.id,attrs:{id:i.item.name+"-"+e.id,name:i.item.name,checked:t.filterSegments[i.item.name]&&t.filterSegments[i.item.name][e.code]},on:{change:function(r){return t.onCheckChange(r,i.item.name+"-"+e.code)}}},[t._v("\n                    "+t._s(e.name)+"\n                ")])})),t._v(" "),i.moreMax?r("button",{staticClass:"catalog-filter__filters-more",on:{click:function(){return t.onShowMoreClick(i.item.id)}}},[t._v("\n                    "+t._s(i.showMore?"Показать все":"Свернуть")+"\n                ")]):t._e()],2):"radio"===i.item.type?r("div",{staticClass:"catalog-filter__filters-check"},t._l(i.item.items,(function(e){return r("v-check",{key:e.id,attrs:{id:i.item.name+"-"+e.id,type:"radio",name:i.item.name,checked:t.filterSegments[i.item.name]&&t.filterSegments[i.item.name][e.code]},on:{change:function(r){return t.onRadioChange(r,i.item.name+"-"+e.code)}}},[t._v("\n                    "+t._s(e.name)+"\n                ")])})),1):t._e()]}}],null,!1,100815019)})],1):t._e()}),[],!1,null,null,null).exports,F=r("LqtR"),B=r("NkcL"),L=r("6AGh"),H=r("3eXy"),V=r("Q2AE"),U=r("8TZ/"),$=r("0CxO"),G=r("55Sm"),W=r("jDKC"),Y=r("pZQa"),z=r("QmAe"),q=r("aXGN"),K=(r("48TQ"),r("aWaK")),J=r("fhPv"),Q=Object.freeze({PRICE:"price"}),X=r("2JJK"),Z=r("4mC1"),tt=r("Kw5r"),et=r("GN+Y");tt.default.use(et);r("4eDr"),r("+in6"),r("9bRU");function rt(t,e,r,i,n,o,a){try{var s=t[o](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(i,n)}function it(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function nt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?it(Object(r),!0).forEach((function(e){ot(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):it(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function ot(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var at={name:"catalog",components:{VSvg:i.a,VButton:n.a,VSelect:c.a,VPagination:a.a,VSticky:u.a,VExpander:l.a,Modal:d.a,Breadcrumbs:p.a,BreadcrumbItem:f.a,FilterButton:h.a,TagItem:m.a,CategoryTreeItem:T,CatalogFilter:N,CatalogProductList:B.a,CatalogBannerCard:F.a,ShowMoreButton:L.a},data:function(){var t=[{id:1,title:"Сначала подороже",field:Q.PRICE,direction:X.sortDirections.DESC},{id:2,title:"Сначала подешевле",field:Q.PRICE,direction:X.sortDirections.ASC}];return{sortValue:t[0],sortOptions:t,filterModal:!1,showMore:!1,stickyOptions:{topSpacing:60,bottomSpacing:0,containerSelector:"[data-v-sticky-container]",innerWrapperSelector:"[data-v-sticky-inner]"}}},computed:nt(nt(nt(nt(nt({},Object(b.d)([V.i])),Object(b.c)(v.NAME,[g.d,g.b,g.c,g.g,g.i,g.e])),Object(b.d)(v.NAME,[v.ITEMS,v.BANNER,v.CATEGORIES,v.PRODUCT_GROUP,v.TYPE,v.RANGE])),Object(b.d)("route",{code:function(t){return t.params.code},entityCode:function(t){return t.params.entityCode}})),{},{isBrandPage:function(){return this.type===J.d.BRANDS},isFiltersPage:function(){return this.$route.path.includes("filters")},breadcrumbRootUrl:function(){var t=this.type,e="";switch(t){case J.d.CATALOG:case J.d.NEW:e="Catalog";break;default:e="ProductGroups"}return{name:e,params:{type:t}}},isTabletLg:function(){return this.$mq.tabletLg},isTablet:function(){return this.$mq.tablet},mobileImg:function(){var t=this[v.PRODUCT_GROUP][v.BANNER]||{},e=t.mobileImage||t.tabletImage||t.desktopImage;if(e)return{webp:Object(q.c)(320,240,e.id,X.fileExtension.image.WEBP),orig:Object(q.c)(320,240,e.id)}},tabletImg:function(){var t=this[v.PRODUCT_GROUP][v.BANNER]||{},e=t.tabletImage||t.desktopImage;if(e)return{webp:Object(q.c)(768,240,e.id,X.fileExtension.image.WEBP),orig:Object(q.c)(768,240,e.id)}},desktopImg:function(){var t=this[v.PRODUCT_GROUP][v.BANNER]||{},e=t.desktopImage||t.tabletImage;if(e)return{webp:Object(q.c)(1224,240,e.id,X.fileExtension.image.WEBP),orig:Object(q.c)(1224,240,e.id)}},defaultImg:function(t){var e=this[v.PRODUCT_GROUP][v.BANNER]||{},r=e.desktopImage||e.tabletImage||e.mobileImage;if(r)return Object(q.c)(1224,240,r.id)},clearFilterUrl:function(){var t=this.type,e=this.entityCode,r=this.code;return Object(y.f)(t,e,r)},productName:function(){return Object(z.h)(this.range,["продукт","продукта","продуктов"])}}),watch:{code:function(t){var e=this[g.b];e&&H.$retailRocket.addCategoryView(e.id),this.updateSticky()},sortValue:function(t,e){t!==e&&this.$router.replace({path:this.$route.path,query:{orderField:t.field,orderDirection:t.direction}})}},methods:nt(nt(nt(nt({},Object(b.b)(v.NAME,[Y.a,Y.b])),Object(b.b)(U.c,[$.b])),Object(b.b)(G.b,[W.a])),{},{scrollTo:function(t){this.$isServer||window.scrollTo(t)},updateSticky:function(){var t=this;this.$refs.sticky._stickySidebar.updateSticky(),setTimeout((function(){t.$refs.sticky._stickySidebar.updateSticky()}),500)},generateBreadcrumbUrl:function(t){var e=this.type,r=this.entityCode;return{path:Object(y.f)(e,r,t)}},setSortValue:function(t,e){this.sortValue=this.sortOptions.find((function(r){return r.field===t&&r.direction===e}))||this.sortOptions[0]},onClickDeleteTag:function(t){var e=this.type,r=this.code,i=this.entityCode,n=this.routeSegments;if(n.includes(t)){var o=n.indexOf(t);-1!==o&&n.splice(o,1);var a=Object(y.c)(e,i,r,n);this.$router.replace({path:a})}},onShowMore:function(){this.showMore=!0,this.$router.replace({path:this.$route.path,query:nt(nt({},this.$route.query),{},{page:this.activePage+1})})},onPageChanged:function(t){this.showMore=!1,this.$router.push({path:this.$route.path,query:nt(nt({},this.$route.query),{},{page:t})})},fetchCatalog:function(t,e,r,i){var n,o=this;return(n=regeneratorRuntime.mark((function n(){var a,s,c,u,l,d,p,f,h,m,b,v,g,O,C,_,S,w,T,k;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a=t.params,s=a.code,c=a.entityCode,u=a.type,l=a.pathMatch,d=t.query,p=d.page,f=void 0===p?1:p,h=d.orderField,m=void 0===h?Q.PRICE:h,b=d.orderDirection,v=void 0===b?X.sortDirections.DESC:b,(g=e.params).code,g.entityCode,g.type,O=e.query,C=(O=void 0===O?{page:1}:O).page,_=void 0===C?1:C,S=Object(y.a)(l,s),w=S.filter,T=S.routeSegments,k=S.filterSegments,o.$progress.start(),n.next=10,o[Y.a]({type:u,entityCode:c,code:s,filter:w,routeSegments:T,filterSegments:k,page:f,orderField:m,orderDirection:v,showMore:i});case 10:o.setSortValue(m,v),o.$progress.finish(),r(),i||f===_||o.scrollTo({top:o.$refs.catalogHeader.offsetHeight,behavior:"smooth"}),i&&setTimeout((function(){return o.showMore=!1}),200),n.next=22;break;case 17:if(n.prev=17,n.t0=n.catch(0),!n.t0||!0!==n.t0.isCancel){n.next=21;break}return n.abrupt("return");case 21:o.$progress.fail();case 22:case"end":return n.stop()}}),n,null,[[0,17]])})),function(){var t=this,e=arguments;return new Promise((function(r,i){var o=n.apply(t,e);function a(t){rt(o,r,i,a,s,"next",t)}function s(t){rt(o,r,i,a,s,"throw",t)}a(void 0)}))})()}}),beforeRouteEnter:function(t,e,r){var i=t.fullPath,n=t.params,o=n.code,a=void 0===o?null:o,s=n.entityCode,c=void 0===s?null:s,u=n.type,l=n.pathMatch,d=t.query,p=(d=void 0===d?{page:1,orderField:Q.PRICE,orderDirection:X.sortDirections.DESC}:d).page,f=void 0===p?1:p,h=d.orderField,m=void 0===h?Q.PRICE:h,b=d.orderDirection,g=void 0===b?X.sortDirections.DESC:b,O=H.$store.state[v.NAME],C=O.loadPath,_=O.categoryCode,S=O.entityCode,w=O.type;if(C===i&&u===w&&a===_&&c===S)r((function(t){return t.setSortValue(m,g)}));else{var T=Object(y.a)(l,a),k=T.filter,E=T.routeSegments,P=T.filterSegments;H.$progress.start(),H.$store.dispatch("".concat(v.NAME,"/").concat(Y.a),{type:u,entityCode:c,code:a,filter:k,routeSegments:E,filterSegments:P,page:f,orderField:m,orderDirection:g}).then((function(t){H.$store.dispatch("".concat(v.NAME,"/").concat(Y.b),i),r((function(t){H.$progress.finish(),t.setSortValue(m,g),t[V.i]&&t.scrollTo({top:Z.e+1,behavior:"smooth"})}))})).catch((function(e){return e&&!0===e.isCancel?r():(H.$progress.fail(),e&&e.status===X.httpCodes.NOT_FOUND?r(Object(K.b)(t)):void r())}))}},beforeRouteUpdate:function(t,e,r){var i=t.params,n=i.code,o=i.entityCode,a=i.type,s=i.pathMatch,c=t.query,u=c.page,l=void 0===u?1:u,d=c.orderField,p=void 0===d?Q.PRICE:d,f=c.orderDirection,h=void 0===f?X.sortDirections.DESC:f,m=e.params,b=m.code,v=m.entityCode,g=m.type,y=m.pathMatch,O=e.query,C=O.page,_=void 0===C?1:C,S=O.orderField,w=void 0===S?Q.PRICE:S,T=O.orderDirection,k=void 0===T?X.sortDirections.DESC:T;if(a===g&&o===v&&n===b&&s===y&&l===_&&p===w&&h===k)return r();this.showMore?this.fetchCatalog(t,e,r,this.showMore):this.debounce_fetchCatalog(t,e,r)},beforeRouteLeave:function(t,e,r){this.debounce_fetchCatalog.cancel(),r()},beforeMount:function(){var t=this[g.b]||null;t&&H.$retailRocket.addCategoryView(t.id),this.debounce_fetchCatalog=j()(this.fetchCatalog,500)}},st=Object(w.a)(at,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"section catalog-view"},[r("div",{ref:"catalogHeader",staticClass:"container catalog-view__header"},[r("breadcrumbs",{staticClass:"catalog-view__breadcrumbs"},[r("breadcrumb-item",{key:"main",attrs:{to:"/"}},[t.isTablet?r("v-svg",{attrs:{name:"home",width:"10",height:"10"}}):r("span",[t._v("Главная")])],1),t._v(" "),r("breadcrumb-item",{key:t.type,attrs:{to:t.breadcrumbRootUrl}},[t._v(t._s(t.$t("productGroups.title."+t.type)))]),t._v(" "),t.entityCode?r("breadcrumb-item",{key:t.entityCode,attrs:{to:t.generateBreadcrumbUrl(null)}},[t._v(t._s(t.productGroup&&t.productGroup.name))]):t._e(),t._v(" "),t._l(t.breadcrumbs,(function(e){return r("breadcrumb-item",{key:e.id,attrs:{to:t.generateBreadcrumbUrl(e.code)}},[t._v(t._s(e.name))])}))],2)],1),t._v(" "),r("section",{staticClass:"section"},[r("div",{staticClass:"container catalog-view__grid",attrs:{"data-v-sticky-container":""}},[!t.isTabletLg&&t.categories.length>0?r("div",{directives:[{name:"sticky",rawName:"v-sticky",value:t.stickyOptions,expression:"stickyOptions"}],ref:"sticky",staticClass:"catalog-view__side-panel"},[r("div",{attrs:{"data-v-sticky-inner":""}},[r("ul",{staticClass:"catalog-view__side-panel-categories"},t._l(t.categories,(function(t){return r("category-tree-item",{key:t.id,staticClass:"catalog-view__side-panel-categories-item",attrs:{item:t}})})),1),t._v(" "),r("catalog-filter",{staticClass:"catalog-view__side-panel-filters",on:{updateSticky:t.updateSticky}}),t._v(" "),r("v-button",{staticClass:"btn--outline catalog-view__side-panel-clear-btn",class:!t.isFiltersPage&&"is-disabled",attrs:{to:t.clearFilterUrl,replace:""}},[t._v("\n                        Очистить фильтры\n                    ")])],1)]):t._e(),t._v(" "),r("div",{staticClass:"catalog-view__main"},[r("div",{staticClass:"catalog-view__main-header"},[r("div",{staticClass:"catalog-view__main-header-title"},[r("h1",{staticClass:"catalog-view__main-header-hl"},[t._v("\n                            "+t._s(t.activeCategory?t.activeCategory.name:"Все категории")+"\n                        ")]),t._v(" "),r("p",{staticClass:"text-grey catalog-view__main-header-text"},[t._v(t._s(t.range)+" "+t._s(t.productName))])]),t._v(" "),r("v-select",{staticClass:"catalog-view__main-header-sort",attrs:{label:"title","track-by":"id",options:t.sortOptions,searchable:!1,"allow-empty":!1,"show-labels":!1},model:{value:t.sortValue,callback:function(e){t.sortValue=e},expression:"sortValue"}}),t._v(" "),r("filter-button",{staticClass:"catalog-view__main-header-btn",on:{click:function(e){t.filterModal=!t.filterModal}}},[t._v("\n                        Фильтр и сортировка  \n                        "),r("span",{staticClass:"text-grey"},[t._v(t._s(t.activeTags.length))])])],1),t._v(" "),t.isTabletLg?t._e():r("transition-group",{staticClass:"catalog-view__main-tags",attrs:{tag:"ul",name:"tag-item"}},t._l(t.activeTags,(function(e,i){return r("tag-item",{key:e.code,attrs:{"data-index":i,text:e.name},on:{delete:function(r){return t.onClickDeleteTag(e.segment)}}})})),1),t._v(" "),r("catalog-product-list",{key:t.type,staticClass:"catalog-view__main-grid",attrs:{items:t.items,animation:!t.isTablet,fullscreen:t.categories&&0===t.categories.length}}),t._v(" "),t.pagesCount>1?r("div",{staticClass:"catalog-view__main-controls"},[t.activePage<t.pagesCount?r("show-more-button",{attrs:{"btn-class":"btn--outline catalog-view__main-controls-btn","show-preloader":t.showMore},on:{click:t.onShowMore}},[t._v("\n                        Показать ещё\n                    ")]):t._e(),t._v(" "),r("v-pagination",{attrs:{value:t.activePage,"page-count":t.pagesCount},on:{input:t.onPageChanged}})],1):t._e(),t._v(" "),t.isBrandPage?r("div",{attrs:{"data-retailrocket-markup-block":"5efdc55a97a52833a0d00baa","data-vendor":t.entityCode}}):r("div",{attrs:{"data-retailrocket-markup-block":"5efda10697a52833a0d006df","data-category-id":t.activeCategory&&t.activeCategory.id}})],1)])]),t._v(" "),r("transition",{attrs:{name:"fade-in"}},[t.filterModal&&t.isTabletLg?r("modal",{staticClass:"catalog-view__modal-filter",attrs:{"show-close-btn":!1,type:"fullscreen"},scopedSlots:t._u([{key:"body",fn:function(){return[r("v-sticky",{staticClass:"catalog-view__modal-filter-sticky",scopedSlots:t._u([{key:"sticky",fn:function(){return[r("div",{staticClass:"catalog-view__modal-filter-header"},[r("button",{staticClass:"catalog-view__modal-filter-header-btn",on:{click:function(e){t.filterModal=!1}}},[r("v-svg",{attrs:{name:"cross-small",width:"14",height:"14"}}),t._v("Фильтр\n                            ")],1)])]},proxy:!0}],null,!1,219555529)},[t._v(" "),r("div",{staticClass:"catalog-view__modal-filter-sort"},[r("div",{staticClass:"catalog-view__modal-filter-sort-title"},[t._v("Сортировка")]),t._v(" "),r("ul",{staticClass:"catalog-view__modal-filter-sort-list"},t._l(t.sortOptions,(function(e){return r("li",{key:e.title,staticClass:"catalog-view__modal-filter-sort-item",class:{"catalog-view__modal-filter-sort-item--active":e===t.sortValue}},[r("button",{staticClass:"catalog-view__modal-filter-sort-btn",on:{click:function(r){t.sortValue=e}}},[t._v("\n                                    "+t._s(e.title)+"\n                                ")])])})),0)]),t._v(" "),r("catalog-filter",{staticClass:"catalog-view__modal-filter-panel"}),t._v(" "),r("div",{staticClass:"catalog-view__modal-filter-controls"},[r("v-button",{staticClass:"btn--outline catalog-view__modal-filter-clear-btn",attrs:{to:t.clearFilterUrl,replace:""}},[t._v("\n                            Очистить\n                        ")]),t._v(" "),r("v-button",{staticClass:"catalog-view__modal-filter-close-btn",on:{click:function(e){t.filterModal=!t.filterModal}}},[t._v("\n                            Показать\n                        ")])],1)],1)]},proxy:!0}],null,!1,3714566129)}):t._e()],1)],1)}),[],!1,null,null,null);e.default=st.exports},"3bB/":function(t,e,r){"use strict";r.r(e),r.d(e,"NAME",(function(){return c})),r.d(e,"LOAD_PATH",(function(){return u})),r.d(e,"TYPE",(function(){return l})),r.d(e,"ENTITY_CODE",(function(){return d})),r.d(e,"CATEGORY_CODE",(function(){return p})),r.d(e,"BASE_CATEGORY_CODE",(function(){return f})),r.d(e,"CATEGORIES",(function(){return h})),r.d(e,"FILTERS",(function(){return m})),r.d(e,"BANNER",(function(){return b})),r.d(e,"ITEMS",(function(){return v})),r.d(e,"RANGE",(function(){return g})),r.d(e,"PRODUCT_GROUP",(function(){return y})),r.d(e,"ROUTE_SEGMENTS",(function(){return O})),r.d(e,"FILTER_SEGMENTS",(function(){return C})),r.d(e,"default",(function(){return _}));var i=r("fhPv"),n=r("pZQa"),o=r("45sr"),a=r("zUOt");function s(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var c="catalog",u="loadPath",l="type",d="entityCode",p="categoryCode",f="baseCategoryCode",h="categories",m="filters",b="banner",v="items",g="range",y="productGroup",O="routeSegments",C="filterSegments";function _(){var t;return{name:c,namespaced:!0,state:(t={},s(t,u,null),s(t,l,null),s(t,d,null),s(t,p,null),s(t,f,null),s(t,y,s({type:i.d.CATALOG,base:i.c.FILTERS,excluded_filters:[],filters:{}},b,{})),s(t,h,[]),s(t,m,[]),s(t,v,[]),s(t,g,0),s(t,O,[]),s(t,C,{}),t),actions:n.c,mutations:o.c,getters:a.j}}},"45sr":function(t,e,r){"use strict";var i;function n(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}r.d(e,"b",(function(){return o})),r.d(e,"a",(function(){return a}));var o="SET_LOAD_PATH",a="APPLY_DATA";e.c=(n(i={},o,(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";t.loadPath=e})),n(i,a,(function(t,e){Object.assign(t,e)})),i)},"9bRU":function(t,e,r){},"GN+Y":function(t,e,r){t.exports=function(){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function r(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var i,n,o=(i=".stickySidebar",n={topSpacing:0,bottomSpacing:0,containerSelector:!1,innerWrapperSelector:".inner-wrapper-sticky",stickyClass:"is-affixed",resizeSensor:!0,minWidth:!1},function(){function t(e){var r=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=t.extend(n,i),this.sidebar="string"==typeof e?document.querySelector(e):e,void 0===this.sidebar)throw new Error("There is no specific sidebar element.");this.sidebarInner=!1,this.container=this.sidebar.parentElement,this.affixedType="STATIC",this.direction="down",this.support={transform:!1,transform3d:!1},this._initialized=!1,this._reStyle=!1,this._breakpoint=!1,this.dimensions={translateY:0,maxTranslateY:0,topSpacing:0,lastTopSpacing:0,bottomSpacing:0,lastBottomSpacing:0,sidebarHeight:0,sidebarWidth:0,containerTop:0,containerHeight:0,viewportHeight:0,viewportTop:0,lastViewportTop:0},["handleEvent"].forEach((function(t){r[t]=r[t].bind(r)})),this.initialize()}var r,o,a;return r=t,a=[{key:"supportTransform",value:function(t){var e=!1,r=t?"perspective":"transform",i=r.charAt(0).toUpperCase()+r.slice(1),n=document.createElement("support").style;return(r+" "+["Webkit","Moz","O","ms"].join(i+" ")+i).split(" ").forEach((function(t,r){if(void 0!==n[t])return e=t,!1})),e}},{key:"eventTrigger",value:function(t,e,r){try{var i=new CustomEvent(e,{detail:r})}catch(t){(i=document.createEvent("CustomEvent")).initCustomEvent(e,!0,!0,r)}t.dispatchEvent(i)}},{key:"extend",value:function(t,e){var r={};for(var i in t)void 0!==e[i]?r[i]=e[i]:r[i]=t[i];return r}},{key:"offsetRelative",value:function(t){var e={left:0,top:0};do{var r=t.offsetTop,i=t.offsetLeft;isNaN(r)||(e.top+=r),isNaN(i)||(e.left+=i),t="BODY"===t.tagName?t.parentElement:t.offsetParent}while(t);return e}},{key:"addClass",value:function(e,r){t.hasClass(e,r)||(e.classList?e.classList.add(r):e.className+=" "+r)}},{key:"removeClass",value:function(e,r){t.hasClass(e,r)&&(e.classList?e.classList.remove(r):e.className=e.className.replace(new RegExp("(^|\\b)"+r.split(" ").join("|")+"(\\b|$)","gi")," "))}},{key:"hasClass",value:function(t,e){return t.classList?t.classList.contains(e):new RegExp("(^| )"+e+"( |$)","gi").test(t.className)}},{key:"defaults",get:function(){return n}}],(o=[{key:"initialize",value:function(){var t=this;if(this._setSupportFeatures(),this.options.innerWrapperSelector&&(this.sidebarInner=this.sidebar.querySelector(this.options.innerWrapperSelector),null===this.sidebarInner&&(this.sidebarInner=!1)),!this.sidebarInner){var e=document.createElement("div");for(e.setAttribute("class","inner-wrapper-sticky"),this.sidebar.appendChild(e);this.sidebar.firstChild!=e;)e.appendChild(this.sidebar.firstChild);this.sidebarInner=this.sidebar.querySelector(".inner-wrapper-sticky")}if(this.options.containerSelector){var r=document.querySelectorAll(this.options.containerSelector);if((r=Array.prototype.slice.call(r)).forEach((function(e,r){e.contains(t.sidebar)&&(t.container=e)})),!r.length)throw new Error("The container does not contains on the sidebar.")}"function"!=typeof this.options.topSpacing&&(this.options.topSpacing=parseInt(this.options.topSpacing)||0),"function"!=typeof this.options.bottomSpacing&&(this.options.bottomSpacing=parseInt(this.options.bottomSpacing)||0),this._widthBreakpoint(),this.calcDimensions(),this.stickyPosition(),this.bindEvents(),this._initialized=!0}},{key:"bindEvents",value:function(){window.addEventListener("resize",this,{passive:!0,capture:!1}),window.addEventListener("scroll",this,{passive:!0,capture:!1}),this.sidebar.addEventListener("update"+i,this),this.options.resizeSensor&&"undefined"!=typeof ResizeSensor&&(new ResizeSensor(this.sidebarInner,this.handleEvent),new ResizeSensor(this.container,this.handleEvent))}},{key:"handleEvent",value:function(t){this.updateSticky(t)}},{key:"calcDimensions",value:function(){if(!this._breakpoint){var e=this.dimensions;e.containerTop=t.offsetRelative(this.container).top,e.containerHeight=this.container.clientHeight,e.containerBottom=e.containerTop+e.containerHeight,e.sidebarHeight=this.sidebarInner.offsetHeight,e.sidebarWidth=this.sidebarInner.offsetWidth,e.viewportHeight=window.innerHeight,e.maxTranslateY=e.containerHeight-e.sidebarHeight,this._calcDimensionsWithScroll()}}},{key:"_calcDimensionsWithScroll",value:function(){var e=this.dimensions;e.sidebarLeft=t.offsetRelative(this.sidebar).left,e.viewportTop=document.documentElement.scrollTop||document.body.scrollTop,e.viewportBottom=e.viewportTop+e.viewportHeight,e.viewportLeft=document.documentElement.scrollLeft||document.body.scrollLeft,e.topSpacing=this.options.topSpacing,e.bottomSpacing=this.options.bottomSpacing,"function"==typeof e.topSpacing&&(e.topSpacing=parseInt(e.topSpacing(this.sidebar))||0),"function"==typeof e.bottomSpacing&&(e.bottomSpacing=parseInt(e.bottomSpacing(this.sidebar))||0),"VIEWPORT-TOP"===this.affixedType?e.topSpacing<e.lastTopSpacing&&(e.translateY+=e.lastTopSpacing-e.topSpacing,this._reStyle=!0):"VIEWPORT-BOTTOM"===this.affixedType&&e.bottomSpacing<e.lastBottomSpacing&&(e.translateY+=e.lastBottomSpacing-e.bottomSpacing,this._reStyle=!0),e.lastTopSpacing=e.topSpacing,e.lastBottomSpacing=e.bottomSpacing}},{key:"isSidebarFitsViewport",value:function(){var t=this.dimensions,e="down"===this.scrollDirection?t.lastBottomSpacing:t.lastTopSpacing;return this.dimensions.sidebarHeight+e<this.dimensions.viewportHeight}},{key:"observeScrollDir",value:function(){var t=this.dimensions;if(t.lastViewportTop!==t.viewportTop){var e="down"===this.direction?Math.min:Math.max;t.viewportTop===e(t.viewportTop,t.lastViewportTop)&&(this.direction="down"===this.direction?"up":"down")}}},{key:"getAffixType",value:function(){this._calcDimensionsWithScroll();var t=this.dimensions,e=t.viewportTop+t.topSpacing,r=this.affixedType;return e<=t.containerTop||t.containerHeight<=t.sidebarHeight?(t.translateY=0,r="STATIC"):r="up"===this.direction?this._getAffixTypeScrollingUp():this._getAffixTypeScrollingDown(),t.translateY=Math.max(0,t.translateY),t.translateY=Math.min(t.containerHeight,t.translateY),t.translateY=Math.round(t.translateY),t.lastViewportTop=t.viewportTop,r}},{key:"_getAffixTypeScrollingDown",value:function(){var t=this.dimensions,e=t.sidebarHeight+t.containerTop,r=t.viewportTop+t.topSpacing,i=t.viewportBottom-t.bottomSpacing,n=this.affixedType;return this.isSidebarFitsViewport()?t.sidebarHeight+r>=t.containerBottom?(t.translateY=t.containerBottom-e,n="CONTAINER-BOTTOM"):r>=t.containerTop&&(t.translateY=r-t.containerTop,n="VIEWPORT-TOP"):t.containerBottom<=i?(t.translateY=t.containerBottom-e,n="CONTAINER-BOTTOM"):e+t.translateY<=i?(t.translateY=i-e,n="VIEWPORT-BOTTOM"):t.containerTop+t.translateY<=r&&0!==t.translateY&&t.maxTranslateY!==t.translateY&&(n="VIEWPORT-UNBOTTOM"),n}},{key:"_getAffixTypeScrollingUp",value:function(){var t=this.dimensions,e=t.sidebarHeight+t.containerTop,r=t.viewportTop+t.topSpacing,i=t.viewportBottom-t.bottomSpacing,n=this.affixedType;return r<=t.translateY+t.containerTop?(t.translateY=r-t.containerTop,n="VIEWPORT-TOP"):t.containerBottom<=i?(t.translateY=t.containerBottom-e,n="CONTAINER-BOTTOM"):this.isSidebarFitsViewport()||t.containerTop<=r&&0!==t.translateY&&t.maxTranslateY!==t.translateY&&(n="VIEWPORT-UNBOTTOM"),n}},{key:"_getStyle",value:function(e){if(void 0!==e){var r={inner:{},outer:{}},i=this.dimensions;switch(e){case"VIEWPORT-TOP":r.inner={position:"fixed",top:i.topSpacing,left:i.sidebarLeft-i.viewportLeft,width:i.sidebarWidth};break;case"VIEWPORT-BOTTOM":r.inner={position:"fixed",top:"auto",left:i.sidebarLeft,bottom:i.bottomSpacing,width:i.sidebarWidth};break;case"CONTAINER-BOTTOM":case"VIEWPORT-UNBOTTOM":var n=this._getTranslate(0,i.translateY+"px");r.inner=n?{transform:n}:{position:"absolute",top:i.translateY,width:i.sidebarWidth}}switch(e){case"VIEWPORT-TOP":case"VIEWPORT-BOTTOM":case"VIEWPORT-UNBOTTOM":case"CONTAINER-BOTTOM":r.outer={height:i.sidebarHeight,position:"relative"}}return r.outer=t.extend({height:"",position:""},r.outer),r.inner=t.extend({position:"relative",top:"",left:"",bottom:"",width:"",transform:""},r.inner),r}}},{key:"stickyPosition",value:function(e){if(!this._breakpoint){e=this._reStyle||e||!1,this.options.topSpacing,this.options.bottomSpacing;var r=this.getAffixType(),n=this._getStyle(r);if((this.affixedType!=r||e)&&r){var o="affix."+r.toLowerCase().replace("viewport-","")+i;for(var a in t.eventTrigger(this.sidebar,o),"STATIC"===r?t.removeClass(this.sidebar,this.options.stickyClass):t.addClass(this.sidebar,this.options.stickyClass),n.outer){var s="number"==typeof n.outer[a]?"px":"";this.sidebar.style[a]=n.outer[a]+s}for(var c in n.inner){var u="number"==typeof n.inner[c]?"px":"";this.sidebarInner.style[c]=n.inner[c]+u}var l="affixed."+r.toLowerCase().replace("viewport-","")+i;t.eventTrigger(this.sidebar,l)}else this._initialized&&(this.sidebarInner.style.left=n.inner.left);this.affixedType=r}}},{key:"_widthBreakpoint",value:function(){window.innerWidth<=this.options.minWidth?(this._breakpoint=!0,this.affixedType="STATIC",this.sidebar.removeAttribute("style"),t.removeClass(this.sidebar,this.options.stickyClass),this.sidebarInner.removeAttribute("style")):this._breakpoint=!1}},{key:"updateSticky",value:function(){var t,e=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._running||(this._running=!0,t=r.type,requestAnimationFrame((function(){switch(t){case"scroll":e._calcDimensionsWithScroll(),e.observeScrollDir(),e.stickyPosition();break;case"resize":default:e._widthBreakpoint(),e.calcDimensions(),e.stickyPosition(!0)}e._running=!1})))}},{key:"_setSupportFeatures",value:function(){var e=this.support;e.transform=t.supportTransform(),e.transform3d=t.supportTransform(!0)}},{key:"_getTranslate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this.support.transform3d?"translate3d("+t+", "+e+", "+r+")":!!this.support.translate&&"translate("+t+", "+e+")"}},{key:"destroy",value:function(){window.removeEventListener("resize",this,{capture:!1}),window.removeEventListener("scroll",this,{capture:!1}),this.sidebar.classList.remove(this.options.stickyClass),this.sidebar.style.minHeight="",this.sidebar.removeEventListener("update"+i,this);var t={inner:{},outer:{}};for(var e in t.inner={position:"",top:"",left:"",bottom:"",width:"",transform:""},t.outer={height:"",position:""},t.outer)this.sidebar.style[e]=t.outer[e];for(var r in t.inner)this.sidebarInner.style[r]=t.inner[r];this.options.resizeSensor&&"undefined"!=typeof ResizeSensor&&(ResizeSensor.detach(this.sidebarInner,this.handleEvent),ResizeSensor.detach(this.container,this.handleEvent))}}])&&e(r.prototype,o),a&&e(r,a),t}());window.StickySidebar=o;var a=function(){var e,i="_stickySidebar",n={topSpacing:0,bottomSpacing:0,containerSelector:!1,innerWrapperSelector:"[data-v-sticky-inner]",resizeSensor:!0,stickyClass:"is-affixed",minWidth:0},a={"affix.top.stickySidebar":"affix-top","affixed.top.stickySidebar":"affixed-top","affix.bottom.stickySidebar":"affix-bottom","affixed.bottom.stickySidebar":"affixed-bottom","affix.container-bottom.stickySidebar":"affix-container-bottom","affixed.container-bottom.stickySidebar":"affixed-container-bottom","affix.unbottom.stickySidebar":"affix-unbottom","affixed.unbottom.stickySidebar":"affixed-unbottom","affix.static.stickySidebar":"affix-static","affixed.static.stickySidebar":"affixed-static"},s=function(e,i){return void 0===i||"object"===t(i)?function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter((function(t){return Object.getOwnPropertyDescriptor(i,t).enumerable})))),n.forEach((function(e){r(t,e,i[e])}))}return t}({},e,i):(console.warn("v-sticky binding must be an object, 'fallbacking' to previous option set"),e)};return{inserted:function(t,r,c){var u=s(n,r.value);c.context.$nextTick((function(){t[i]=new o(t,u),e=function(t){!function(t,e){var r=a[t.type];!function(t,e,r){var i=t.data&&t.data.on||t.componentOptions&&t.componentOptions.listeners;i&&i[e]&&i[e].fns(r)}(e,r,{evtName:r,vnode:e})}(t,c)},Object.keys(a).map((function(r){t.addEventListener(r,e)}))}))},unbind:function(t,r,n){t[i]&&(t[i].destroy(),t[i]=void 0,Object.keys(a).map((function(r){t.removeEventListener(r,e)})))},update:function(t,e,r){e.value!==e.oldValue&&(t[i].options=s(t[i].options,e.value),t[i].updateSticky())},componentUpdated:function(t,e,r){t[i]&&t[i].updateSticky()}}}(),s=function(t){t.directive("sticky",a)};return window.Vue&&Vue.use(s),a.install=s,a}()},Xtz6:function(t,e,r){},pZQa:function(t,e,r){"use strict";r.d(e,"b",(function(){return m})),r.d(e,"a",(function(){return b}));r("3eXy");var i,n=r("fhPv"),o=r("48TQ"),a=(r("W6hq"),r("Nlzp")),s=r("45sr");function c(t){return function(t){if(Array.isArray(t))return u(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return u(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=t[r];return i}function l(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function d(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?l(Object(r),!0).forEach((function(e){p(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function p(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function f(t,e,r,i,n,o,a){try{var s=t[o](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(i,n)}function h(t){return function(){var e=this,r=arguments;return new Promise((function(i,n){var o=t.apply(e,r);function a(t){f(o,i,n,a,s,"next",t)}function s(t){f(o,i,n,a,s,"throw",t)}a(void 0)}))}}var m="SET_LOAD_PATH",b="FETCH_CATALOG_DATA";e.c=(p(i={},m,(function(t,e){(0,t.commit)(s.b,e)})),p(i,"FETCH_BANNER",(function(t,e){return h(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.commit,e.prev=1,e.next=4,Object(a.T)();case 4:return r=e.sent,e.abrupt("return",r[6]);case 8:e.prev=8,e.t0=e.catch(1),Object(o.b)("FETCH_BANNER",!0)(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))()})),p(i,"FETCH_CATEGORIES",(function(t){var e=arguments;return h(regeneratorRuntime.mark((function r(){var i,n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t.commit,i=e.length>1&&void 0!==e[1]?e[1]:{},n=i.code,r.prev=2,r.next=5,Object(a.db)(n);case 5:return r.abrupt("return",r.sent);case 8:return r.prev=8,r.t0=r.catch(2),Object(o.b)("FETCH_CATEGORIES")(r.t0),r.abrupt("return",[]);case 12:case"end":return r.stop()}}),r,null,[[2,8]])})))()})),p(i,"FETCH_FILTERS",(function(t,e){return h(regeneratorRuntime.mark((function r(){var i,n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t.commit,i=e.categoryCode,n=e.excludedFilters,r.prev=2,r.next=5,Object(a.jb)(i||void 0,n||void 0);case 5:return r.abrupt("return",r.sent);case 8:return r.prev=8,r.t0=r.catch(2),Object(o.b)("FETCH_FILTERS")(r.t0),r.abrupt("return",[]);case 12:case"end":return r.stop()}}),r,null,[[2,8]])})))()})),p(i,"FETCH_ITEMS",(function(t,e){return h(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t.commit,t.state,r.prev=1,r.next=4,Object(a.ab)(e);case 4:return r.abrupt("return",r.sent);case 7:return r.prev=7,r.t0=r.catch(1),Object(o.b)("FETCH_ITEMS")(r.t0),r.abrupt("return",[]);case 11:case"end":return r.stop()}}),r,null,[[1,7]])})))()})),p(i,"FETCH_PRODUCT_GROUP",(function(t,e){return h(regeneratorRuntime.mark((function r(){var i,n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t.commit,i=e.type,n=e.entityCode,r.prev=2,r.next=5,Object(a.tb)(i,n||void 0);case 5:return r.abrupt("return",r.sent);case 8:r.prev=8,r.t0=r.catch(2),Object(o.b)("FETCH_PRODUCT_GROUP",!0)(r.t0);case 11:case"end":return r.stop()}}),r,null,[[2,8]])})))()})),p(i,b,(function(t,e){return h(regeneratorRuntime.mark((function r(){var i,o,a,u,l,p,f,h,m,b,v,g,y,O,C,_,S,w,T,k,E,P,j,x,R,I;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(i=t.state,o=t.dispatch,a=t.commit,u=e.type,l=e.entityCode,p=e.filter,f=e.routeSegments,h=e.filterSegments,m=e.page,b=e.orderField,v=e.orderDirection,g=e.showMore,y={},O=[],C=p,_=null,S=null,w=null,i.type===u&&i.entityCode===l){r.next=20;break}return r.next=11,o("FETCH_PRODUCT_GROUP",{type:u,entityCode:l});case 11:y.productGroup=r.sent,y.entityCode=l,y.type=u,_=y.productGroup.based,S=y.productGroup.excluded_filters,w=y.productGroup.filters,_===n.c.FILTERS?O.push({action:"FETCH_CATEGORIES",payload:{code:w.category}}):(y.categories=[],y.activeCategories=[]),r.next=25;break;case 20:y.productGroup=i.productGroup,y.categories=i.categories,_=i.productGroup.based,S=i.productGroup.excluded_filters,w=i.productGroup.filters;case 25:return C=d(d(d({},p),w),{},{category:p.category||w.category||null}),i.baseCategoryCode!==w.category||i.categoryCode!==p.category?_===n.c.FILTERS?(y.baseCategoryCode=w.category,y.categoryCode=p.category,O.push({action:"FETCH_FILTERS",payload:{categoryCode:C.category,excludedFilters:S}})):(y.baseCategoryCode=null,y.categoryCode=null,y.filters=[]):(y.categoryCode=i.categoryCode,y.baseCategoryCode=i.baseCategoryCode),y.routeSegments=f,y.filterSegments=h,y.page=m,O.push({action:"FETCH_ITEMS",payload:{filter:d(d({},C),{},{category:C.category||void 0}),page:m,orderField:b,orderDirection:v}}),r.next=33,Promise.all(O.map((function(t){return o(t.action,t.payload)})));case 33:T=r.sent,k=0;case 35:if(!(k<O.length)){r.next=53;break}E=O[k],P=T[k],r.t0=E.action,r.next="FETCH_CATEGORIES"===r.t0?41:"FETCH_FILTERS"===r.t0?43:"FETCH_ITEMS"===r.t0?45:49;break;case 41:return y.categories=P,r.abrupt("break",50);case 43:return y.filters=P,r.abrupt("break",50);case 45:return j=P.items,x=void 0===j?[]:j,R=P.range,I=void 0===R?0:R,y.items=g?[].concat(c(i.items),c(x)):x,y.range=I,r.abrupt("break",50);case 49:return r.abrupt("break",50);case 50:k++,r.next=35;break;case 53:a(s.a,y);case 54:case"end":return r.stop()}}),r)})))()})),i)},x3SC:function(t,e,r){},zUOt:function(t,e,r){"use strict";r.d(e,"i",(function(){return c})),r.d(e,"f",(function(){return u})),r.d(e,"d",(function(){return l})),r.d(e,"b",(function(){return d})),r.d(e,"c",(function(){return p})),r.d(e,"g",(function(){return f})),r.d(e,"a",(function(){return h})),r.d(e,"h",(function(){return m})),r.d(e,"e",(function(){return b}));var i,n=r("W6hq");r("2JJK");function o(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function a(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?o(Object(r),!0).forEach((function(e){s(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function s(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var c="routeSegments",u="filterSegments",l="activeTags",d="activeCategory",p="activePage",f="pagesCount",h="activeCategories",m="rootCategory",b="breadcrumbs";e.j=(s(i={},h,(function(t){var e=t.categories,r=t.baseCategoryCode,i=t.categoryCode;return Object(n.i)(e,i||r)})),s(i,m,(function(t,e){var r=t.baseCategoryCode;return e.activeCategories.find((function(t){return t.code===r}))})),s(i,b,(function(t,e){var r=e.rootCategory,i=e.activeCategories,n=i.indexOf(r);return-1!==n?i.slice(n+1):i})),s(i,p,(function(t,e,r){var i=r.route;return i.query.page?Number(i.query.page):1})),s(i,f,(function(t){return Math.ceil(t.range/12)})),s(i,d,(function(t,e){var r=e.activeCategories;return r[r.length-1]})),s(i,c,(function(t,e,r){var i=r.route.params.pathMatch;return i?i.split("/"):[]})),s(i,u,(function(t,e){var r=e[c];return Object(n.j)(r)})),s(i,l,(function(t,e){for(var r=[],i=t.filters.filter((function(t){return"range"!==t.type})),n=e.filterSegments,o=0;o<i.length;o++){var s=i[o];if(s.items)for(var c=0;c<s.items.length;c++){var u=s.items[c];n[s.name]&&n[s.name][u.code]&&r.push(a(a({},u),{},{segment:"".concat(s.name,"-").concat(u.code)}))}}return r})),i)}}]);