(window.webpackJsonp=window.webpackJsonp||[]).push([[64],{"+Qka":function(t,e,r){var n=r("fmRc"),i=r("t2Dn"),o=r("cq/+"),a=r("T1AV"),c=r("GoyQ"),s=r("mTTR"),u=r("itsj");t.exports=function t(e,r,l,f,d){e!==r&&o(r,(function(o,s){if(d||(d=new n),c(o))a(e,r,s,l,t,f,d);else{var p=f?f(u(e,s),o,s+"",e,r,d):void 0;void 0===p&&(p=o),i(e,s,p)}}),s)}},"/Rcj":function(t,e,r){"use strict";r.r(e);var n=r("NDiG"),i=r("i2Ud"),o=r("o3vK"),a=r("+gqB"),c=r("nuHk"),s=r("pFko"),u=r("ze5i"),l=r("cpWO"),f=r("sEfC"),d=r.n(f);r("3q5p");function p(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return h(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw o}}}}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var g={name:"v-sidebar",props:{top:{type:[Number,String],default:0},bottom:{type:[Number,String],default:0}},data:function(){return{sHeight:0,iHeight:0}},computed:{fill:function(){return this.sHeight<=this.iHeight},options:function(){return{topSpacing:Number(this.top),bottomSpacing:Number(this.bottom),containerSelector:"[data-v-sticky-container]",innerWrapperSelector:"[data-v-sticky-inner]"}}},mounted:function(){var t=this,e=this.$refs,r=e.sidebar,n=e.inner,i=d()((function(e){var n,i=p(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;o.contentRect&&(r.parentNode&&r.parentNode.offsetHeight>=r.offsetHeight?t.sHeight=r.parentNode.offsetHeight:o.contentRect.height>=r.offsetHeight?t.sHeight=o.contentRect.height:t.sHeight=r.offsetHeight,t.iHeight=o.contentRect.height)}}catch(t){i.e(t)}finally{i.f()}}),100);this.observer=new ResizeObserver(i),this.observer.observe(n),this.$nextTick((function(){t.sHeight=r.offsetHeight,t.iHeight=n.offsetHeight}))},beforeDestroy:function(){this.observer&&(this.observer.disconnect(),this.observer=null)}},v=r("KHd+"),b=Object(v.a)(g,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{directives:[{name:"sticky",rawName:"v-sticky",value:this.options,expression:"options"}],ref:"sidebar",staticClass:"v-sidebar"},[e("div",{ref:"inner",staticClass:"v-sidebar__inner",class:{fill:this.fill},attrs:{"data-v-sticky-inner":""}},[this._t("sticky")],2),this._v(" "),this._t("default")],2)}),[],!1,null,null,null).exports,m=r("YSwA"),y=r("2/Mz"),_=r("obii"),C=r("zfPd"),O=r("KLyl"),w=r("tHOl"),S=r("n4CY"),E=r("L2JU"),j=r("3bB/"),T=r("zUOt"),P=r("W6hq");r("x3SC");function A(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function R(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?A(Object(r),!0).forEach((function(e){k(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):A(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function k(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var x={name:"category-tree-item",components:{SelfRouterLink:S.a},props:{item:{type:Object,required:!0},depth:{type:Number,default:0},disabled:{type:Boolean,default:!0}},data:function(){return{isHover:!1,timer:null}},computed:R(R(R({},Object(E.d)("route",{type:function(t){return t.params.type},entityCode:function(t){return t.params.entityCode}})),Object(E.c)(j.NAME,[T.h,T.a])),{},{isActive:function(){var t=this;return(this[T.a]||[]).some((function(e){return e.code===t.item.code}))},isRoot:function(){var t=this.item.code,e=this.depth,r=this.rootCategory;return r?t===r.code:0===e},isInteractive:function(){return!this.item.disabled},url:function(){var t=this.entityCode,e=this.type,r=this.item.code,n=this.isRoot,i=this.rootCategory,o=R({},this.$route.query);return delete o.page,{path:Object(P.g)(e,t,i?!n&&r:r),query:o}},hasChildren:function(){var t=this.item.items;return Array.isArray(t)}}),methods:{onMouseOver:function(t,e){var r=this;t!==e&&(t?(clearTimeout(this.timer),this.timer=setTimeout((function(){r.isHover=!0}),600)):(clearTimeout(this.timer),this.timer=null,this.isHover=!1))}}},D=Object(v.a)(x,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("li",{staticClass:"category-tree-item",class:[{"category-tree-item--root":0===t.depth},{"category-tree-item--active":t.isInteractive&&t.isActive},{"category-tree-item--disabled":!t.isInteractive}],on:{mouseover:function(e){return t.onMouseOver(!0)},mouseleave:function(e){return t.onMouseOver(!1)}}},[r("div",{staticClass:"category-tree-item__label"},[r("self-router-link",{staticClass:"category-tree-item__link",attrs:{to:t.url,disabled:!t.isInteractive,"same-disabled":""}},[t._v("\n            "+t._s(t.item.name)+"\n        ")])],1),t._v(" "),r("transition",{attrs:{name:"slide-right"}},[t.hasChildren&&(!t.isInteractive||t.isHover||t.isActive)?r("ul",{staticClass:"category-tree-item__list"},t._l(t.item.items,(function(e,n){return r("category-tree-item",{key:e.id||n,staticClass:"category-tree-item__item",attrs:{item:e,depth:t.depth+1}})})),1):t._e()])],1)}),[],!1,null,null,null).exports,M=r("MhNv"),I=(r("okL0"),{name:"color-check-box",inheritAttrs:!1,components:{VCheck:o.a},props:{title:{type:String},name:{type:String,default:"color"},color:{type:String},disabled:{type:Boolean,default:!1}},computed:{innerStyle:function(){var t=this.color;this.disabled;return{backgroundColor:"#".concat(t)}}}}),F=Object(v.a)(I,(function(){var t=this.$createElement,e=this._self._c||t;return e("v-check",this._g(this._b({staticClass:"color-check-box",attrs:{name:this.name}},"v-check",this.$attrs,!1),this.$listeners),[e("div",{staticClass:"color-check-box__square",style:this.innerStyle,attrs:{title:this.title}})])}),[],!1,null,null,null).exports,N=r("pZQa");r("Xtz6");function H(t){return function(t){if(Array.isArray(t))return L(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return L(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return L(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function G(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function $(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?G(Object(r),!0).forEach((function(e){U(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):G(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function U(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var q={name:"catalog-filter",components:{VCheck:o.a,VRange:c.a,VAccordion:M.a,ColorCheckBox:F},data:function(){return{format:{to:function(t){return Math.round(t)},from:function(t){return Number(t)}},maxCountFilters:8}},computed:$($($($({},Object(E.c)(j.NAME,[T.f,T.i])),Object(E.d)(j.NAME,[j.FILTERS,j.FILTERS_STATE_MAP])),Object(E.d)("route",{type:function(t){return t.params.type},code:function(t){return t.params.code},entityCode:function(t){return t.params.entityCode}})),{},{accordionFilters:function(){var t=this,e=this[j.FILTERS]||[],r=this[j.FILTERS_STATE_MAP]||{};return e.map((function(e){var n=!!e.items&&e.items.length>t.maxCountFilters,i=r[e.name],o=i.isExpanded,a=i.showMore,c=n&&!a?H(e.items.slice(0,t.maxCountFilters)):e.items;return $($({},e),{},{items:c,isExpanded:o,isOverflow:n,showMore:a})}))}}),methods:$($({},Object(E.b)(j.NAME,[N.a])),{},{onRadioChange:function(t,e){var r=this.type,n=this.entityCode,i=this.code,o=this.routeSegments;o.includes(e)||o.push(e),o=o.filter((function(t){return t===e}));var a=Object(P.c)(r,n,i,o),c=$({},this.$route.query);delete c.page,this.$router.replace({path:a,query:c})},onCheckChange:function(t,e){var r=this.type,n=this.entityCode,i=this.code,o=this.routeSegments;if(t){if(o.includes(e))return;o.push(e)}else{if(!o.includes(e))return;var a=o.indexOf(e);-1!==a&&o.splice(a,1)}var c=Object(P.c)(r,n,i,o),s=$({},this.$route.query);delete s.page,this.$router.replace({path:c,query:s})},onShowMoreClick:function(t){var e=t.name,r=this[j.FILTERS_STATE_MAP]||{};this[N.a]({name:e,value:$($({},r[e]),{},{showMore:!r[e].showMore})})},onIsExpandedClick:function(t){var e=t.name,r=this[j.FILTERS_STATE_MAP]||{};this[N.a]({name:e,value:$($({},r[e]),{},{isExpanded:!r[e].isExpanded})})},onRangeChange:function(t,e){this.debounce_rangeChange(t,e)}}),beforeMount:function(){var t=this;this.debounce_rangeChange=d()((function(e,r){for(var n=t.type,i=t.entityCode,o=t.code,a=t.routeSegments,c="".concat(r,"-from_").concat(e[0],"_to_").concat(e[1]),s=new RegExp("^".concat(r,"-")),u=-1,l=0;l<a.length;l++)if(a[l].match(s)){u=l;break}if(-1!==u){if(a[u]===c)return;a.splice(u,1,c)}else a.push(c);var f=Object(P.c)(n,i,o,a),d=$({},t.$route.query);delete d.page,t.$router.replace({path:f,query:d})}),500)}},V=Object(v.a)(q,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.accordionFilters&&t.accordionFilters.length>0?r("div",{staticClass:"catalog-filter"},[r("v-accordion",{staticClass:"catalog-filter__filters",attrs:{"key-field":"name",items:t.accordionFilters,"item-show-header":function(t){return!!t.title},"item-expanded":function(t){return t.isExpanded},"item-toggled":function(e){return t.onIsExpandedClick(e)}},scopedSlots:t._u([{key:"content",fn:function(e){var n=e.item;return["range"===n.type?r("div",{staticClass:"catalog-filter__filters-range"},[r("v-range",{key:n.min+"-"+n.max,attrs:{initialValue:[n.min,n.max],value:t.filterSegments[n.name]||[n.min,n.max],max:n.max,min:n.min,format:t.format},on:{input:function(e){return t.onRangeChange(e,n.name)}}})],1):"check"===n.type?r("div",{staticClass:"catalog-filter__filters-check"},[t._l(n.items,(function(e){return r("v-check",{key:e.id,attrs:{id:n.name+"-"+e.id,name:n.name,checked:t.filterSegments[n.name]&&t.filterSegments[n.name][e.code],disabled:!!e.disabled},on:{change:function(r){return t.onCheckChange(r,n.name+"-"+e.code)}}},[t._v("\n                    "+t._s(e.name)+"\n                ")])})),t._v(" "),n.isOverflow?r("button",{staticClass:"catalog-filter__filters-more",on:{click:function(e){return t.onShowMoreClick(n)}}},[t._v("\n                    "+t._s(n.showMore?"Свернуть":"Показать все")+"\n                ")]):t._e()],2):"radio"===n.type?r("div",{staticClass:"catalog-filter__filters-check"},t._l(n.items,(function(e){return r("v-check",{key:e.id,attrs:{id:n.name+"-"+e.id,type:"radio",name:n.name,checked:t.filterSegments[n.name]&&t.filterSegments[n.name][e.code]},on:{change:function(r){return t.onRadioChange(r,n.name+"-"+e.code)}}},[t._v("\n                    "+t._s(e.name)+"\n                ")])})),1):"color"===n.type?r("div",{staticClass:"catalog-filter__filters-color"},t._l(n.items,(function(e){return r("color-check-box",{key:e.id,staticClass:"catalog-filter__filters-color-item",attrs:{id:n.name+"-"+e.id,title:e.name,color:e.code,checked:t.filterSegments[n.name]&&t.filterSegments[n.name][e.code],disabled:!!e.disabled},on:{change:function(r){return t.onCheckChange(r,n.name+"-"+e.code)}}},[t._v("\n                    "+t._s(e.name)+"\n                ")])})),1):t._e()]}}],null,!1,457026189)})],1):t._e()}),[],!1,null,null,null).exports,B=r("LqtR"),Q=r("NkcL"),Y=r("6AGh"),W=r("bEOZ"),z=r("3eXy"),Z=r("Q2AE"),J=r("Y+Aq"),K=r("8TZ/"),X=r("0CxO"),tt=r("55Sm"),et=r("jDKC"),rt=r("QmAe"),nt=r("aXGN"),it=(r("48TQ"),r("aWaK")),ot=r("fhPv"),at=r("CLHG"),ct=r("2JJK"),st=r("4mC1"),ut=r("nfjx");r("K3W8"),r("4eDr"),r("+in6"),r("9bRU");function lt(t,e,r,n,i,o,a){try{var c=t[o](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,i)}function ft(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function dt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ft(Object(r),!0).forEach((function(e){pt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ft(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function pt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var ht={name:"catalog",mixins:[ut.a],components:{VSvg:n.a,VButton:i.a,VSelect:s.a,VPagination:a.a,VSticky:u.a,VSidebar:b,VSlider:m.a,VExpander:l.a,Modal:y.a,Breadcrumbs:_.a,BreadcrumbItem:C.a,FilterButton:O.a,TagItem:w.a,CategoryTreeItem:D,CatalogFilter:V,CatalogProductList:Q.a,CatalogBannerCard:B.a,ShowMoreButton:Y.a,HistoryPanel:W.a},metaInfo:function(){var t=this.catalogTitle,e=this.activePage;return{title:e>1?"".concat(t," – страница ").concat(e):t}},data:function(){return{isMounted:!1,sortValue:null,sortOptions:[{id:1,title:"По релевантности",field:at.b.RELEVANCE,direction:ct.sortDirections.DESC},{id:2,title:"Популярное",field:at.b.POPULARITY,direction:ct.sortDirections.DESC},{id:3,title:"Сначала подороже",field:at.b.PRICE,direction:ct.sortDirections.DESC},{id:4,title:"Сначала подешевле",field:at.b.PRICE,direction:ct.sortDirections.ASC},{id:5,title:"Новинки",field:at.b.NEW,direction:ct.sortDirections.DESC},{id:6,title:"По размеру скидки",field:at.b.DISCOUNT,direction:ct.sortDirections.DESC}],filterModal:!1,showMore:!1}},computed:dt(dt(dt(dt(dt({},Object(E.d)([Z.j,Z.i])),Object(E.c)(j.NAME,[T.d,T.b,T.c,T.g,T.i,T.e])),Object(E.d)(j.NAME,[j.ITEMS,j.BANNER,j.CATEGORIES,j.PRODUCT_GROUP,j.TYPE,j.RANGE])),Object(E.d)("route",{code:function(t){return t.params.code},entityCode:function(t){return t.params.entityCode},searchQuery:function(t){return t.query.search_string}})),{},{showRecentlyViewed:function(){switch(this.type){case ot.f.PROMO:case ot.f.SETS:case ot.f.BRANDS:return!1;default:return!0}},recentlyViewed:function(){return(this[Z.i]||[]).map((function(t){t.code;var e=t.categoryCodes,r=e&&e[e.length-1];return dt(dt({},t),{},{url:r&&Object(P.j)(r,t.code)})}))},mobileImg:function(){var t=this[j.PRODUCT_GROUP][j.BANNER]||{},e=t.mobileImage||t.tabletImage||t.desktopImage;if(e)return{webp:Object(nt.c)(320,240,e.id,ct.fileExtension.image.WEBP),orig:Object(nt.c)(320,240,e.id)}},tabletImg:function(){var t=this[j.PRODUCT_GROUP][j.BANNER]||{},e=t.tabletImage||t.desktopImage;if(e)return{webp:Object(nt.c)(768,240,e.id,ct.fileExtension.image.WEBP),orig:Object(nt.c)(768,240,e.id)}},desktopImg:function(){var t=this[j.PRODUCT_GROUP][j.BANNER]||{},e=t.desktopImage||t.tabletImage;if(e)return{webp:Object(nt.c)(1224,240,e.id,ct.fileExtension.image.WEBP),orig:Object(nt.c)(1224,240,e.id)}},defaultImg:function(t){var e=this[j.PRODUCT_GROUP][j.BANNER]||{},r=e.desktopImage||e.tabletImage||e.mobileImage;if(r)return Object(nt.c)(1224,240,r.id)},clearFilterUrl:function(){var t=this.type,e=this.entityCode,r=this.code,n=dt({},this.$route.query);return delete n.page,{path:Object(P.g)(t,e,r),query:n}},productName:function(){return Object(rt.k)(this[j.RANGE],["продукт","продукта","продуктов"])},searchTitle:function(){var t=this.range,e=this.searchQuery;return t&&e?"По запросу «".concat(e,"» найдено ").concat(t," продуктов"):t&&!e?"По запросу найдено ".concat(t," продуктов"):"По запросу «".concat(e,"» ничего не найдено")},catalogTitle:function(){var t=this.type,e=(this.entityCode,this.productGroup),r=this.activeCategory,n=this.searchTitle;switch(t){case ot.f.SEARCH:return n;case ot.f.CATALOG:return r?r.name:"Все категории";default:return r?r.name:e&&e.name||"Все категории"}},categoriesBreadcrumbs:function(){var t=this.type,e=this.entityCode;return(this[T.e]||[]).map((function(r){return dt(dt({},r),{},{url:Object(P.g)(t,e,r.code)})}))},breadcrumbRootUrl:function(){var t=this.type;switch(t){case ot.f.SEARCH:return Object(P.l)(this.$route.query.search_string);default:return Object(P.i)(t)}},breadcrumbEntityUrl:function(){var t=this.type,e=this.entityCode;return Object(P.g)(t,e)},typeSortOptions:function(){var t=this.type;return this.sortOptions.filter((function(e){return t===ot.f.SEARCH||e.field!==at.b.RELEVANCE}))},isBrandPage:function(){return this.type===ot.f.BRANDS},isSearchPage:function(){return this.type===ot.f.SEARCH},isFiltersPage:function(){return this.$route.path.includes("filters")},isTabletLg:function(){return this.$mq.tabletLg},isTablet:function(){return this.$mq.tablet}}),watch:{code:function(t){var e=this[T.b];e&&z.$retailRocket.addCategoryView(e.id)}},methods:dt(dt(dt(dt(dt({},Object(E.b)([J.b])),Object(E.b)(j.NAME,[N.b,N.c])),Object(E.b)(K.c,[X.b])),Object(E.b)(tt.b,[et.a])),{},{scrollTo:function(t){this.$isServer||window.scrollTo(t)},generateBreadcrumbUrl:function(t){var e=this.type,r=this.entityCode;return{path:Object(P.g)(e,r,t)}},setSortValue:function(t,e){var r=this.typeSortOptions;this.sortValue=r.find((function(r){return r.field===t&&r.direction===e}))||r[0],this.onChangeSortValue(this.sortValue)},onChangeSortValue:function(t){if(t){var e=this.$route,r=e.params.type,n=e.query,i=n.orderField,o=void 0===i?r===ot.f.SEARCH?at.b.RELEVANCE:at.b.POPULARITY:i,a=n.orderDirection,c=void 0===a?ct.sortDirections.DESC:a,s=t.field,u=t.direction;if(s!==o||u!==c){var l=dt(dt({},this.$route.query),{},{orderField:s,orderDirection:u});delete l.page,this.$router.replace({path:this.$route.path,query:l})}}},onClickDeleteTag:function(t){var e=this.type,r=this.code,n=this.entityCode,i=this.routeSegments;if(i.includes(t)){var o=i.indexOf(t);-1!==o&&i.splice(o,1);var a=Object(P.c)(e,n,r,i),c=dt({},this.$route.query);delete c.page,this.$router.replace({path:a,query:c})}},onShowMore:function(){this.showMore=!0,this.$router.replace({path:this.$route.path,query:dt(dt({},this.$route.query),{},{page:this.activePage+1})})},onPageChanged:function(t){this.showMore=!1,this.$router.push({path:this.$route.path,query:dt(dt({},this.$route.query),{},{page:t>st.b?t:void 0})})},fetchCatalog:function(t,e,r,n){var i,o=this;return(i=regeneratorRuntime.mark((function i(){var a,c,s,u,l,f,d,p,h,g,v,b,m,y,_,C,O,w,S,E;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,a=t.params,c=a.code,s=a.entityCode,u=a.type,l=a.pathMatch,f=t.query,d=f.page,p=void 0===d?st.b:d,h=f.orderField,g=void 0===h?u===ot.f.SEARCH?at.b.RELEVANCE:at.b.POPULARITY:h,v=f.orderDirection,b=void 0===v?ct.sortDirections.DESC:v,m=f.search_string,(y=e.params).code,y.entityCode,y.type,_=e.query.page,C=void 0===_?st.b:_,O=Object(P.a)(l,c),w=O.filter,S=O.routeSegments,E=O.filterSegments,n||p===C||o.scrollTo({top:o.$refs.catalogHeader.offsetHeight,behavior:"smooth"}),o.$progress.start(),i.next=8,o[N.b]({type:u,entityCode:s,code:c,filter:w,routeSegments:S,filterSegments:E,searchString:m,page:p,orderField:g,orderDirection:b,showMore:n});case 8:r(),o.setSortValue(g,b),o.$progress.finish(),n&&setTimeout((function(){return o.showMore=!1}),200),i.next=19;break;case 14:if(i.prev=14,i.t0=i.catch(0),!i.t0||!0!==i.t0.isCancel){i.next=18;break}return i.abrupt("return");case 18:o.$progress.fail();case 19:case"end":return i.stop()}}),i,null,[[0,14]])})),function(){var t=this,e=arguments;return new Promise((function(r,n){var o=i.apply(t,e);function a(t){lt(o,r,n,a,c,"next",t)}function c(t){lt(o,r,n,a,c,"throw",t)}a(void 0)}))})()}}),beforeRouteEnter:function(t,e,r){var n=t.fullPath,i=t.params,o=i.code,a=void 0===o?null:o,c=i.entityCode,s=void 0===c?null:c,u=i.type,l=i.pathMatch,f=t.query,d=f.page,p=void 0===d?st.b:d,h=f.orderField,g=void 0===h?u===ot.f.SEARCH?at.b.RELEVANCE:at.b.POPULARITY:h,v=f.orderDirection,b=void 0===v?ct.sortDirections.DESC:v,m=f.search_string,y=z.$store.state[j.NAME],_=y.loadPath,C=y.categoryCode,O=y.entityCode,w=y.type,S=y.searchString;if(_===n&&u===w&&a===C&&s===O&&m===S)r((function(t){return t.setSortValue(g,b)}));else{var E=Object(P.a)(l,a),T=E.filter,A=E.routeSegments,R=E.filterSegments;z.$progress.start(),z.$store.dispatch("".concat(j.NAME,"/").concat(N.b),{type:u,entityCode:s,code:a,filter:T,routeSegments:A,filterSegments:R,searchString:m,page:p,orderField:g,orderDirection:b}).then((function(t){z.$store.dispatch("".concat(j.NAME,"/").concat(N.c),n),z.$progress.finish(),r((function(t){t.setSortValue(g,b),t[Z.j]&&t.scrollTo({top:st.e+1,behavior:"smooth"})}))})).catch((function(e){return e&&!0===e.isCancel?r():(z.$progress.fail(),e&&e.status===ct.httpCodes.NOT_FOUND?r(Object(it.b)(t)):void r())}))}},beforeRouteUpdate:function(t,e,r){var n=t.params,i=n.code,o=n.entityCode,a=n.type,c=n.pathMatch,s=t.query,u=s.page,l=void 0===u?st.b:u,f=s.orderField,d=void 0===f?at.b.POPULARITY:f,p=s.orderDirection,h=void 0===p?ct.sortDirections.DESC:p,g=s.search_string,v=e.params,b=v.code,m=v.entityCode,y=v.type,_=v.pathMatch,C=e.query,O=C.page,w=void 0===O?st.b:O,S=C.orderField,E=void 0===S?at.b.POPULARITY:S,j=C.orderDirection,T=void 0===j?ct.sortDirections.DESC:j,P=C.search_string;if(a===y&&o===m&&i===b&&c===_&&l===w&&d===E&&h===T&&g===P)return r();this.showMore?this.fetchCatalog(t,e,r,this.showMore):this.debounce_fetchCatalog(t,e,r)},beforeRouteLeave:function(t,e,r){this.debounce_fetchCatalog.cancel(),r()},created:function(){this.productGroupTypes=ot.f},beforeMount:function(){var t=this[T.b]||null;t&&z.$retailRocket.addCategoryView(t.id),this.debounce_fetchCatalog=d()(this.fetchCatalog,500),this[J.b]()},mounted:function(){this.isMounted=!0}},gt=Object(v.a)(ht,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"section catalog-view"},[r("div",{ref:"catalogHeader",staticClass:"container catalog-view__header"},[r("breadcrumbs",{staticClass:"container container--tablet-lg catalog-view__breadcrumbs"},[r("breadcrumb-item",{key:"main",attrs:{to:"/"}},[t.isTablet?r("v-svg",{attrs:{name:"home",width:"10",height:"10"}}):r("span",[t._v("Главная")])],1),t._v(" "),r("breadcrumb-item",{key:t.type,attrs:{to:t.breadcrumbRootUrl}},[t._v(t._s(t.$t("productGroups.title."+(t.type||"catalog"))))]),t._v(" "),t.entityCode?r("breadcrumb-item",{key:t.entityCode,attrs:{to:t.breadcrumbEntityUrl}},[t._v(t._s(t.productGroup&&t.productGroup.name))]):t._e(),t._v(" "),t._l(t.categoriesBreadcrumbs,(function(e){return r("breadcrumb-item",{key:e.id,attrs:{to:e.url,disabled:e.disabled}},[t._v(t._s(e.name))])}))],2)],1),t._v(" "),r("section",{staticClass:"section catalog-view__section--grid"},[r("div",{staticClass:"container catalog-view__grid",attrs:{"data-v-sticky-container":""}},[!t.isTabletLg&&t.categories.length>0?r("v-sidebar",{staticClass:"catalog-view__side-panel",attrs:{"container-selector":".catalog-view__grid",top:"64",bottom:"0"},scopedSlots:t._u([{key:"sticky",fn:function(){return[r("ul",{staticClass:"catalog-view__side-panel-categories"},t._l(t.categories,(function(t){return r("category-tree-item",{key:t.id,staticClass:"catalog-view__side-panel-categories-item",attrs:{item:t}})})),1),t._v(" "),r("catalog-filter",{staticClass:"catalog-view__side-panel-filters"}),t._v(" "),r("v-button",{directives:[{name:"show",rawName:"v-show",value:t.isFiltersPage,expression:"isFiltersPage"}],staticClass:"btn--outline catalog-view__side-panel-clear-btn",class:!t.isFiltersPage&&"is-disabled",attrs:{to:t.clearFilterUrl,replace:""}},[t._v("\n                        Очистить фильтры\n                    ")])]},proxy:!0}],null,!1,2788765430)}):t._e(),t._v(" "),r("div",{staticClass:"catalog-view__main"},[r("div",{staticClass:"catalog-view__main-header"},[r("div",{staticClass:"catalog-view__main-header-title"},[1===t.activePage||t.isMounted?r("h1",{staticClass:"catalog-view__main-header-hl"},[t._v("\n                            "+t._s(t.catalogTitle)+"\n                        ")]):t._e(),t._v(" "),t.type!==t.productGroupTypes.SEARCH?r("p",{staticClass:"text-grey catalog-view__main-header-text"},[t._v("\n                            "+t._s(t.range)+" "+t._s(t.productName)+"\n                        ")]):t._e()]),t._v(" "),r("v-select",{staticClass:"catalog-view__main-header-sort",attrs:{label:"title","track-by":"id",value:t.sortValue,options:t.typeSortOptions,searchable:!1,"allow-empty":!1,"show-labels":!1},on:{input:t.onChangeSortValue}}),t._v(" "),r("filter-button",{staticClass:"catalog-view__main-header-btn",on:{click:function(e){t.filterModal=!t.filterModal}}},[t._v("\n                        Фильтр и сортировка  \n                        "),r("span",{staticClass:"text-grey"},[t._v(t._s(t.activeTags.length))])])],1),t._v(" "),t.isTabletLg?t._e():r("transition-group",{staticClass:"catalog-view__main-tags",attrs:{tag:"ul",name:"tag-item"}},t._l(t.activeTags,(function(e,n){return r("tag-item",{key:e.code||e.id,attrs:{"data-index":n,text:e.name},on:{delete:function(r){return t.onClickDeleteTag(e.segment)}}})})),1),t._v(" "),r("catalog-product-list",{key:t.type,staticClass:"catalog-view__main-grid",attrs:{items:t.items,animation:!t.isTablet,fullscreen:t.categories&&0===t.categories.length}}),t._v(" "),t.pagesCount>1?r("div",{staticClass:"container containet--tablet catalog-view__main-controls"},[t.activePage<t.pagesCount?r("show-more-button",{attrs:{"btn-class":"btn--outline catalog-view__main-controls-btn","show-preloader":t.showMore},on:{click:t.onShowMore}},[t._v("\n                        Показать ещё\n                    ")]):t._e(),t._v(" "),r("v-pagination",{staticClass:"containet--tablet catalog-view__main-controls-pagination",attrs:{value:t.activePage,"page-count":t.pagesCount},on:{input:t.onPageChanged}})],1):t._e(),t._v(" "),t.isSearchPage?[t.range>0?r("div",{attrs:{"data-retailrocket-markup-block":"5f21668797a5282edc07d7c8","data-search-phrase":t.$route.query.search_string}}):r("div",{attrs:{"data-retailrocket-markup-block":"5f21669197a5282edc07d7c9","data-search-phrase":t.$route.query.search_string}})]:t.isBrandPage?r("div",{attrs:{"data-retailrocket-markup-block":"5efdc55a97a52833a0d00baa","data-vendor":t.entityCode}}):r("div",{attrs:{"data-retailrocket-markup-block":"5efda10697a52833a0d006df","data-category-id":t.activeCategory&&t.activeCategory.id}})],2)],1)]),t._v(" "),t.showRecentlyViewed&&t.recentlyViewed&&t.recentlyViewed.length>0?r("section",{staticClass:"section catalog-view__section catalog-view__history"},[r("div",{staticClass:"container catalog-view__history-container"},[r("h2",{staticClass:"container container--tablet-lg catalog-view__section-hl catalog-view__history-hl"},[t._v("\n                "+t._s(t.$t("product.title.history"))+"\n            ")]),t._v(" "),r("history-panel",{staticClass:"catalog-view__history-panel",attrs:{items:t.recentlyViewed}})],1)]):t._e(),t._v(" "),r("transition",{attrs:{name:"fade-in"}},[t.filterModal&&t.isTabletLg?r("modal",{staticClass:"catalog-view__modal-filter",attrs:{"show-close-btn":!1,type:"fullscreen"},scopedSlots:t._u([{key:"body",fn:function(){return[r("v-sticky",{staticClass:"catalog-view__modal-filter-sticky",scopedSlots:t._u([{key:"sticky",fn:function(){return[r("div",{staticClass:"catalog-view__modal-filter-header"},[r("button",{staticClass:"catalog-view__modal-filter-header-btn",on:{click:function(e){t.filterModal=!1}}},[r("v-svg",{attrs:{name:"cross-small",width:"14",height:"14"}}),t._v("Фильтр\n                            ")],1)])]},proxy:!0}],null,!1,219555529)},[t._v(" "),r("div",{staticClass:"catalog-view__modal-filter-sort"},[r("div",{staticClass:"catalog-view__modal-filter-sort-title"},[t._v("Сортировка")]),t._v(" "),r("ul",{staticClass:"catalog-view__modal-filter-sort-list"},t._l(t.typeSortOptions,(function(e){return r("li",{key:e.title,staticClass:"catalog-view__modal-filter-sort-item",class:{"catalog-view__modal-filter-sort-item--active":e===t.sortValue}},[r("button",{staticClass:"catalog-view__modal-filter-sort-btn",on:{click:function(r){return t.onChangeSortValue(e)}}},[t._v("\n                                    "+t._s(e.title)+"\n                                ")])])})),0)]),t._v(" "),r("catalog-filter",{staticClass:"catalog-view__modal-filter-panel"}),t._v(" "),r("div",{staticClass:"catalog-view__modal-filter-controls"},[r("v-button",{staticClass:"btn--outline catalog-view__modal-filter-clear-btn",attrs:{to:t.clearFilterUrl,replace:""}},[t._v("\n                            Очистить\n                        ")]),t._v(" "),r("v-button",{staticClass:"catalog-view__modal-filter-close-btn",on:{click:function(e){t.filterModal=!t.filterModal}}},[t._v("\n                            Показать "+t._s(t.range)+"\n                        ")])],1)],1)]},proxy:!0}],null,!1,3440780298)}):t._e()],1)],1)}),[],!1,null,null,null);e.default=gt.exports},"3L66":function(t,e,r){var n=r("MMmD"),i=r("ExA7");t.exports=function(t){return i(t)&&n(t)}},"3bB/":function(t,e,r){"use strict";r.r(e),r.d(e,"NAME",(function(){return s})),r.d(e,"LOAD_PATH",(function(){return u})),r.d(e,"TYPE",(function(){return l})),r.d(e,"ENTITY_CODE",(function(){return f})),r.d(e,"CATEGORY_CODE",(function(){return d})),r.d(e,"BASE_CATEGORY_CODE",(function(){return p})),r.d(e,"SEARCH_STRING",(function(){return h})),r.d(e,"CATEGORIES",(function(){return g})),r.d(e,"FILTERS",(function(){return v})),r.d(e,"BANNER",(function(){return b})),r.d(e,"ITEMS",(function(){return m})),r.d(e,"RANGE",(function(){return y})),r.d(e,"PRODUCT_GROUP",(function(){return _})),r.d(e,"ROUTE_SEGMENTS",(function(){return C})),r.d(e,"FILTER_SEGMENTS",(function(){return O})),r.d(e,"FILTERS_STATE_MAP",(function(){return w})),r.d(e,"default",(function(){return S}));var n=r("fhPv"),i=r("pZQa"),o=r("45sr"),a=r("zUOt");function c(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var s="catalog",u="loadPath",l="type",f="entityCode",d="categoryCode",p="baseCategoryCode",h="searchString",g="categories",v="filters",b="banner",m="items",y="range",_="productGroup",C="routeSegments",O="filterSegments",w="filtersStateMap";function S(){var t;return{name:s,namespaced:!0,state:(t={},c(t,u,null),c(t,l,null),c(t,f,null),c(t,d,null),c(t,p,null),c(t,h,null),c(t,_,c({type:n.f.CATALOG,base:n.d.FILTERS,excluded_filters:[],filters:{}},b,{})),c(t,g,[]),c(t,v,[]),c(t,w,{}),c(t,m,[]),c(t,y,0),c(t,C,[]),c(t,O,{}),t),actions:i.d,mutations:o.c,getters:a.j}}},"3q5p":function(t,e,r){},"45sr":function(t,e,r){"use strict";var n;function i(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function o(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?i(Object(r),!0).forEach((function(e){a(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function a(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}r.d(e,"b",(function(){return c})),r.d(e,"a",(function(){return s}));var c="SET_LOAD_PATH",s="APPLY_DATA";e.c=(a(n={},c,(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";t.loadPath=e})),a(n,s,(function(t,e){Object.assign(t,e)})),a(n,"CHANGE_FILTER_STATE",(function(t,e){var r=e.name,n=e.value;t.filtersStateMap=o(o({},t.filtersStateMap),{},a({},r,n))})),n)},"88Gu":function(t,e){var r=Date.now;t.exports=function(t){var e=0,n=0;return function(){var i=r(),o=16-(i-n);if(n=i,o>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}},"9bRU":function(t,e,r){},EA7m:function(t,e,r){var n=r("zZ0H"),i=r("Ioao"),o=r("wclG");t.exports=function(t,e){return o(i(t,e,n),t+"")}},Ioao:function(t,e,r){var n=r("heNW"),i=Math.max;t.exports=function(t,e,r){return e=i(void 0===e?t.length-1:e,0),function(){for(var o=arguments,a=-1,c=i(o.length-e,0),s=Array(c);++a<c;)s[a]=o[e+a];a=-1;for(var u=Array(e+1);++a<e;)u[a]=o[a];return u[e]=r(s),n(t,this,u)}}},JBE3:function(t,e,r){var n=r("+Qka"),i=r("LsHQ")((function(t,e,r,i){n(t,e,r,i)}));t.exports=i},LsHQ:function(t,e,r){var n=r("EA7m"),i=r("mv/X");t.exports=function(t){return n((function(e,r){var n=-1,o=r.length,a=o>1?r[o-1]:void 0,c=o>2?r[2]:void 0;for(a=t.length>3&&"function"==typeof a?(o--,a):void 0,c&&i(r[0],r[1],c)&&(a=o<3?void 0:a,o=1),e=Object(e);++n<o;){var s=r[n];s&&t(e,s,n,a)}return e}))}},T1AV:function(t,e,r){var n=r("t2Dn"),i=r("5Tg0"),o=r("yP5f"),a=r("Q1l4"),c=r("+iFO"),s=r("03A+"),u=r("Z0cm"),l=r("3L66"),f=r("DSRE"),d=r("lSCD"),p=r("GoyQ"),h=r("YO3V"),g=r("c6wG"),v=r("itsj"),b=r("jeLo");t.exports=function(t,e,r,m,y,_,C){var O=v(t,r),w=v(e,r),S=C.get(w);if(S)n(t,r,S);else{var E=_?_(O,w,r+"",t,e,C):void 0,j=void 0===E;if(j){var T=u(w),P=!T&&f(w),A=!T&&!P&&g(w);E=w,T||P||A?u(O)?E=O:l(O)?E=a(O):P?(j=!1,E=i(w,!0)):A?(j=!1,E=o(w,!0)):E=[]:h(w)||s(w)?(E=O,s(O)?E=b(O):p(O)&&!d(O)||(E=c(w))):j=!1}j&&(C.set(w,E),y(E,w,m,_,C),C.delete(w)),n(t,r,E)}}},Xtz6:function(t,e,r){},YO3V:function(t,e,r){var n=r("NykK"),i=r("LcsW"),o=r("ExA7"),a=Function.prototype,c=Object.prototype,s=a.toString,u=c.hasOwnProperty,l=s.call(Object);t.exports=function(t){if(!o(t)||"[object Object]"!=n(t))return!1;var e=i(t);if(null===e)return!0;var r=u.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&s.call(r)==l}},"cq/+":function(t,e,r){var n=r("mc0g")();t.exports=n},cvCv:function(t,e){t.exports=function(t){return function(){return t}}},heNW:function(t,e){t.exports=function(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}},itsj:function(t,e){t.exports=function(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}},jeLo:function(t,e,r){var n=r("juv8"),i=r("mTTR");t.exports=function(t){return n(t,i(t))}},mc0g:function(t,e){t.exports=function(t){return function(e,r,n){for(var i=-1,o=Object(e),a=n(e),c=a.length;c--;){var s=a[t?c:++i];if(!1===r(o[s],s,o))break}return e}}},"mv/X":function(t,e,r){var n=r("ljhN"),i=r("MMmD"),o=r("wJg7"),a=r("GoyQ");t.exports=function(t,e,r){if(!a(r))return!1;var c=typeof e;return!!("number"==c?i(r)&&o(e,r.length):"string"==c&&e in r)&&n(r[e],t)}},okL0:function(t,e,r){},pFRH:function(t,e,r){var n=r("cvCv"),i=r("O0oS"),o=r("zZ0H"),a=i?function(t,e){return i(t,"toString",{configurable:!0,enumerable:!1,value:n(e),writable:!0})}:o;t.exports=a},pZQa:function(t,e,r){"use strict";r.d(e,"c",(function(){return _})),r.d(e,"b",(function(){return C})),r.d(e,"a",(function(){return O}));var n,i=r("JBE3"),o=r.n(i),a=r("fhPv"),c=r("48TQ"),s=r("Nlzp"),u=r("45sr");function l(t){return function(t){if(Array.isArray(t))return p(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||d(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=d(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw o}}}}function d(t,e){if(t){if("string"==typeof t)return p(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(t,e):void 0}}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function h(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function g(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?h(Object(r),!0).forEach((function(e){v(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function v(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function b(t,e,r,n,i,o,a){try{var c=t[o](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,i)}function m(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){b(o,n,i,a,c,"next",t)}function c(t){b(o,n,i,a,c,"throw",t)}a(void 0)}))}}function y(t,e){return Array.isArray(t)?t.concat(e):e}var _="SET_LOAD_PATH",C="FETCH_CATALOG_DATA",O="CHANGE_FILTER_STATE";e.d=(v(n={},_,(function(t,e){(0,t.commit)(u.b,e)})),v(n,O,(function(t,e){(0,t.commit)(O,e)})),v(n,"FETCH_BANNER",(function(t,e){return m(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(s.W)();case 3:return e=t.sent,t.abrupt("return",e[6]);case 7:t.prev=7,t.t0=t.catch(0),Object(c.b)("FETCH_BANNER",!0)(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()})),v(n,"FETCH_CATEGORIES",(function(t,e){return m(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.categories,n=e.filter,t.prev=1,t.next=4,Object(s.gb)(r,null,n);case 4:return t.abrupt("return",t.sent);case 7:return t.prev=7,t.t0=t.catch(1),Object(c.b)("FETCH_CATEGORIES")(t.t0),t.abrupt("return",[]);case 11:case"end":return t.stop()}}),t,null,[[1,7]])})))()})),v(n,"FETCH_FILTERS",(function(t,e){return m(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.appliedFilters,n=e.excludedFilters,t.prev=1,t.next=4,Object(s.ob)(r,n);case 4:return t.abrupt("return",t.sent);case 7:return t.prev=7,t.t0=t.catch(1),Object(c.b)("FETCH_FILTERS")(t.t0),t.abrupt("return",[]);case 11:case"end":return t.stop()}}),t,null,[[1,7]])})))()})),v(n,"FETCH_ITEMS",(function(t,e){return m(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(s.db)(e);case 3:return t.abrupt("return",t.sent);case 6:return t.prev=6,t.t0=t.catch(0),Object(c.b)("FETCH_ITEMS")(t.t0),t.abrupt("return",[]);case 10:case"end":return t.stop()}}),t,null,[[0,6]])})))()})),v(n,"FETCH_PRODUCT_GROUP",(function(t,e){return m(regeneratorRuntime.mark((function t(){var r,n,i,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.type,n=e.entityCode,i=e.filter,t.prev=1,t.next=4,Object(s.wb)(r,n||void 0,i);case 4:return o=t.sent,t.abrupt("return",o);case 8:t.prev=8,t.t0=t.catch(1),Object(c.b)("FETCH_PRODUCT_GROUP",!0)(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})))()})),v(n,C,(function(t,e){return m(regeneratorRuntime.mark((function r(){var n,i,c,s,d,p,h,v,b,m,_,C,O,w,S,E,j,T,P,A,R,k,x,D,M,I,F,N,H,L,G,$,U,q,V,B,Q;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n=t.state,i=t.dispatch,c=t.commit,s=e.type,d=void 0===s?null:s,p=e.entityCode,h=void 0===p?null:p,v=e.filter,b=void 0===v?{}:v,m=e.routeSegments,_=e.filterSegments,C=e.searchString,O=void 0===C?null:C,w=e.page,S=e.orderField,E=e.orderDirection,j=e.showMore,T={},P=[],A=n.type!==d||n.entityCode!==h||n.searchString!==O,R=b.category,k=b,x=null,D=null,M=null,!A){r.next=22;break}return I=O?encodeURI(O):void 0,r.next=14,i("FETCH_PRODUCT_GROUP",{type:d,entityCode:h,filter:{search_string:I}});case 14:T.productGroup=r.sent,T.entityCode=h,T.type=d,x=T.productGroup.based,D=T.productGroup.excluded_filters,M=T.productGroup.filters,r.next=26;break;case 22:T.productGroup=n.productGroup,x=n.productGroup.based,D=n.productGroup.excluded_filters,M=n.productGroup.filters;case 26:return R=b.category||M.category||void 0,k=g(g({},o()(g({},b),M,y)),{},{category:R}),x===a.d.FILTERS?(A?P.push({action:"FETCH_CATEGORIES",payload:{categories:M.category_roots||[],filter:M}}):T.categories=n.categories,T.baseCategoryCode=M.category||null,T.categoryCode=b.category||null,P.push({action:"FETCH_FILTERS",payload:{appliedFilters:k,excludedFilters:D}})):(T.categories=[],T.filters=[],T.baseCategoryCode=null,T.categoryCode=null),T.searchString=O,T.routeSegments=m,T.filterSegments=_,T.page=w,P.push({action:"FETCH_ITEMS",payload:{filter:k,page:w,orderField:S,orderDirection:E}}),r.next=36,Promise.all(P.map((function(t){return i(t.action,t.payload)})));case 36:F=r.sent,N=0;case 38:if(!(N<P.length)){r.next=59;break}H=P[N],L=F[N],r.t0=H.action,r.next="FETCH_CATEGORIES"===r.t0?44:"FETCH_FILTERS"===r.t0?46:"FETCH_ITEMS"===r.t0?51:55;break;case 44:return T.categories=L,r.abrupt("break",56);case 46:T.filters=L,T.filtersStateMap={},G=f(T.filters);try{for(G.s();!($=G.n()).done;)U=$.value,T.filtersStateMap[U.name]=n.filtersStateMap[U.name]||{isExpanded:!0,showMore:!1}}catch(t){G.e(t)}finally{G.f()}return r.abrupt("break",56);case 51:return q=L.items,V=void 0===q?[]:q,B=L.range,Q=void 0===B?0:B,T.items=j?[].concat(l(n.items),l(V)):V,T.range=Q,r.abrupt("break",56);case 55:return r.abrupt("break",56);case 56:N++,r.next=38;break;case 59:c(u.a,T);case 60:case"end":return r.stop()}}),r)})))()})),n)},t2Dn:function(t,e,r){var n=r("hypo"),i=r("ljhN");t.exports=function(t,e,r){(void 0!==r&&!i(t[e],r)||void 0===r&&!(e in t))&&n(t,e,r)}},wclG:function(t,e,r){var n=r("pFRH"),i=r("88Gu")(n);t.exports=i},x3SC:function(t,e,r){},zUOt:function(t,e,r){"use strict";r.d(e,"i",(function(){return s})),r.d(e,"f",(function(){return u})),r.d(e,"d",(function(){return l})),r.d(e,"b",(function(){return f})),r.d(e,"c",(function(){return d})),r.d(e,"g",(function(){return p})),r.d(e,"a",(function(){return h})),r.d(e,"h",(function(){return g})),r.d(e,"e",(function(){return v}));var n,i=r("W6hq");function o(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function a(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?o(Object(r),!0).forEach((function(e){c(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function c(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var s="routeSegments",u="filterSegments",l="activeTags",f="activeCategory",d="activePage",p="pagesCount",h="activeCategories",g="rootCategory",v="breadcrumbs";e.j=(c(n={},h,(function(t){var e=t.categories,r=t.baseCategoryCode,n=t.categoryCode;return Object(i.n)(e,n||r)})),c(n,g,(function(t,e){var r=t.baseCategoryCode;return e.activeCategories.find((function(t){return t.code===r}))})),c(n,v,(function(t,e){var r=e.rootCategory,n=e.activeCategories,i=n.indexOf(r);return-1!==i?n.slice(i+1):n})),c(n,d,(function(t,e,r){var n=r.route;return n.query.page?Number(n.query.page):1})),c(n,p,(function(t){return Math.ceil(t.range/12)})),c(n,f,(function(t,e){var r=e.activeCategories;return r[r.length-1]})),c(n,s,(function(t,e,r){var n=r.route.params.pathMatch;return n?n.split("/").filter((function(t){return""!==t})):[]})),c(n,u,(function(t,e){var r=e[s];return Object(i.o)(r)})),c(n,l,(function(t,e){for(var r=[],n=t.filters,i=void 0===n?[]:n,o=e.filterSegments,c=void 0===o?{}:o,s=0;s<i.length;s++){var u=i[s];if(Array.isArray(u.items))for(var l=0;l<u.items.length;l++){var f=u.items[l];c[u.name]&&c[u.name][f.code]&&r.push(a(a({},f),{},{segment:"".concat(u.name,"-").concat(f.code)}))}else if("range"===u.type&&c[u.name]&&"price"===u.name){var d=c[u.name];r.push(a(a({},u),{},{name:"Цена: от ".concat(d[0]," до ").concat(d[1]),segment:"".concat(u.name,"-from_").concat(d[0],"_to_").concat(d[1])}))}}return r})),n)},zZ0H:function(t,e){t.exports=function(t){return t}}}]);