(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{"B/pr":function(e,t,n){},o1PI:function(e,t,n){"use strict";n.r(t);var r=n("NDiG"),s=n("7cXU"),o=n("PZpB"),a=n("qjh8"),i=n("VKYi"),c=n("L2JU"),d=n("55Sm"),u=n("jDKC"),l=n("rBTT"),p=n("mbF8"),f=n("h9RX"),v=n("3eXy"),b=(n("BkRI"),n("Y+p1")),h=n.n(b);n("QmAe"),n("zYMX"),n("B/pr");function _(e,t,n,r,s,o,a){try{var i=e[o](a),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,s)}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w="".concat(l.b,"/").concat(p.b),k={name:"addresses",components:{VSvg:r.a,VLink:s.a,InfoPanel:o.a,CheckoutOptionCard:a.a,AddressEditModal:i.b},computed:m({},Object(c.d)(w,[p.a]),{},Object(c.d)(d.b,{isAddressEditOpen:function(e){return e[d.a][i.a]&&e[d.a][i.a].open}}),{isTablet:function(){return this.$mq.tablet},iconSize:function(){return this.$mq.tablet?24:16}}),methods:m({},Object(c.b)(d.b,[u.a]),{},Object(c.b)(w,[f.b,f.d,f.e,f.c,f.a]),{isEqualAddress:function(e,t){return h()(e,t)},onSetDefaultAddress:function(e){e.default||this[f.c](e.id)},onAddAddress:function(){this[u.a]({name:i.a,open:!0,state:{address:{}}})},onSaveAddress:function(e){this[f.e](e)},onDeleteAddress:function(e){this[f.a](e)},onChangeAddress:function(e){this[u.a]({name:i.a,open:!0,state:{address:m({},e)}})}}),serverPrefetch:function(){var e,t=this;return(e=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t[f.b](t.$isServer);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),v.$logger.error(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})),function(){var t=this,n=arguments;return new Promise((function(r,s){var o=e.apply(t,n);function a(e){_(o,r,s,a,i,"next",e)}function i(e){_(o,r,s,a,i,"throw",e)}a(void 0)}))})()},beforeRouteEnter:function(e,t,n){if(v.$store.state[l.b][p.b].load)return n(),void v.$store.dispatch("".concat(w,"/").concat(f.d),!1);v.$progress.start(),v.$store.dispatch("".concat(w,"/").concat(f.b)).then((function(){n((function(e){v.$progress.finish()}))})).catch((function(e){v.$progress.fail(),v.$logger.error("beforeRouteEnter",e.error),v.$progress.finish(),n()}))}},y=n("KHd+"),j=Object(y.a)(k,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"section addresses-view"},[n("h2",{staticClass:"addresses-view__hl"},[e._v(e._s(e.$t("profile.routes."+e.$route.name)))]),e._v(" "),n("info-panel",{staticClass:"addresses-view__panel",attrs:{header:"Сохраненные адреса"},scopedSlots:e._u([{key:"controls",fn:function(){return[n("v-link",{staticClass:"addresses-view__panel-link",attrs:{tag:"button"},on:{click:e.onAddAddress}},[n("v-svg",{attrs:{name:"plus-small",width:e.iconSize,height:e.iconSize}}),e._v(" "),n("span",[e._v("  Добавить новый адрес")])],1)]},proxy:!0}])},[e._v(" "),n("div",{staticClass:"container container--tablet-lg"},[n("ul",{staticClass:"addresses-view__panel-list"},e._l(e.addresses,(function(t){return n("checkout-option-card",{key:t.region_guid+"-"+(t.city_guid||t.settlment_guid)+"-"+t.house,staticClass:"addresses-view__panel-item",attrs:{selected:t.default},on:{cardClick:function(n){return e.onSetDefaultAddress(t)}},scopedSlots:e._u([{key:"controls",fn:function(){return[n("v-link",{staticClass:"checkout-option-card__right-link",attrs:{tag:"button"},on:{click:function(n){return n.stopPropagation(),e.onChangeAddress(t)}}},[e._v("\n                            Изменить\n                        ")]),e._v(" "),n("v-link",{staticClass:"checkout-option-card__right-link",attrs:{tag:"button"},on:{click:function(n){return n.stopPropagation(),e.onDeleteAddress(t)}}},[e._v("\n                            Удалить\n                        ")])]},proxy:!0}],null,!0)},[e._v("\n                    "+e._s((t.city||t.settlement)+", "+(t.area?t.area+", ":"")+(t.street?t.street+", ":"")+t.house+" "+(t.block||"")+", "+t.post_index)+"\n                    ")])})),1)])]),e._v(" "),n("transition",{attrs:{name:"fade"}},[e.$isServer||e.isAddressEditOpen?n("address-edit-modal",{directives:[{name:"show",rawName:"v-show",value:e.isAddressEditOpen,expression:"isAddressEditOpen"}],on:{save:e.onSaveAddress}}):e._e()],1)],1)}),[],!1,null,null,null);t.default=j.exports}}]);