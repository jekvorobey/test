(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"9KNI":function(t,e,c){},DHLn:function(t,e,c){"use strict";c.r(e);var n,a=c("NDiG"),i=c("7cXU"),r=c("KQVR"),o=c("i2Ud"),s=c("ze5i"),u=c("4BeY"),l=c.n(u),_=c("IaFt"),p=c.n(_),h=new l.a({id:"icon-check-small",use:"icon-check-small-usage",viewBox:"0 0 10 8",content:'<symbol viewBox="0 0 10 8" fill="none" xmlns="http://www.w3.org/2000/svg" id="icon-check-small">\n    <path d="M1 4.5L4 7L9 1" stroke="#141116" />\n</symbol>'}),d=(p.a.add(h),c("9KNI"),{name:"checkout-option-card",components:{VSvg:a.a,VLink:i.a},props:{readonly:{type:Boolean,default:!1},selected:{type:Boolean,default:!1},btnText:{type:String,default:"Изменить"}},methods:{onCardClick:function(){this.$emit("cardClick")},onBtnClick:function(){this.$emit("btnClick")}}}),v=c("KHd+"),m=Object(v.a)(d,(function(){var t=this,e=t.$createElement,c=t._self._c||e;return c("li",{staticClass:"checkout-option-card",class:{"checkout-option-card--selected":t.selected},on:{click:t.onCardClick}},[c("div",{staticClass:"checkout-option-card__left"},[t._t("default")],2),t._v(" "),c("div",{staticClass:"checkout-option-card__right"},[c("v-svg",{attrs:{name:"check-small",width:"24",height:"24"}}),t._v(" "),t.readonly?t._e():c("v-link",{staticClass:"checkout-option-card__right-link",attrs:{tag:"button"},on:{click:function(e){return e.stopPropagation(),t.onBtnClick(e)}}},[t._v("\n            "+t._s(t.btnText)+"\n        ")])],1)])}),[],!1,null,null,null).exports,E=c("jYNS"),k=(c("OmJt"),{name:"checkout-product-card",components:{VSvg:a.a,VLink:i.a,VPicture:E.a},props:{name:{type:String,required:!0},image:{type:[String,Object]}}}),f=Object(v.a)(k,(function(){var t=this.$createElement,e=this._self._c||t;return e("li",{staticClass:"checkout-product-card"},[e("router-link",{staticClass:"checkout-product-card__img",attrs:{to:"/catalog"}},[this.image?e("v-picture",{attrs:{image:this.image}}):e("v-svg",{attrs:{id:"checkout-product-card-empty",name:"logo",width:"48",height:"48"}})],1),this._v("\n    "+this._s(this.name)+"\n")],1)}),[],!1,null,null,null).exports,T=c("L2JU"),C=c("BZIu"),y=c("Nlzp");function S(t,e,c){return e in t?Object.defineProperty(t,e,{value:c,enumerable:!0,configurable:!0,writable:!0}):t[e]=c,t}var D,b=(S(n={},"SET_DATA_PROP",(function(t,e){var c=e.prop,n=e.value;t.checkoutData[c]=n})),S(n,"SET_TYPE",(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t.checkoutType=e})),S(n,"SET_DATA",(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.checkoutData=e})),S(n,"SET_PAYMENT_METHODS",(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];t.paymentMethods=e})),S(n,"SET_DELIVERY_METHODS",(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];t.deliveryMethods=e})),S(n,"SET_DELIVERY_TYPES",(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];t.deliveryTypes=e})),S(n,"SET_CONFIRMATION_TYPES",(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];t.confirmationTypes=e})),S(n,"SET_ADDRESSES",(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];t.addresses=e})),S(n,"SET_PACKAGES",(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.packages=e})),n);function O(t,e,c){return e in t?Object.defineProperty(t,e,{value:c,enumerable:!0,configurable:!0,writable:!0}):t[e]=c,t}var g,P=(O(D={},"SET_DATA_PROP",(function(t,e){(0,t.commit)("SET_DATA_PROP",e)})),O(D,"FETCH_CONFIRMATION_TYPES",(function(t,e){var c=t.commit;return Object(y.i)(e).then((function(t){return c("SET_CONFIRMATION_TYPES",t)})).catch((function(t){return C.$logger.error("".concat("FETCH_CONFIRMATION_TYPES"," ").concat(t))}))})),O(D,"FETCH_PAYMENT_METHODS",(function(t,e){var c=t.commit;return Object(y.n)(e).then((function(t){return c("SET_PAYMENT_METHODS",t)})).catch((function(t){return C.$logger.error("".concat("FETCH_PAYMENT_METHODS"," ").concat(t))}))})),O(D,"FETCH_DELIVERY_TYPES",(function(t,e){var c=t.commit;return Object(y.l)(e).then((function(t){return c("SET_DELIVERY_TYPES",t)})).catch((function(t){return C.$logger.error("".concat("FETCH_DELIVERY_TYPES"," ").concat(t))}))})),O(D,"FETCH_DELIVERY_METHODS",(function(t,e){var c=t.commit;return Object(y.k)(e).then((function(t){return c("SET_DELIVERY_METHODS",t)})).catch((function(t){return C.$logger.error("".concat("FETCH_DELIVERY_METHODS"," ").concat(t))}))})),O(D,"FETCH_ADDRESSES",(function(t,e){var c=t.commit;return c("SET_ADDRESSES",[]),Object(y.h)(e).then((function(t){return c("SET_ADDRESSES",t)})).catch((function(t){return C.$logger.error("".concat("FETCH_ADDRESSES"," ").concat(t))}))})),O(D,"FETCH_PACKAGES",(function(t,e){var c=t.commit;return c("SET_PACKAGES",{}),Object(y.m)(e).then((function(t){return c("SET_PACKAGES",t)})).catch((function(t){return C.$logger.error("".concat("FETCH_PACKAGES"," ").concat(t))}))})),O(D,"FETCH_DATA",(function(t,e){var c=t.commit,n=t.dispatch;return Object(y.j)(e).then((function(t){return c("SET_TYPE",e),c("SET_DATA",t),Promise.all([n("FETCH_ADDRESSES",t.deliveryMethodID),n("FETCH_PACKAGES",t.deliveryTypeID)])})).catch((function(t){return C.$logger.error("".concat("FETCH_DATA"," ").concat(t))}))})),O(D,"FETCH_CHECKOUT_DATA",(function(t,e){var c=t.dispatch;return Promise.all([c("FETCH_DELIVERY_TYPES",e),c("FETCH_CONFIRMATION_TYPES",e),c("FETCH_DELIVERY_METHODS",e),c("FETCH_PAYMENT_METHODS",e)]).then((function(){return c("FETCH_DATA",e)}))})),D),A=c("AlLH");Object.values(A.cartItemTypes);function w(t,e,c){return e in t?Object.defineProperty(t,e,{value:c,enumerable:!0,configurable:!0,writable:!0}):t[e]=c,t}var I,j="checkout",H={name:j,namespaced:!0,state:(g={},w(g,"checkoutData",{}),w(g,"checkoutType",null),w(g,"paymentMethods",[]),w(g,"deliveryMethods",[]),w(g,"deliveryTypes",[]),w(g,"confirmationTypes",[]),w(g,"addresses",[]),w(g,"packages",{}),g),actions:P,mutations:b,getters:{}};c("I90K");function R(t,e){var c=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),c.push.apply(c,n)}return c}function F(t){for(var e=1;e<arguments.length;e++){var c=null!=arguments[e]?arguments[e]:{};e%2?R(c,!0).forEach((function(e){M(t,e,c[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(c)):R(c).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(c,e))}))}return t}function M(t,e,c){return e in t?Object.defineProperty(t,e,{value:c,enumerable:!0,configurable:!0,writable:!0}):t[e]=c,t}var $=1,Y=2,N={name:"product-checkout-panel",components:{CheckoutProductCard:f,CheckoutOptionCard:m},computed:F({},Object(T.d)(j,["checkoutData","deliveryMethods","deliveryTypes","addresses","packages"]),{},Object(T.d)(j,{isDelivery:function(t){return t.checkoutData.deliveryMethodID===$||t.checkoutData.deliveryMethodID===Y}})),watch:(I={},M(I,"checkoutData.deliveryMethodID",{handler:function(t){this.FETCH_ADDRESSES(t)}}),M(I,"checkoutData.deliveryTypeID",{handler:function(t){this.FETCH_PACKAGES(t)}}),I),methods:F({},Object(T.b)(j,["SET_DATA_PROP","FETCH_ADDRESSES","FETCH_PACKAGES"]))},V=Object(v.a)(N,(function(){var t=this,e=t.$createElement,c=t._self._c||e;return c("div",{staticClass:"product-checkout-panel"},[c("div",{staticClass:"product-checkout-panel__item"},[t._m(0),t._v(" "),c("ul",{staticClass:"product-checkout-panel__item-list"},t._l(t.checkoutData.recipients,(function(e){return c("checkout-option-card",{key:e.id,staticClass:"product-checkout-panel__item-card",attrs:{selected:t.checkoutData.recipientID===e.id},on:{cardClick:function(c){return t.SET_DATA_PROP({prop:"recipientID",value:e.id})}}},[c("p",[t._v(t._s(e.fullname))]),t._v(" "),c("p",[t._v(t._s(e.tel))]),t._v(" "),c("p",[t._v(t._s(e.email))])])})),1)]),t._v(" "),c("div",{staticClass:"product-checkout-panel__item"},[t._m(1),t._v(" "),c("ul",{staticClass:"product-checkout-panel__item-list"},t._l(t.deliveryMethods,(function(e){return c("checkout-option-card",{key:e.id,staticClass:"product-checkout-panel__item-card",attrs:{selected:t.checkoutData.deliveryMethodID===e.id,readonly:""},on:{cardClick:function(c){return t.SET_DATA_PROP({prop:"deliveryMethodID",value:e.id})}}},[c("p",{staticClass:"text-bold"},[t._v(t._s(e.title))]),t._v(" "),c("p",[t._v(t._s(e.price))]),t._v(" "),c("p",{staticClass:"text-grey text-sm"},[t._v(t._s(e.description))])])})),1)]),t._v(" "),c("div",{staticClass:"product-checkout-panel__item"},[t._m(2),t._v(" "),t.isDelivery?c("ul",{staticClass:"product-checkout-panel__item-list"},t._l(t.addresses,(function(e){return c("checkout-option-card",{key:e.id,staticClass:"product-checkout-panel__item-card",attrs:{selected:t.checkoutData.addressID===e.id},on:{cardClick:function(c){return t.SET_DATA_PROP({prop:"addressID",value:e.id})}}},[t._v("\n                "+t._s(e.description)+"\n            ")])})),1):t._e()]),t._v(" "),c("div",{staticClass:"product-checkout-panel__item"},[t._m(3),t._v(" "),c("ul",{staticClass:"product-checkout-panel__item-list"},t._l(t.deliveryTypes,(function(e){return c("checkout-option-card",{key:e.id,staticClass:"product-checkout-panel__item-card",attrs:{selected:t.checkoutData.deliveryTypeID===e.id,readonly:""},on:{cardClick:function(c){return t.SET_DATA_PROP({prop:"deliveryTypeID",value:e.id})}}},[c("p",{staticClass:"text-bold"},[t._v(t._s(e.title))]),t._v(" "),c("p",[t._v(t._s(e.description))]),t._v(" "),c("p",{staticClass:"text-grey text-sm"},[t._v(t._s(e.note))])])})),1),t._v(" "),t._l(t.packages.items,(function(e){return c("div",{key:e.id,staticClass:"product-checkout-panel__item product-checkout-panel__item--child"},[c("div",{staticClass:"product-checkout-panel__item-header"},[c("h3",{staticClass:"product-checkout-panel__item-header-hl"},[t._v(t._s(e.title))])]),t._v(" "),c("ul",{staticClass:"product-checkout-panel__item-list"},t._l(e.products,(function(t){return c("checkout-product-card",{key:t.id,staticClass:"product-checkout-panel__item-card",attrs:{name:t.name,image:t.image}})})),1)])}))],2),t._v(" "),t._m(4)])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"product-checkout-panel__item-header"},[e("h2",{staticClass:"product-checkout-panel__item-header-hl"},[this._v("Получатель")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"product-checkout-panel__item-header"},[e("h2",{staticClass:"product-checkout-panel__item-header-hl"},[this._v("Способ получения")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"product-checkout-panel__item-header"},[e("h2",{staticClass:"product-checkout-panel__item-header-hl"},[this._v("Адрес доставки")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"product-checkout-panel__item-header"},[e("h2",{staticClass:"product-checkout-panel__item-header-hl"},[this._v("Дата и время доставки")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"product-checkout-panel__item"},[e("div",{staticClass:"product-checkout-panel__item-header"},[e("h2",{staticClass:"product-checkout-panel__item-header-hl"},[this._v("Способ оплаты")])])])}],!1,null,null,null).exports,x=c("8TZ/");c("PnIt"),c("vcui");function L(t,e){var c=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),c.push.apply(c,n)}return c}function K(t){for(var e=1;e<arguments.length;e++){var c=null!=arguments[e]?arguments[e]:{};e%2?L(c,!0).forEach((function(e){B(t,e,c[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(c)):L(c).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(c,e))}))}return t}function B(t,e,c){return e in t?Object.defineProperty(t,e,{value:c,enumerable:!0,configurable:!0,writable:!0}):t[e]=c,t}var G={name:"checkout",components:{VSvg:a.a,VLink:i.a,VButton:o.a,VInput:r.a,VSticky:s.a,ProductCheckoutPanel:V},computed:K({},Object(T.d)(x.c,[x.a]),{},Object(T.d)(j,["checkoutData","checkoutType"]),{},Object(T.d)("route",{checkoutType:function(t){return t.params.type}}),{activeTabItem:function(){var t=this.$route.params.type;return this[x.a][t]||{}}}),methods:K({},Object(T.b)(j,["FETCH_ADDRESSES"])),beforeRouteEnter:function(t,e,c){!!C.$store._modulesNamespaceMap["".concat(j,"/")]||C.$store.registerModule(j,H,{preserveState:!!C.$store.state.checkout});var n=t.params.type;C.$store.state.checkout.checkoutType===n?c():(C.$progress.start(),C.$store.dispatch("".concat(j,"/").concat("FETCH_CHECKOUT_DATA"),n).then((function(){return c((function(t){return C.$progress.finish()}))})))},beforeRouteUpdate:function(t,e,c){var n=this,a=t.params.type;C.$store.state.checkout.checkoutType!==a&&(this.$progress.start(),this.$store.dispatch("".concat(j,"/").concat("FETCH_CHECKOUT_DATA"),a).then((function(){return n.$progress.finish()}))),c()},beforeRouteLeave:function(t,e,c){c()}},U=Object(v.a)(G,(function(){var t=this,e=t.$createElement,c=t._self._c||e;return c("section",{staticClass:"section checkout-view"},[c("div",{staticClass:"container"},[c("div",{staticClass:"checkout-view__header"},[c("h1",{staticClass:"checkout-view__header-hl"},[t._v("\n                Оформление заказа: Продукты\n            ")]),t._v(" "),c("v-link",{staticClass:"checkout-view__header-link",attrs:{to:"/cart"}},[c("v-svg",{attrs:{name:"arrow-small",width:"24",height:"24"}}),t._v("  Вернуться в корзину\n            ")],1)],1)]),t._v(" "),c("section",{staticClass:"section checkout-view__main"},[c("div",{staticClass:"container checkout-view__main-container"},[c("div",{staticClass:"checkout-view__main-body"},["product"===t.checkoutType?c("product-checkout-panel"):t._e()],1),t._v(" "),c("v-sticky",{staticClass:"checkout-view__main-sticky",scopedSlots:t._u([{key:"sticky",fn:function(){return[c("div",{staticClass:"checkout-view__main-panel"},[c("p",{staticClass:"text-grey checkout-view__main-panel-info"},[t._v("\n                            Внимание: мастер-классы можете оплатить после завершения оплаты продуктов\n                        ")]),t._v(" "),c("p",{staticClass:"checkout-view__main-panel-line"},[t._v("\n                            Сумма заказа: "+t._s(t.$t("cart.checkout.type."+t.activeTabItem.type))+"\n                            "),c("span",[t._v(t._s(t.activeTabItem.checkout.sum))])]),t._v(" "),c("p",{staticClass:"checkout-view__main-panel-line"},[t._v("\n                            Скидка по промокоду "),c("span",[t._v(t._s(t.activeTabItem.checkout.discount))])]),t._v(" "),c("div",{staticClass:"checkout-view__main-panel-total"},[c("p",{staticClass:"text-bold checkout-view__main-panel-line"},[t._v("\n                                Итого "),c("span",[t._v(t._s(t.activeTabItem.checkout.total))])]),t._v(" "),c("p",{staticClass:"text-grey text-sm checkout-view__main-panel-line"},[t._v("\n                                Будет начислено "),c("span",[t._v(t._s(t.activeTabItem.checkout.bonus))])])]),t._v(" "),c("div",{staticClass:"checkout-view__main-panel-promo"},[c("v-input",{staticClass:"checkout-view__main-panel-promo-input",attrs:{placeholder:"Введите промокод"}}),t._v(" "),c("v-button",{staticClass:"btn--outline checkout-view__main-panel-promo-btn"},[t._v("\n                                Применить\n                            ")])],1),t._v(" "),c("v-button",{staticClass:"checkout-view__main-panel-submit"},[t._v("\n                            Перейти к оплате\n                        ")])],1)]},proxy:!0}])})],1)]),t._v(" "),t._m(0),t._v(" "),t._m(1)])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("section",{staticClass:"section"},[e("div",{staticClass:"container"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("section",{staticClass:"section"},[e("div",{staticClass:"container"})])}],!1,null,null,null);e.default=U.exports},I90K:function(t,e,c){},OmJt:function(t,e,c){},vcui:function(t,e,c){}}]);