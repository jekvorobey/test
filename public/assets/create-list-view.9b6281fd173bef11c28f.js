(window.webpackJsonp=window.webpackJsonp||[]).push([["create-list-view"],{505:function(t,e,r){"use strict";r.r(e),r.d(e,"default",(function(){return o}));var n=r(513),i=r(25),s=function(){return r.e("item-list").then(r.bind(null,582))},u=function(t){return t.charAt(0).toUpperCase()+t.slice(1)};function o(t){return{name:"".concat(t,"-stories-view"),serverPrefetch:function(){return this.$store.registerModule("item_list",n.a),this.$store.dispatch("item_list/FETCH_LIST_DATA",{type:t})},beforeRouteEnter:function(e,r,s){!!i.$store._modulesNamespaceMap["".concat(n.a.name,"/")]||i.$store.registerModule(n.a.name,n.a,{preserveState:!!i.$store.state.item_list}),i.$progress.start(),i.$store.dispatch("item_list/FETCH_LIST_DATA",{type:t}).then((function(){s((function(){return i.$progress.finish()}))}))},title:u(t),render:function(e){return e(s,{props:{type:t}})}}}},513:function(t,e,r){"use strict";var n=r(97),i={FETCH_LIST_DATA:function(t,e){var r=t.commit,i=t.dispatch,s=e.type;return r("SET_ACTIVE_TYPE",{type:s}),Object(n.a)(s).then((function(t){return r("SET_LIST",{type:s,ids:t})})).then((function(){return i("ENSURE_ACTIVE_ITEMS")}))},ENSURE_ACTIVE_ITEMS:function(t){return(0,t.dispatch)("FETCH_ITEMS",{ids:t.getters.activeIds})},FETCH_ITEMS:function(t,e){var r=t.commit,i=t.state,s=e.ids,u=Date.now();return(s=s.filter((function(t){var e=i.items[t];return!e||u-e.__lastUpdated>18e4}))).length?Object(n.b)(s).then((function(t){return r("SET_ITEMS",{items:t})})):Promise.resolve()},FETCH_USER:function(t,e){var r=t.state,i=t.dispatch,s=e.id;return r.users[s]?Promise.resolve(r.users[s]):Object(n.c)(s).then((function(t){return i("SET_USER",{id:s,user:t})}))},SET_USER:function(t,e){var r=t.commit,i=t.state,s=e.id;return i.users[s]?Promise.resolve(i.users[s]):Object(n.c)(s).then((function(t){return r("SET_USER",{id:s,user:t})}))}},s=r(11),u={SET_ACTIVE_TYPE:function(t,e){var r=e.type;t.activeType=r},SET_LIST:function(t,e){var r=e.type,n=e.ids;t.lists[r]=n},SET_ITEMS:function(t,e){e.items.forEach((function(e){e&&s.default.set(t.items,e.id,e)}))},SET_USER:function(t,e){var r=e.id,n=e.user;s.default.set(t.users,r,n||!1)}},o={activeIds:function(t,e,r){var n=t.activeType,i=t.itemsPerPage,s=t.lists;if(!n)return[];var u=Number(r.route.params.page)||1,o=(u-1)*i,a=u*i;return s[n].slice(o,a)},activeItems:function(t,e){return e.activeIds.map((function(e){return t.items[e]})).filter((function(t){return t}))}};e.a={name:"item_list",namespaced:!0,state:{activeType:null,itemsPerPage:20,items:{},users:{},lists:{top:[],new:[],show:[],ask:[],job:[]}},actions:i,mutations:u,getters:o}}}]);