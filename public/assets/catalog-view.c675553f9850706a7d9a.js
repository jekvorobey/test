(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"/Rcj":function(t,e,a){"use strict";a.r(e);var n=a("NDiG"),i=a("i2Ud"),r=(a("o3vK"),a("+gqB")),o=(a("nuHk"),a("pFko")),s=a("ze5i"),c=(a("Jhov"),a("8AFX"),{name:"modal",components:{VSvg:n.a},props:{type:{type:String},name:{type:String},closeOnBtn:{type:Boolean,default:!0},isScrollLocked:{type:Boolean,default:!0},showCloseBtn:{type:Boolean,default:!0}},data:function(){return{clickInside:!1,lock:!1}},methods:{onPopupMouseDown:function(t){this.clickInside=!0},onPopupMouseUp:function(t){this.clickInside=!1},onClose:function(t){var e=this.$refs.popup;e&&e!==t.target&&!e.contains(t.target)&&(this.clickInside?this.clickInside=!1:this.$emit("close"))},keyDown:function(t){switch(t.key){case"Escape":this.closeOnBtn&&this.$emit("close"),t.preventDefault()}}},mounted:function(){this.lock=this.isScrollLocked,this.$refs.wrapper.focus()},beforeDestroy:function(){this.lock=!1}}),l=a("KHd+"),u=Object(l.a)(c,(function(){var t,e=this,a=e.$createElement,n=e._self._c||a;return n("div",{staticClass:"modal-mask",on:{click:e.onClose}},[n("div",{directives:[{name:"scroll-lock",rawName:"v-scroll-lock",value:e.lock,expression:"lock"}],ref:"wrapper",staticClass:"modal-wrapper",class:{"modal-wrapper--fullscreen":"fullscreen"===e.type},attrs:{tabindex:"0"},on:{keydown:e.keyDown}},[n("div",{ref:"popup",staticClass:"modal-container popup",class:(t={},t["popup--"+e.type]=e.type,t["popup--"+e.name]=e.name,t),on:{mousedown:e.onPopupMouseDown,mouseup:e.onPopupMouseUp}},[n("div",{staticClass:"modal-header popup__header"},[e._t("header")],2),e._v(" "),n("div",{staticClass:"modal-body popup__body"},[e._t("body")],2),e._v(" "),n("div",{staticClass:"modal-footer popup__footer"},[e._t("footer")],2),e._v(" "),e.showCloseBtn?n("button",{staticClass:"modal-default-button popup__close",attrs:{type:"button",title:"Закрыть"},on:{click:function(t){return e.$emit("close")}}},[n("v-svg",{attrs:{name:"cross",width:"14",height:"14"}})],1):e._e()])])])}),[],!1,null,null,null).exports,d=(a("x3SC"),a("zUOt")),p=a("L2JU");function m(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function v(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var g={name:"category-tree-item",components:{},props:{item:{type:Object,required:!0},depth:{type:Number,default:0}},data:function(){return{isHover:!1}},computed:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?m(a,!0).forEach((function(e){v(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):m(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},Object(p.c)("catalog",[d.a]),{isActive:function(){return this[d.a].includes(this.item)},url:function(){return this.item.code?"/catalog/".concat(this.item.code):"/catalog"},hasChildren:function(){return this.item&&Array.isArray(this.item.items)}}),methods:{onMouseOver:function(t){this.isHover=t}}},_=Object(l.a)(g,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{staticClass:"category-tree-item",class:[{"category-tree-item--root":0===t.depth},{"category-tree-item--active":t.isActive}],on:{mouseover:function(e){return t.onMouseOver(!0)},mouseleave:function(e){return t.onMouseOver(!1)}}},[a("div",{staticClass:"category-tree-item__label"},[void 0!==t.item.code?a("router-link",{staticClass:"category-tree-item__link",attrs:{to:t.url,exact:""===t.item.code}},[t._v("\n            "+t._s(t.item.name)+"\n        ")]):a("span",{staticClass:"category-tree-item__link"},[t._v("\n            "+t._s(t.item.name)+"\n        ")])],1),t._v(" "),a("transition",{attrs:{name:"slide-right"}},[t.hasChildren&&(t.isHover||t.isActive)?a("ul",{staticClass:"category-tree-item__list"},t._l(t.item.items,(function(e,n){return a("category-tree-item",{key:e.id||n,staticClass:"category-tree-item__item",attrs:{item:e,depth:t.depth+1}})})),1):t._e()])],1)}),[],!1,null,null,null).exports,f=a("0OV/"),b=a("/Q9p"),h=a("LqtR"),C=a("W6hq"),y=a("3bB/"),w=a("pZQa"),k=a("BZIu"),O=a("sEfC"),x=a.n(O),P=a("4BeY"),j=a.n(P),$=a("IaFt"),L=a.n($),D=new j.a({id:"icon-filter",use:"icon-filter-usage",viewBox:"0 0 18 14",content:'<symbol viewBox="0 0 18 14" xmlns="http://www.w3.org/2000/svg" id="icon-filter">\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M1 10C0.447715 10 -1.55275e-07 10.4477 -1.31134e-07 11C-1.06993e-07 11.5523 0.447715 12 1 12L13 12L13 13C13 13.5523 13.4477 14 14 14C14.5523 14 15 13.5523 15 13L15 12L17 12C17.5523 12 18 11.5523 18 11C18 10.4477 17.5523 10 17 10L15 10L15 9C15 8.44771 14.5523 8 14 8C13.4477 8 13 8.44771 13 9L13 10L1 10ZM1 2C0.447715 2 -5.04966e-07 2.44771 -4.80825e-07 3C-4.56684e-07 3.55228 0.447715 4 1 4L3 4L3 5C3 5.55228 3.44772 6 4 6C4.55228 6 5 5.55228 5 5L5 4L17 4C17.5523 4 18 3.55228 18 3C18 2.44771 17.5523 2 17 2L5 2L5 0.999999C5 0.447715 4.55228 -1.15266e-06 4 -1.12852e-06C3.44772 -1.10438e-06 3 0.447715 3 0.999999L3 2L1 2Z" />\n</symbol>'});L.a.add(D),a("4eDr"),a("9bRU");function S(t,e,a,n,i,r,o){try{var s=t[r](o),c=s.value}catch(t){return void a(t)}s.done?e(c):Promise.resolve(c).then(n,i)}function A(t){return function(){var e=this,a=arguments;return new Promise((function(n,i){var r=t.apply(e,a);function o(t){S(r,n,i,o,s,"next",t)}function s(t){S(r,n,i,o,s,"throw",t)}o(void 0)}))}}function M(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function B(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?M(a,!0).forEach((function(e){E(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):M(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function E(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var I,T="".concat(y.d.name,"/").concat(w.a),V=0,R={name:"catalog",components:{VSvg:n.a,VButton:i.a,VSelect:o.a,VPagination:r.a,VSticky:s.a,Modal:u,CategoryTreeItem:_,CatalogFilter:f.a,CatalogProductCard:b.a,CatalogBannerCard:h.a},data:function(){var t=["Сначала подороже","Сначала подешевле","Популярное Новинки","По размеру скидки","С высоким рейтингом"];return{sortValue:t[0],sortOptions:t,filterModal:!1}},computed:B({},Object(p.c)(y.d.name,[d.d,d.b,d.c,d.e,d.f,d.a]),{},Object(p.d)(y.d.name,[y.c,y.a,y.b]),{},Object(p.d)("route",{code:function(t){return t.params.code}}),{isTabletLg:function(){return this.$mq.tabletLg}}),methods:B({},Object(p.b)(y.d.name,[w.b,w.a]),{onBeforeEnterItems:function(t){t.dataset.index=V,V+=1,t.style.opacity=0},itemAnimation:function(t,e){return new Promise((function(a,n){try{setTimeout((function(){requestAnimationFrame((function(){t.style.opacity=1,a()}))}),e)}catch(t){n(t)}}))},onEnterItems:(I=A(regeneratorRuntime.mark((function t(e,a){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=100*e.dataset.index,t.next=3,this.itemAnimation(e,n);case 3:a();case 4:case"end":return t.stop()}}),t,this)}))),function(t,e){return I.apply(this,arguments)}),onAfterEnterItems:function(t){delete t.dataset.index,V=0},onLeaveItems:function(t,e){requestAnimationFrame((function(){t.style.opacity=0,e()}))},onClickDeleteTag:function(t){var e=this.routeSegments,a=this.code;if(e.includes(t)){var n=e.indexOf(t);-1!==n&&e.splice(n,1),this.$router.replace({path:Object(C.a)(a,e)})}}}),beforeRouteEnter:function(t,e,a){var n=t.params.code;!!k.$store._modulesNamespaceMap["".concat(y.d.name,"/")]||k.$store.registerModule(y.d.name,y.d,{preserveState:!!k.$store.state.catalog}),k.$store.state.catalog.categoryCode===n?a():(k.$progress.start(),k.$store.dispatch(T,{code:n}).then((function(){return a((function(t){return k.$progress.finish()}))})).catch((function(t){k.$progress.fail(),k.$logger.error(t)})))},beforeRouteUpdate:function(t,e,a){this.debounce_fetchCatalog(t,e),a()},beforeMount:function(){var t=this;this.debounce_fetchCatalog=x()(function(){var e=A(regeneratorRuntime.mark((function e(a,n){var i,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,i=t.$store.state.catalog.categoryCode,r=a.params.code,t.$progress.start(),i===r){e.next=9;break}return e.next=7,t[w.a]({code:r});case 7:e.next=11;break;case 9:return e.next=11,t[w.b]({code:r});case 11:t.$progress.finish(),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),k.$logger.error("debounce_fetchCatalog",e.t0),t.$progress.fail();case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t,a){return e.apply(this,arguments)}}(),500)}};a.d(e,"DISPATCH_FETCH_CATALOG_DATA",(function(){return T}));var q=Object(l.a)(R,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"section catalog-view"},[a("div",{staticClass:"container catalog-view__header"},[a("transition-group",{staticClass:"section catalog-view__breadcrumbs",attrs:{tag:"ol",name:"fade-in"}},[a("li",{key:"main",staticClass:"catalog-view__breadcrumbs-item"},[a("router-link",{staticClass:"catalog-view__breadcrumbs-link",attrs:{to:"/"}},[t._v(t._s("Главная"))])],1),t._v(" "),a("li",{key:"all",staticClass:"catalog-view__breadcrumbs-item"},[a("router-link",{staticClass:"catalog-view__breadcrumbs-link",attrs:{to:"/catalog"}},[t._v(t._s("Каталог"))])],1),t._v(" "),t._l(t.activeCategories,(function(e){return a("li",{key:e.id,staticClass:"catalog-view__breadcrumbs-item"},[a("router-link",{staticClass:"catalog-view__breadcrumbs-link",attrs:{to:"/catalog/"+e.code}},[t._v(t._s(e.name))])],1)}))],2),t._v(" "),a("catalog-banner-card",{staticClass:"catalog-view__banner",attrs:{"banner-id":t.banner.id,image:t.banner.image,"upper-text":t.banner.upperText,"bottom-text":t.banner.bottomText,title:t.banner.title,"btn-text":t.banner.btnText}})],1),t._v(" "),a("section",{staticClass:"section"},[a("div",{staticClass:"container catalog-view__grid"},[a("div",{staticClass:"catalog-view__side-panel"},[a("ul",{staticClass:"catalog-view__side-panel-categories"},t._l(t.categories,(function(t){return a("category-tree-item",{key:t.id,staticClass:"catalog-view__side-panel-categories-item",attrs:{item:t}})})),1),t._v(" "),a("catalog-filter",{staticClass:"catalog-view__side-panel-filters"})],1),t._v(" "),a("div",{staticClass:"catalog-view__main"},[a("div",{staticClass:"catalog-view__main-header"},[a("div",{staticClass:"catalog-view__main-header-title"},[a("h1",{staticClass:"catalog-view__main-header-hl"},[t._v("\n                            "+t._s(t.activeCategory?t.activeCategory.name:"Каталог")+"\n                        ")]),t._v(" "),a("p",{staticClass:"text-grey catalog-view__main-header-text"},[t._v("489 товаров")])]),t._v(" "),a("v-select",{staticClass:"catalog-view__main-header-sort",attrs:{options:t.sortOptions,searchable:!1},model:{value:t.sortValue,callback:function(e){t.sortValue=e},expression:"sortValue"}}),t._v(" "),a("v-button",{staticClass:"catalog-view__main-header-btn",on:{click:function(e){t.filterModal=!t.filterModal}}},[a("span",[t._v("\n                            Фильтр и сортировка  \n                            "),a("span",{staticClass:"text-grey"},[t._v(t._s(t.activeTags.length))])]),t._v(" "),a("v-svg",{attrs:{id:"catalog-filter-icon",name:"filter",width:"18",height:"14"}})],1)],1),t._v(" "),a("transition-group",{staticClass:"catalog-view__main-tags",attrs:{tag:"ul",name:"tag-item"}},t._l(t.activeTags,(function(e,n){return a("li",{key:e.code,staticClass:"catalog-view__main-tags-item",attrs:{"data-index":n}},[t._v("\n                        "+t._s(e.name)+" \n                        "),a("button",{staticClass:"catalog-view__main-tags-delete-btn",on:{click:function(a){return t.onClickDeleteTag(e.code)}}},[a("v-svg",{attrs:{name:"cross-small",width:"10",height:"10"}})],1)])})),0),t._v(" "),a("transition-group",{staticClass:"catalog-view__main-grid",attrs:{tag:"ul",name:"catalog-item"},on:{"before-enter":t.onBeforeEnterItems,enter:t.onEnterItems,"after-enter":t.onAfterEnterItems,leave:t.onLeaveItems}},t._l(t.items,(function(e){var n;return a("li",{key:e.id+"-"+e.type,staticClass:"catalog-view__main-grid-item",class:(n={},n["catalog-view__main-grid-item--"+e.type]=e.type,n)},["product"===e.type?a("catalog-product-card",{staticClass:"catalog-view__main-grid-card",attrs:{"product-id":e.id,name:e.name,href:"/catalog"+(t.activeCategory?"/"+t.activeCategory.code:"")+"/"+e.code,image:e.image,price:e.price,"old-price":e.oldPrice,tags:e.tags,rating:e.rating}}):"banner"===e.type?a("catalog-banner-card",{staticClass:"catalog-view__main-grid-card",attrs:{"banner-id":e.id,title:e.title,image:e.image,"upper-text":e.upperText,"btn-text":e.btnText}}):t._e()],1)})),0),t._v(" "),t.pagesCount>1?a("div",{staticClass:"catalog-view__main-controls"},[t.activePage<t.pagesCount?a("v-button",{staticClass:"btn--outline catalog-view__main-controls-btn",attrs:{to:{path:t.$route.path,query:{page:t.activePage+1}}}},[t._v("\n                        Показать ещё\n                    ")]):t._e(),t._v(" "),a("v-pagination",{attrs:{value:t.activePage,"page-count":t.pagesCount},on:{input:function(e){return t.$router.push({path:t.$route.path,query:{page:e}})}}})],1):t._e()],1)])]),t._v(" "),a("transition",{attrs:{name:"fade-in"}},[t.filterModal&&t.isTabletLg?a("modal",{staticClass:"catalog-view__modal-filter",attrs:{"show-close-btn":!1,type:"fullscreen"},scopedSlots:t._u([{key:"body",fn:function(){return[a("v-sticky",{staticClass:"catalog-view__modal-filter-sticky",scopedSlots:t._u([{key:"sticky",fn:function(){return[a("div",{staticClass:"catalog-view__modal-filter-header"},[a("button",{staticClass:"catalog-view__modal-filter-header-btn",on:{click:function(e){t.filterModal=!1}}},[a("v-svg",{attrs:{name:"cross-small",width:"14",height:"14"}}),t._v("Фильтр\n                            ")],1)])]},proxy:!0}],null,!1,219555529)},[t._v(" "),a("div",{staticClass:"catalog-view__modal-filter-sort"},[a("div",{staticClass:"catalog-view__modal-filter-sort-title"},[t._v("Сортировка")]),t._v(" "),a("ul",{staticClass:"catalog-view__modal-filter-sort-list"},t._l(t.sortOptions,(function(e){return a("li",{key:e,staticClass:"catalog-view__modal-filter-sort-item",class:{"catalog-view__modal-filter-sort-item--active":e===t.sortValue}},[a("button",{staticClass:"catalog-view__modal-filter-sort-btn",on:{click:function(a){t.sortValue=e}}},[t._v("\n                                    "+t._s(e)+"\n                                ")])])})),0)]),t._v(" "),a("catalog-filter",{staticClass:"catalog-view__modal-filter-panel"})],1)]},proxy:!0}],null,!1,2457982918)}):t._e()],1)],1)}),[],!1,null,null,null);e.default=q.exports},"8AFX":function(t,e,a){},"9bRU":function(t,e,a){},x3SC:function(t,e,a){}}]);