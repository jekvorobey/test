(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{"/Rcj":function(t,e,a){"use strict";a.r(e);var r,n=a("NDiG"),i=a("i2Ud"),o=a("o3vK"),c=a("+gqB"),s=a("nuHk"),l=a("pFko"),u=a("ze5i"),d=a("wo+G"),m=a("2/Mz"),f=a("tHOl"),g=(a("x3SC"),a("W6hq"));function p(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var v=(p(r={},"activeCategories",(function(t,e,a){for(var r=t.categories,n=a.route.params.code,i=[],o=null,c=0;c<r.length;c++){var s=r[c];if(o=Object(g.b)(n,s,i)){i.unshift(o);break}}return i})),p(r,"activePage",(function(t,e,a){var r=a.route;return r.query.page?Number(r.query.page):1})),p(r,"pagesCount",(function(t){return Math.ceil(t.range/12)})),p(r,"activeCategory",(function(t,e){var a=e.activeCategories;return a[a.length-1]})),p(r,"routeSegments",(function(t,e,a){var r=a.route.params.pathMatch;return r?r.split("/"):[]})),p(r,"filterSegments",(function(t,e){var a=e.routeSegments;return Object(g.c)(a)})),p(r,"activeTags",(function(t,e){for(var a=[],r=t.filters.filter((function(t){return"range"!==t.type})),n=e.filterSegments,i=0;i<r.length;i++)for(var o=r[i],c=0;c<o.items.length;c++){var s=o.items[c];n[o.name]&&n[o.name][s.code]&&a.push(s)}return a})),r),_=a("L2JU");function h(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function b(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var C={name:"category-tree-item",components:{},props:{item:{type:Object,required:!0},depth:{type:Number,default:0}},data:function(){return{isHover:!1}},computed:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?h(Object(a),!0).forEach((function(e){b(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):h(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},Object(_.c)("catalog",["activeCategories"]),{isActive:function(){return this.activeCategories.includes(this.item)},url:function(){return this.item.code?"/catalog/".concat(this.item.code):"/catalog"},hasChildren:function(){return this.item&&Array.isArray(this.item.items)}}),methods:{onMouseOver:function(t){this.isHover=t}}},y=a("KHd+"),O=Object(y.a)(C,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{staticClass:"category-tree-item",class:[{"category-tree-item--root":0===t.depth},{"category-tree-item--active":t.isActive}],on:{mouseover:function(e){return t.onMouseOver(!0)},mouseleave:function(e){return t.onMouseOver(!1)}}},[a("div",{staticClass:"category-tree-item__label"},[void 0!==t.item.code?a("router-link",{staticClass:"category-tree-item__link",attrs:{to:t.url,exact:""===t.item.code}},[t._v("\n            "+t._s(t.item.name)+"\n        ")]):a("span",{staticClass:"category-tree-item__link"},[t._v("\n            "+t._s(t.item.name)+"\n        ")])],1),t._v(" "),a("transition",{attrs:{name:"slide-right"}},[t.hasChildren&&(t.isHover||t.isActive)?a("ul",{staticClass:"category-tree-item__list"},t._l(t.item.items,(function(e,r){return a("category-tree-item",{key:e.id||r,staticClass:"category-tree-item__item",attrs:{item:e,depth:t.depth+1}})})),1):t._e()])],1)}),[],!1,null,null,null).exports,w=a("MhNv"),E=a("sEfC"),j=a.n(E);a("Xtz6");function T(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function S(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var k,P={name:"catalog-filter",components:{VButton:i.a,VCheck:o.a,VRange:s.a,VAccordion:w.a},props:{btnText:{type:String,default:"Очистить фильтры"}},data:function(){return{format:{to:function(t){return Math.round(t)},from:function(t){return Number(t)}}}},methods:{onRadioChange:function(t,e,a){var r=this.routeSegments;r.includes(a)||r.push(a);var n=new RegExp("^".concat(e,"-"));r=r.filter((function(t){return t===a||!t.match(n)})),this.$router.replace({path:Object(g.a)(this.code,r)})},onCheckChange:function(t,e,a){var r=this.routeSegments;if(t){if(r.includes(a))return;r.push(a)}else{if(!r.includes(a))return;var n=r.indexOf(a);-1!==n&&r.splice(n,1)}this.$router.replace({path:Object(g.a)(this.code,r)})},onRangeChange:function(t,e){this.debounce_rangeChange(t,e)}},computed:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?T(Object(a),!0).forEach((function(e){S(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):T(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},Object(_.c)("catalog",["filterSegments","routeSegments"]),{},Object(_.d)("catalog",["filters"]),{},Object(_.d)("route",{code:function(t){return t.params.code}}),{accordionFilters:function(){return this.filters?this.filters.map((function(t){return{id:t.id,item:t,title:t.title,isExpanded:!0}})):[]}}),beforeMount:function(){var t=this;this.debounce_rangeChange=j()((function(e,a){for(var r=t.routeSegments,n="".concat(a,"-from_").concat(e[0],"_to_").concat(e[1]),i=new RegExp("^".concat(a,"-")),o=-1,c=0;c<r.length;c++)if(r[c].match(i)){o=c;break}if(-1!==o){if(r[o]===n)return;r.splice(o,1,n)}else r.push(n);t.$router.replace({path:Object(g.a)(t.code,r)})}),500)}},x=Object(y.a)(P,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.accordionFilters&&t.accordionFilters.length>0?a("div",{staticClass:"catalog-filter"},[a("v-accordion",{staticClass:"catalog-filter__filters",attrs:{"key-field":"id",items:t.accordionFilters,"item-expanded":function(t){return t.isExpanded},"item-toggled":function(t){return t.isExpanded=!t.isExpanded}},scopedSlots:t._u([{key:"content",fn:function(e){var r=e.item;return["range"===r.item.type?a("div",{staticClass:"catalog-filter__filters-range"},[a("v-range",{attrs:{initialValue:[r.item.min,r.item.max],value:t.filterSegments[r.item.name]||[r.item.min,r.item.max],max:r.item.max,min:r.item.min,format:t.format},on:{input:function(e){return t.onRangeChange(e,r.item.name)}}})],1):"check"===r.item.type?a("div",{staticClass:"catalog-filter__filters-check"},t._l(r.item.items,(function(e){return a("v-check",{key:e.id,attrs:{id:r.item.name+"-"+e.id,value:e.code,name:r.item.name,checked:t.filterSegments[r.item.name]&&t.filterSegments[r.item.name][e.code]},on:{change:function(a){return t.onCheckChange(a,r.item.name,e.code)}}},[t._v("\n                    "+t._s(e.name)+"\n                ")])})),1):"radio"===r.item.type?a("div",{staticClass:"catalog-filter__filters-check"},t._l(r.item.items,(function(e){return a("v-check",{key:e.id,attrs:{id:r.item.name+"-"+e.id,type:"radio",value:e.code,name:r.item.name,checked:t.filterSegments[r.item.name]&&t.filterSegments[r.item.name][e.code]},on:{change:function(a){return t.onRadioChange(a,r.item.name,e.code)}}},[t._v("\n                    "+t._s(e.name)+"\n                ")])})),1):t._e()]}}],null,!1,3280378372)}),t._v(" "),a("v-button",{staticClass:"btn--outline catalog-filter__clear-btn",attrs:{to:{path:t.code?"/catalog/"+t.code:"/catalog"}}},[t._v("\n        "+t._s(t.btnText)+"\n    ")])],1):t._e()}),[],!1,null,null,null).exports,A=a("/Q9p"),I=a("LqtR"),M=a("7cXU"),D=a("dMOp"),L=a("f5/Z"),$=a("a6oV"),R=a("/Qa0"),V=a("55Sm"),F=a("jDKC"),q=a("8TZ/"),H=a("0CxO"),N=a("oXaW"),B=(a("OvCi"),a("3qlr"),a("VgBE"));function G(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function U(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?G(Object(a),!0).forEach((function(e){z(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):G(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function z(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var Q,Z="add-to-cart-modal",X={name:Z,components:{VLink:M.a,VButton:i.a,VSpinner:D.a,GeneralModal:$.a,CartProductCard:L.a,CatalogProductCard:A.a},data:function(){return{cartItem:null}},computed:U({},Object(_.d)(V.b,{modalState:function(t){return t[V.a][Z]&&t[V.a][Z].state||{}}}),{},Object(_.d)(q.c,[q.a,q.d]),{},Object(_.c)(q.c,[N.a,N.e]),{product:function(){return this.cartItem?this.cartItem.p:null},header:function(){return"Товар добавлен в корзину"},products:function(){return this.isTablet?this.relativeProducts.slice(0,2):this.relativeProducts.slice(0,3)},isTablet:function(){return this.$mq.tablet}}),watch:(k={},z(k,q.a,(function(){var t=this,e=this[q.a][this.modalState.type];this.cartItem=e?e.items.find((function(e){return e.p.id===t.modalState.offerId})):null})),z(k,"modalState",(function(){this.fetchData()})),k),methods:U({},Object(_.b)(V.b,[F.a]),{},Object(_.b)(q.c,[H.a,H.e]),{onPreview:function(t){this[F.a]({name:Z,open:!1}),this[F.a]({name:R.a,open:!0,state:{code:t}})},onAddToCart:function(t){this[F.a]({name:Z,open:!0,state:{offerId:t.id,type:t.type}})},fetchData:function(){var t=this,e=this[q.a][this.modalState.type];this.cartItem=e?e.items.find((function(e){return e.p.id===t.modalState.offerId})):null,this.cartItem||this[H.a]({offerId:this.modalState.offerId}),this[H.e]({page:Object(B.c)(1,4)})},onClose:function(){this[F.a]({name:Z,open:!1})}}),mounted:function(){this.fetchData()}},J=Object(y.a)(X,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("general-modal",{staticClass:"add-to-cart-modal",attrs:{type:"wide",header:t.header,"is-mobile":t.isTablet},on:{close:t.onClose},scopedSlots:t._u([{key:"content",fn:function(){return[a("div",{staticClass:"add-to-cart-modal__body"},[a("h3",{staticClass:"add-to-cart-modal__hl"},[t._v(t._s(t.header))]),t._v(" "),t.product?[a("cart-product-card",{key:t.product.id,staticClass:"add-to-cart-modal__card",attrs:{"product-id":t.product.id,type:t.product.type,name:t.product.name,image:t.product.image,price:t.product.price,"old-price":t.product.oldPrice,count:t.cartItem.count,href:"/catalog"},on:{countChange:function(e){return t.ADD_CART_ITEM({offerId:t.product.id,count:e.count})}}}),t._v(" "),t.isTablet?t._e():a("div",{staticClass:"add-to-cart-modal__panel"},[a("div",{staticClass:"add-to-cart-modal__panel-info"},[t._v("\n                        В корзине "+t._s(t.$tc("cart.items",t.cartItemsCount))+" на сумму\n                        "+t._s(t.productItemsSum)+"\n                    ")]),t._v(" "),a("v-button",{staticClass:"btn--outline add-to-cart-modal__panel-btn",on:{click:t.onClose}},[t._v("\n                        Продолжить покупки\n                    ")]),t._v(" "),a("v-button",{staticClass:"add-to-cart-modal__panel-btn",attrs:{to:"/cart"}},[t._v("\n                        Перейти в корзину\n                    ")])],1)]:t._e(),t._v(" "),a("v-spinner",{staticClass:"add-to-cart-modal__spinner",attrs:{show:!t.product}})],2),t._v(" "),a("div",{staticClass:"add-to-cart-modal__relative"},[a("h3",{staticClass:"add-to-cart-modal__relative-hl"},[t._v("С этим продуктом покупают")]),t._v(" "),a("transition",{attrs:{name:"fade-in"}},[t.products&&t.products.length>0?a("ul",{staticClass:"add-to-cart-modal__relative-list"},t._l(t.products,(function(e){return a("li",{key:e.id,staticClass:"add-to-cart-modal__relative-item"},[a("catalog-product-card",{attrs:{"product-id":e.id,name:e.name,type:e.type,href:"/catalog/"+e.categoryCodes[e.categoryCodes.length-1]+"/"+e.code,image:e.image,price:e.price,"old-price":e.oldPrice,tags:e.tags,rating:e.rating},on:{addItem:function(e){return t.onAddToCart(e)},preview:function(a){return t.onPreview(e.code)}}})],1)})),0):t._e()])],1),t._v(" "),t.isTablet?a("div",{staticClass:"add-to-cart-modal__panel"},[a("div",{staticClass:"add-to-cart-modal__panel-info"},[t._v("\n                В корзине "+t._s(t.$tc("cart.items",t.cartItemsCount))+" на сумму\n                "+t._s(t.productItemsSum)+"\n            ")]),t._v(" "),a("v-link",{staticClass:"btn--outline add-to-cart-modal__panel-link",on:{click:t.onClose}},[t._v("\n                Продолжить\n            ")]),t._v(" "),a("v-button",{staticClass:"add-to-cart-modal__panel-btn",attrs:{to:"/cart"}},[t._v("\n                Перейти в корзину\n            ")])],1):t._e()]},proxy:!0}])})}),[],!1,null,null,null).exports,K=a("BZIu"),Y=a("Nlzp");function W(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var tt,et=(W(Q={},"SET_LOAD",(function(t,e){t.load=e})),W(Q,"SET_BANNER",(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.banner=e})),W(Q,"SET_ITEMS",(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{items:[],range:0},a=e.items,r=e.range;t.items=a||[],t.range=r||0})),W(Q,"SET_CATEGORY_CODE",(function(t,e){t.categoryCode=e})),W(Q,"SET_CATEGORIES",(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];t.categories=e})),Q);function at(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function rt(t,e,a,r,n,i,o){try{var c=t[i](o),s=c.value}catch(t){return void a(t)}c.done?e(s):Promise.resolve(s).then(r,n)}var nt,it,ot,ct=(at(tt={},"FETCH_BANNER",(function(t){var e=t.commit;return Object(Y.l)().then((function(t){return e("SET_BANNER",t[6])})).catch((function(t){return K.$logger.error("FETCH_BANNER error: ".concat(t)),[]}))})),at(tt,"FETCH_CATEGORIES",(function(t){var e=t.commit;return Object(Y.p)().then((function(t){return e("SET_CATEGORIES",t)})).catch((function(t){return K.$logger.error("FETCH_CATEGORIES error: ".concat(t)),[]}))})),at(tt,"FETCH_ITEMS",(function(t,e){var a=t.commit,r=t.state;return Object(Y.o)(e).then((function(t){e.showMore?a("SET_ITEMS",{items:r.items.concat(t.items),range:t.range}):a("SET_ITEMS",t),a("SET_CATEGORY_CODE",e.filter&&e.filter.category)})).catch((function(t){return K.$logger.error("FETCH_ITEMS error: ".concat(t)),[]}))})),at(tt,"SET_LOAD",(function(t){var e=t.commit,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e("SET_LOAD",a)})),at(tt,"FETCH_CATALOG_DATA",(nt=regeneratorRuntime.mark((function t(e,a){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.dispatch,n=e.commit,t.next=3,Promise.all([r("FETCH_CATEGORIES"),r("FETCH_BANNER")]);case 3:return t.abrupt("return",r("FETCH_ITEMS",a).then((function(){return n("SET_LOAD",!0)})));case 4:case"end":return t.stop()}}),t)})),it=function(){var t=this,e=arguments;return new Promise((function(a,r){var n=nt.apply(t,e);function i(t){rt(n,a,r,i,o,"next",t)}function o(t){rt(n,a,r,i,o,"throw",t)}i(void 0)}))},function(t,e){return it.apply(this,arguments)})),tt);function st(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var lt={name:"catalog",namespaced:!0,state:(ot={},st(ot,"load",!1),st(ot,"banner",{}),st(ot,"categoryId",null),st(ot,"categoryCode",null),st(ot,"categories",[]),st(ot,"items",[]),st(ot,"range",0),st(ot,"filters",[{id:1,title:"Цена, ₽",name:"price",type:"range",max:1e3,min:0},{id:2,title:"Бренды",name:"brand",type:"check",items:[{id:1,name:"L’Oreal Paris",code:"brand-loreal"},{id:2,name:"Maybelline",code:"brand-maybelline"},{id:3,name:"Pupa",code:"brand-pupa"}]},{id:3,title:"Средства",name:"tool",type:"check",values:[],items:[{id:1,name:"Жидкая помада для губ",code:"tool-zhidkaya_pomada_dlya_gub"},{id:2,name:"Помада для губ",code:"tool-pomada_dlya_gub"},{id:3,name:"Гигиеническая помада для губ",code:"tool-gigienicheskaya_pomada_dlya_gub"}]},{id:4,title:"Эффекты",name:"effect",type:"radio",items:[{id:1,name:"Глянцевая",code:"effect-glyancevaya"},{id:2,name:"Матовая",code:"effect-matovaya"},{id:3,name:"Перламутровая",code:"effect-perlamutrovaya"}]}]),ot),actions:ct,mutations:et,getters:v},ut=a("AlLH"),dt=a("4BeY"),mt=a.n(dt),ft=a("IaFt"),gt=a.n(ft),pt=new mt.a({id:"icon-filter",use:"icon-filter-usage",viewBox:"0 0 18 14",content:'<symbol viewBox="0 0 18 14" xmlns="http://www.w3.org/2000/svg" id="icon-filter">\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M1 10C0.447715 10 -1.55275e-07 10.4477 -1.31134e-07 11C-1.06993e-07 11.5523 0.447715 12 1 12L13 12L13 13C13 13.5523 13.4477 14 14 14C14.5523 14 15 13.5523 15 13L15 12L17 12C17.5523 12 18 11.5523 18 11C18 10.4477 17.5523 10 17 10L15 10L15 9C15 8.44771 14.5523 8 14 8C13.4477 8 13 8.44771 13 9L13 10L1 10ZM1 2C0.447715 2 -5.04966e-07 2.44771 -4.80825e-07 3C-4.56684e-07 3.55228 0.447715 4 1 4L3 4L3 5C3 5.55228 3.44772 6 4 6C4.55228 6 5 5.55228 5 5L5 4L17 4C17.5523 4 18 3.55228 18 3C18 2.44771 17.5523 2 17 2L5 2L5 0.999999C5 0.447715 4.55228 -1.15266e-06 4 -1.12852e-06C3.44772 -1.10438e-06 3 0.447715 3 0.999999L3 2L1 2Z" />\n</symbol>'});gt.a.add(pt),a("4eDr"),a("9bRU");function vt(t,e,a,r,n,i,o){try{var c=t[i](o),s=c.value}catch(t){return void a(t)}c.done?e(s):Promise.resolve(s).then(r,n)}function _t(t){return function(){var e=this,a=arguments;return new Promise((function(r,n){var i=t.apply(e,a);function o(t){vt(i,r,n,o,c,"next",t)}function c(t){vt(i,r,n,o,c,"throw",t)}o(void 0)}))}}function ht(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function bt(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?ht(Object(a),!0).forEach((function(e){Ct(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ht(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function Ct(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var yt,Ot,wt=0,Et={name:"catalog",components:{VSvg:n.a,VButton:i.a,VSelect:l.a,VPagination:c.a,VSticky:u.a,VExpander:d.a,Modal:m.a,TagItem:f.a,CategoryTreeItem:O,CatalogFilter:x,CatalogProductCard:A.a,CatalogBannerCard:I.a,AddToCartModal:J,QuickViewModal:R.b},data:function(){var t=[{id:1,title:"Сначала подороже",field:"price",direction:"desc"},{id:2,title:"Сначала подешевле",field:"price",direction:"asc"}];return{sortValue:t[0],sortOptions:t,filterModal:!1,showMore:!1}},computed:bt({},Object(_.c)("catalog",["activeTags","activeCategory","activePage","pagesCount","routeSegments","activeCategories"]),{},Object(_.d)("catalog",["items","banner","categories"]),{},Object(_.d)(V.b,{isQuickViewOpen:function(t){return t[V.a][R.a]&&t[V.a][R.a].open},isAddToCartOpen:function(t){return t[V.a][Z]&&t[V.a][Z].open}}),{},Object(_.d)("route",{code:function(t){return t.params.code}}),{isTabletLg:function(){return this.$mq.tabletLg}}),watch:{sortValue:function(t,e){t!==e&&this.$router.replace({path:this.$route.path,query:{orderField:t.field,orderDirection:t.direction}})}},methods:bt({},Object(_.b)("catalog",["FETCH_ITEMS","FETCH_CATALOG_DATA"]),{},Object(_.b)(q.c,[H.a]),{},Object(_.b)(V.b,[F.a]),{setSortValue:function(t,e){this.sortValue=this.sortOptions.find((function(a){return a.field===t&&a.direction===e}))||this.sortOptions[0]},onBeforeEnterItems:function(t){t.dataset.index=wt,wt+=1,t.style.opacity=0},itemAnimation:function(t,e){return new Promise((function(a,r){try{setTimeout((function(){requestAnimationFrame((function(){t.style.opacity=1,a()}))}),e)}catch(t){r(t)}}))},onEnterItems:(Ot=_t(regeneratorRuntime.mark((function t(e,a){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=100*e.dataset.index,t.next=3,this.itemAnimation(e,r);case 3:a();case 4:case"end":return t.stop()}}),t,this)}))),function(t,e){return Ot.apply(this,arguments)}),onAfterEnterItems:function(t){delete t.dataset.index,wt=0},onLeaveItems:function(t,e){requestAnimationFrame((function(){t.style.opacity=0,e()}))},onClickDeleteTag:function(t){var e=this.routeSegments,a=this.code;if(e.includes(t)){var r=e.indexOf(t);-1!==r&&e.splice(r,1),this.$router.replace({path:Object(g.a)(a,e)})}},onShowMore:function(){this.showMore=!0,this.$router.replace({path:this.$route.path,query:bt({},this.$route.query,{page:this.activePage+1})})},onPreview:function(t){this[F.a]({name:R.a,open:!0,state:{code:t}})},onAddToCart:function(t){this[F.a]({name:Z,open:!0,state:{offerId:t.id,type:t.type}})},onPageChanged:function(t){this.showMore=!1,this.$router.push({path:this.$route.path,query:bt({},this.$route.query,{page:t})})},fetchCatalog:(yt=_t(regeneratorRuntime.mark((function t(e,a,r){var n,i,o,c,s,l,u,d,m,f,g,p;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=e.params.code,i=e.query,o=(i=void 0===i?{page:1,orderField:"price",orderDirection:"desc"}:i).page,c=void 0===o?1:o,s=i.orderField,l=void 0===s?"price":s,u=i.orderDirection,d=void 0===u?"desc":u,m=a.query,f=(m=void 0===m?{page:1}:m).page,g=void 0===f?1:f,p=n&&{category:n},this.$progress.start(),t.next=11,this.FETCH_ITEMS({filter:p,orderField:l,orderDirection:d,page:c,showMore:r});case 11:this.setSortValue(l,d),this.$progress.finish(),r||c===g||window.scrollTo({top:ut.MIN_SCROLL_VALUE+1,behavior:"smooth"}),t.next=20;break;case 16:t.prev=16,t.t0=t.catch(0),K.$logger.error("debounce_fetchCatalog",t.t0),this.$progress.fail();case 20:case"end":return t.stop()}}),t,this,[[0,16]])}))),function(t,e,a){return yt.apply(this,arguments)})}),beforeRouteEnter:function(t,e,a){var r=t.params.code,n=t.query,i=(n=void 0===n?{page:1,orderField:"price",orderDirection:"desc"}:n).page,o=void 0===i?1:i,c=n.orderField,s=void 0===c?"price":c,l=n.orderDirection,u=void 0===l?"desc":l;!!K.$store._modulesNamespaceMap["".concat("catalog","/")]||K.$store.registerModule("catalog",lt,{preserveState:!!K.$store.state.catalog});var d=K.$store.state.catalog,m=d.categoryCode;if(d.load&&m===r)a((function(t){return t.$store.dispatch("".concat("catalog","/").concat("SET_LOAD"),!1)}));else{var f=r&&{category:r};K.$progress.start(),K.$store.dispatch("".concat("catalog","/").concat("FETCH_CATALOG_DATA"),{filter:f,page:o,orderField:s,orderDirection:u}).then((function(){return a((function(t){t.setSortValue(s,u),K.$progress.finish()}))})).catch((function(t){K.$progress.fail(),K.$logger.error(t)}))}},beforeRouteUpdate:function(t,e,a){this.showMore?(this.fetchCatalog(t,e,this.showMore),this.showMore=!1):this.debounce_fetchCatalog(t,e),a()},beforeMount:function(){this.debounce_fetchCatalog=j()(this.fetchCatalog,500)}},jt=Object(y.a)(Et,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"section catalog-view"},[a("div",{staticClass:"container catalog-view__header"},[a("transition-group",{staticClass:"section catalog-view__breadcrumbs",attrs:{tag:"ol",name:"fade-in"}},[a("li",{key:"main",staticClass:"catalog-view__breadcrumbs-item"},[a("router-link",{staticClass:"catalog-view__breadcrumbs-link",attrs:{to:"/"}},[t._v("\n                    Главная\n                ")])],1),t._v(" "),a("li",{key:"all",staticClass:"catalog-view__breadcrumbs-item"},[a("router-link",{staticClass:"catalog-view__breadcrumbs-link",attrs:{to:"/catalog"}},[t._v("\n                    Каталог\n                ")])],1),t._v(" "),t._l(t.activeCategories,(function(e){return a("li",{key:e.id,staticClass:"catalog-view__breadcrumbs-item"},[a("router-link",{staticClass:"catalog-view__breadcrumbs-link",attrs:{to:"/catalog/"+e.code}},[t._v("\n                    "+t._s(e.name)+"\n                ")])],1)}))],2),t._v(" "),a("catalog-banner-card",{staticClass:"catalog-view__banner",attrs:{"banner-id":t.banner.id,image:t.banner.image,"upper-text":t.banner.upperText,"bottom-text":t.banner.bottomText,title:t.banner.title,"btn-text":t.banner.btnText}})],1),t._v(" "),a("section",{staticClass:"section"},[a("div",{staticClass:"container catalog-view__grid"},[a("div",{staticClass:"catalog-view__side-panel"},[a("ul",{staticClass:"catalog-view__side-panel-categories"},t._l(t.categories,(function(t){return a("category-tree-item",{key:t.id,staticClass:"catalog-view__side-panel-categories-item",attrs:{item:t}})})),1),t._v(" "),a("catalog-filter",{staticClass:"catalog-view__side-panel-filters"})],1),t._v(" "),a("div",{staticClass:"catalog-view__main"},[a("div",{staticClass:"catalog-view__main-header"},[a("div",{staticClass:"catalog-view__main-header-title"},[a("h1",{staticClass:"catalog-view__main-header-hl"},[t._v("\n                            "+t._s(t.activeCategory?t.activeCategory.name:"Каталог")+"\n                        ")]),t._v(" "),a("p",{staticClass:"text-grey catalog-view__main-header-text"},[t._v("489 продуктов")])]),t._v(" "),a("v-select",{staticClass:"catalog-view__main-header-sort",attrs:{label:"title","track-by":"id",options:t.sortOptions,searchable:!1,"allow-empty":!1,"show-labels":!1},model:{value:t.sortValue,callback:function(e){t.sortValue=e},expression:"sortValue"}}),t._v(" "),a("v-button",{staticClass:"catalog-view__main-header-btn",on:{click:function(e){t.filterModal=!t.filterModal}}},[a("span",[t._v("\n                            Фильтр и сортировка  \n                            "),a("span",{staticClass:"text-grey"},[t._v(t._s(t.activeTags.length))])]),t._v(" "),a("v-svg",{attrs:{id:"catalog-filter-icon",name:"filter",width:"18",height:"14"}})],1)],1),t._v(" "),a("transition-group",{staticClass:"catalog-view__main-tags",attrs:{tag:"ul",name:"tag-item"}},t._l(t.activeTags,(function(e,r){return a("tag-item",{key:e.code,attrs:{"data-index":r,text:e.name},on:{delete:function(a){return t.onClickDeleteTag(e.code)}}})})),1),t._v(" "),a("transition-group",{staticClass:"catalog-view__main-grid",attrs:{tag:"ul",name:"catalog-item"},on:{"before-enter":t.onBeforeEnterItems,enter:t.onEnterItems,"after-enter":t.onAfterEnterItems,leave:t.onLeaveItems}},t._l(t.items,(function(e){var r;return a("li",{key:e.id+"-"+e.type,staticClass:"catalog-view__main-grid-item",class:(r={},r["catalog-view__main-grid-item--"+e.type]=e.type,r)},["product"===e.type?a("catalog-product-card",{staticClass:"catalog-view__main-grid-card",attrs:{"product-id":e.id,name:e.name,type:e.type,href:"/catalog/"+e.categoryCodes[e.categoryCodes.length-1]+"/"+e.code,image:e.image,price:e.price,"old-price":e.oldPrice,tags:e.tags,rating:e.rating},on:{addItem:function(e){return t.onAddToCart(e)},preview:function(a){return t.onPreview(e.code)}}}):"banner"===e.type?a("catalog-banner-card",{staticClass:"catalog-view__main-grid-card",attrs:{"banner-id":e.id,title:e.title,image:e.image,"upper-text":e.upperText,"btn-text":e.btnText}}):t._e()],1)})),0),t._v(" "),t.pagesCount>1?a("div",{staticClass:"catalog-view__main-controls"},[t.activePage<t.pagesCount?a("v-button",{staticClass:"btn--outline catalog-view__main-controls-btn",on:{click:t.onShowMore}},[t._v("\n                        Показать ещё\n                    ")]):t._e(),t._v(" "),a("v-pagination",{attrs:{value:t.activePage,"page-count":t.pagesCount},on:{input:t.onPageChanged}})],1):t._e()],1)])]),t._v(" "),a("transition",{attrs:{name:"fade-in"}},[t.filterModal&&t.isTabletLg?a("modal",{staticClass:"catalog-view__modal-filter",attrs:{"show-close-btn":!1,type:"fullscreen"},scopedSlots:t._u([{key:"body",fn:function(){return[a("v-sticky",{staticClass:"catalog-view__modal-filter-sticky",scopedSlots:t._u([{key:"sticky",fn:function(){return[a("div",{staticClass:"catalog-view__modal-filter-header"},[a("button",{staticClass:"catalog-view__modal-filter-header-btn",on:{click:function(e){t.filterModal=!1}}},[a("v-svg",{attrs:{name:"cross-small",width:"14",height:"14"}}),t._v("Фильтр\n                            ")],1)])]},proxy:!0}],null,!1,219555529)},[t._v(" "),a("div",{staticClass:"catalog-view__modal-filter-sort"},[a("div",{staticClass:"catalog-view__modal-filter-sort-title"},[t._v("Сортировка")]),t._v(" "),a("ul",{staticClass:"catalog-view__modal-filter-sort-list"},t._l(t.sortOptions,(function(e){return a("li",{key:e.title,staticClass:"catalog-view__modal-filter-sort-item",class:{"catalog-view__modal-filter-sort-item--active":e===t.sortValue}},[a("button",{staticClass:"catalog-view__modal-filter-sort-btn",on:{click:function(a){t.sortValue=e}}},[t._v("\n                                    "+t._s(e.title)+"\n                                ")])])})),0)]),t._v(" "),a("catalog-filter",{staticClass:"catalog-view__modal-filter-panel"})],1)]},proxy:!0}],null,!1,2324292678)}):t._e()],1),t._v(" "),a("section",{staticClass:"section catalog-view__section catalog-view__seo"},[a("div",{staticClass:"container catalog-view__seo-container"},[a("h2",{staticClass:"catalog-view__section-hl catalog-view__seo-hl"},[t._v("Блок SEO текста")]),t._v(" "),a("v-expander",{staticClass:"catalog-view__seo-text",attrs:{"min-height":80,"has-mask":""},scopedSlots:t._u([{key:"btn",fn:function(e){var a=e.isExpanded;return[t._v("\n                    "+t._s(a?"Скрыть":"Показать больше")+"\n                ")]}}])},[t._v("\n                Помада L'Oreal Paris Color Riche — это первый матовый тинт для губ с ультранасыщенным цветом,\n                который абсолютно не ощущается на губах. Выбери из 10 модных оттенков те, которые тебе по душе. Эта\n                помада не оставит тебя равнодушной. Экспериментируй и наслаждайся, а Color Riche поможет тебе в\n                этом. Мы заботимся о надёжных поставщиках, качестве товаров и безопасной оплате. А что делать вам?\n                Просто наслаждаться покупками. Для экономии не нужен повод, поэтому мы каждый день даём вам скидки\n                на популярные товары самых разных категорий.\n\n                ")])],1)]),t._v(" "),a("transition",{attrs:{name:"fade-in"}},[t.isQuickViewOpen&&!t.isTabletLg?a("quick-view-modal"):t.isAddToCartOpen?a("add-to-cart-modal"):t._e()],1)],1)}),[],!1,null,null,null);e.default=jt.exports},"3qlr":function(t,e,a){},"9bRU":function(t,e,a){},Xtz6:function(t,e,a){},x3SC:function(t,e,a){}}]);