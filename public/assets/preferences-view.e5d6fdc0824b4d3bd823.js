(window.webpackJsonp=window.webpackJsonp||[]).push([[70],{"W+R+":function(e,t,n){"use strict";n.r(t);var i,a=n("NDiG"),r=n("7cXU"),s=n("o3vK"),c=n("PZpB"),o=n("tHOl"),l=n("DbVC"),p=n("L2JU"),u=n("55Sm"),f=n("jDKC"),v=n("rBTT"),b=n("JM0x");n("Jhov"),n("zYMX"),n("xfwz");function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h={BRANDS:"brands",CATEGORIES:"categories"},w={name:"preferences",components:{VSvg:a.a,VLink:r.a,VCheck:s.a,InfoPanel:c.a,TagItem:o.a,PreferenceEditModal:l.b},computed:d({},Object(p.d)(u.b,{isPreferencesOpen:function(e){return e[u.a][l.a]&&e[u.a][l.a].open}}),{},Object(p.d)(v.b,(i={},g(i,h.BRANDS,(function(e){return e[v.c]&&e[v.c][h.BRANDS]||[]})),g(i,h.CATEGORIES,(function(e){return e[v.c]&&e[v.c][h.CATEGORIES]||[]})),g(i,"availableBrands",(function(e){return e&&e.availableBrands||[]})),g(i,"availableCategories",(function(e){return e&&e.availableCategories||[]})),i)),{type:function(){return h},isTablet:function(){return this.$mq.tablet},iconSize:function(){return this.$mq.tablet?24:16}}),methods:d({},Object(p.b)(u.b,[f.a]),{},Object(p.b)(v.b,[b.b,b.a]),{onDeleteEntity:function(e,t){this[b.b]({type:e,index:t,data:v.c})},onDeleteAll:function(e){this[b.a]({type:e,data:v.c})},onAddEntities:function(e){var t=[],n=[];switch(e){case h.BRANDS:t=this.availableBrands,n=this[e];break;case h.CATEGORIES:t=this.availableCategories,n=this[e]}this[f.a]({name:l.a,open:!0,state:{type:e,availableEntities:t,entities:n,data:v.c}})}})},m=n("KHd+"),O=Object(m.a)(w,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"section preferences-view"},[n("h2",{staticClass:"preferences-view__hl"},[e._v(e._s(e.$t("profile.routes."+e.$route.name)))]),e._v(" "),n("info-panel",{staticClass:"preferences-view__panel",attrs:{header:"Бренды"},scopedSlots:e._u([{key:"controls",fn:function(){return[n("div",{staticClass:"preferences-view__panel-links"},[n("v-link",{staticClass:"preferences-view__panel-link",attrs:{tag:"button"},on:{click:function(t){return e.onAddEntities(e.type.BRANDS)}}},[n("v-svg",{attrs:{name:"plus-small",width:e.iconSize,height:e.iconSize}}),e._v(" "),n("span",[e._v("  Добавить")])],1),e._v(" "),n("v-link",{staticClass:"link--grey preferences-view__panel-link",attrs:{tag:"button"},on:{click:function(t){return e.onDeleteAll(e.type.BRANDS)}}},[n("v-svg",{attrs:{name:"cross",width:e.iconSize,height:e.iconSize}}),e._v(" "),n("span",[e._v("  Удалить все")])],1)],1)]},proxy:!0}])},[e._v(" "),n("div",{staticClass:"container container--tablet-lg"},[n("transition-group",{staticClass:"preferences-view__panel-tags",attrs:{tag:"ul",name:"tag-item"}},e._l(e.brands,(function(t,i){return n("tag-item",{key:t.id,staticClass:"preferences-view__panel-tags-item",attrs:{text:t.name},on:{delete:function(t){return e.onDeleteEntity(e.type.BRANDS,i)}}})})),1)],1)]),e._v(" "),n("info-panel",{staticClass:"preferences-view__panel",attrs:{header:"Категории"},scopedSlots:e._u([{key:"controls",fn:function(){return[n("div",{staticClass:"preferences-view__panel-links"},[n("v-link",{staticClass:"preferences-view__panel-link",attrs:{tag:"button"},on:{click:function(t){return e.onAddEntities(e.type.CATEGORIES)}}},[n("v-svg",{attrs:{name:"plus-small",width:e.iconSize,height:e.iconSize}}),e._v(" "),n("span",[e._v("  Добавить")])],1),e._v(" "),n("v-link",{staticClass:"link--grey preferences-view__panel-link",attrs:{tag:"button"},on:{click:function(t){return e.onDeleteAll(e.type.CATEGORIES)}}},[n("v-svg",{attrs:{name:"cross",width:e.iconSize,height:e.iconSize}}),e._v(" "),n("span",[e._v("  Удалить все")])],1)],1)]},proxy:!0}])},[e._v(" "),n("div",{staticClass:"container container--tablet-lg"},[n("transition-group",{staticClass:"preferences-view__panel-tags",attrs:{tag:"ul",name:"tag-item"}},e._l(e.categories,(function(t,i){return n("tag-item",{key:t.id,staticClass:"preferences-view__panel-tags-item",attrs:{text:t.name},on:{delete:function(t){return e.onDeleteEntity(e.type.CATEGORIES,i)}}})})),1)],1)]),e._v(" "),n("transition",{attrs:{name:"fade"}},[e.$isServer||e.isPreferencesOpen?n("preference-edit-modal",{directives:[{name:"show",rawName:"v-show",value:e.isPreferencesOpen,expression:"isPreferencesOpen"}]}):e._e()],1)],1)}),[],!1,null,null,null);t.default=O.exports},xfwz:function(e,t,n){}}]);