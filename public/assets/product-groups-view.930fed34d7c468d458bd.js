(window.webpackJsonp=window.webpackJsonp||[]).push([[69],{JXwH:function(e,t,r){},fFVf:function(e,t,r){"use strict";r.r(t);var a,n=r("i2Ud"),o=r("+gqB"),s=r("cpWO"),i=r("YlJd"),c=r("jVOK"),u=r("obii"),p=r("zfPd"),l=r("v77w"),d=r("5P1y"),v=r("YSwA"),g=r("ENRa"),h=r("eFfy"),f=r("3eXy"),m=r("L2JU"),_=r("Q2AE"),b=r("48TQ"),w=r("Nlzp"),y=r("fhPv");function C(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var E,O=(C(a={},"SET_LOAD_PATH",(function(e,t){e.loadPath=t})),C(a,"SET_ITEMS_MORE",(function(e,t){var r,a=t.items,n=t.range;(r=e.items).push.apply(r,S(a)),e.range=n||0})),C(a,"SET_ITEMS",(function(e,t){var r=t.items,a=t.range;e.items=r,e.range=a||0})),C(a,"SET_TYPE",(function(e,t){e.type=t})),a);function T(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P(e,t,r,a,n,o,s){try{var i=e[o](s),c=i.value}catch(e){return void r(e)}i.done?t(c):Promise.resolve(c).then(a,n)}var j,M=(T(E={},"FETCH_ITEMS",(function(e,t){var r,a=e.commit,n=(e.state,t.type),o=t.page,s=t.orderField,i=t.showMore;return(r=regeneratorRuntime.mark((function e(){var t,r,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(w.O)(n,o,s);case 3:t=e.sent,r=t.items,c=t.range,a(i?"SET_ITEMS_MORE":"SET_ITEMS",{items:r,range:c}),a("SET_TYPE",n),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),Object(b.b)("FETCH_ITEMS",!0)(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})),function(){var e=this,t=arguments;return new Promise((function(a,n){var o=r.apply(e,t);function s(e){P(o,a,n,s,i,"next",e)}function i(e){P(o,a,n,s,i,"throw",e)}s(void 0)}))})()})),T(E,"SET_TYPE",(function(e,t){(0,e.commit)("SET_TYPE",t)})),T(E,"SET_LOAD_PATH",(function(e,t){(0,e.commit)("SET_LOAD_PATH",t)})),E),A=r("W6hq");function $(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var R=($(j={},"brandsCatalog",(function(e){for(var t,r,a,n,o=e.items,s=void 0===o?[]:o,i={},c=0;c<s.length;c++){var u=(t=s[c],r=void 0,a=void 0,n=void 0,r=t.id,a=t.name,n=t.code,{id:r,name:a,to:Object(A.d)(y.d.BRANDS,n,null)}),p=u.name.slice(0,1).toUpperCase(),l=i[p];l?l.items.push(u):i[p]={id:p,name:p,items:[u]}}return i})),$(j,"activePage",(function(e,t,r){var a=r.route;return a.query.page?Number(a.query.page):1})),$(j,"pagesCount",(function(e){return Math.ceil(e.range/12)})),j);function B(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var U="productGroups";function x(){var e;return{name:U,namespaced:!0,state:(e={},B(e,"items",[]),B(e,"loadPath",""),B(e,"type",null),B(e,"range",0),e),actions:M,mutations:O,getters:R}}var k=r("4mC1"),L=r("sEfC"),q=r.n(L),H=(r("JXwH"),r("tH0B")),D=r("SRo2"),F=r("AYSG"),I=r("QudU");function N(e,t,r,a,n,o,s){try{var i=e[o](s),c=i.value}catch(e){return void r(e)}i.done?t(c):Promise.resolve(c).then(a,n)}function V(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?V(Object(r),!0).forEach((function(t){G(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function G(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var J={slidesPerView:1,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},pagination:{el:".swiper-pagination",type:"bullets"}},Q={name:"product-groups",components:{VButton:n.a,VPagination:o.a,VExpander:s.a,VSlider:v.a,BannerCard:g.a,MasterClassCard:i.a,MasterClassBannerCard:c.a,Breadcrumbs:u.a,BreadcrumbItem:p.a,GroupList:l.a,SeparatorSection:d.a,CategoriesSection:h.a},data:function(){return{showMore:!1,masterclassBanners:[{id:1,name:"Свадебный стилист",date:"3 сентября (пт), 12:00",author:"Владимир Перельман",image:H.a,code:"code1",price:{value:5e3,currency:"RUB"}},{id:2,name:"Модные косы",date:"4 сентября (пт), 12:00",author:"Владимир Перельман",image:D.a,code:"code2",price:{value:6e3,currency:"RUB"}},{id:3,name:"Пучки и хвосты",date:"5 сентября (пт), 12:00",author:"Владимир Перельман",image:F.a,code:"code3",price:{value:2e3,currency:"RUB"}},{id:4,name:"Цвет под ключ",date:"8 сентября (пт), 12:00",author:"Владимир Перельман",image:I.a,code:"code4",price:{value:4e3,currency:"RUB"}}],masterclasses:[{id:1,name:"Свадебный стилист",date:"3 сентября (пт), 12:00",address:"Artplay, г. Москва, Нижняя Сыромятническая ул., 10, этаж 1",image:H.a,code:"code1",price:{value:5e3,currency:"RUB"}},{id:2,name:"Модные косы",date:"4 сентября (пт), 12:00",address:"Artplay, г. Москва, Нижняя Сыромятническая ул., 10, этаж 1",image:D.a,code:"code2",price:{value:6e3,currency:"RUB"}},{id:3,name:"Пучки и хвосты",date:"5 сентября (пт), 12:00",address:"Artplay, г. Москва, Нижняя Сыромятническая ул., 10, этаж 1",image:F.a,code:"code3",price:{value:2e3,currency:"RUB"}},{id:4,name:"Цвет под ключ",date:"8 сентября (пт), 12:00",address:"Artplay, г. Москва, Нижняя Сыромятническая ул., 10, этаж 1",image:I.a,code:"code4",price:{value:4e3,currency:"RUB"}}]}},computed:Y({},Object(m.d)([_.b,_.h]),{},Object(m.d)(U,["items","type"]),{},Object(m.c)(U,["brandsCatalog","activePage","pagesCount"]),{showList:function(){return this.type===y.d.BRANDS},columns:function(){return this.isTablet?2:this.isTabletLg?3:6},sliderOptions:function(){return J},isTablet:function(){return this.$mq.tablet},isTabletLg:function(){return this.$mq.tabletLg},isMasterClass:function(){return this.type===y.d.MASTERCLASSES}}),methods:Y({},Object(m.b)(U,["FETCH_ITEMS"]),{generateCategoryUrl:function(e){var t=this.type;return Object(A.d)(t||y.d.MASTERCLASSES,e)},onShowMore:function(){this.showMore=!0,this.$router.replace({path:this.$route.path,query:Y({},this.$route.query,{page:this.activePage+1})})},onPageChanged:function(e){this.showMore=!1,this.$router.push({path:this.$route.path,query:Y({},this.$route.query,{page:e})})},fetchCatalog:function(e,t,r){var a,n=this;return(a=regeneratorRuntime.mark((function a(){var o,s,i,c,u,p,l,d,v,g;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,e.fullPath,o=e.params.type,s=e.query,i=s.page,c=void 0===i?1:i,u=s.orderField,p=void 0===u?"name":u,l=t.params.type,d=t.query.page,v=void 0===d?1:d,g=o===y.d.BRANDS?void 0:c,n.$progress.start(),a.next=7,n.FETCH_ITEMS({type:o,page:g,orderField:p,showMore:r});case 7:n.$progress.finish(),r||!n[_.h]||o===l&&c===v||window.scrollTo({top:k.c+1,behavior:"smooth"}),r&&setTimeout((function(){return n.showMore=!1}),200),a.next=17;break;case 12:a.prev=12,a.t0=a.catch(0),f.$logger.error(a.t0),n.$progress.fail(),n.$progress.finish();case 17:case"end":return a.stop()}}),a,null,[[0,12]])})),function(){var e=this,t=arguments;return new Promise((function(r,n){var o=a.apply(e,t);function s(e){N(o,r,n,s,i,"next",e)}function i(e){N(o,r,n,s,i,"throw",e)}s(void 0)}))})()}}),beforeRouteEnter:function(e,t,r){var a=e.fullPath,n=e.params.type,o=e.query,s=o.page,i=void 0===s?1:s,c=o.orderField,u=void 0===c?"name":c;Object(b.a)(f.$store,U,x);var p=f.$store.state[U],l=p.loadPath,d=p.type;if(l===a&&d===n)r((function(e){!e.$isServer&&e[_.h]&&window.scrollTo({top:0})}));else{var v=n===y.d.BRANDS?void 0:i;f.$progress.start(),f.$store.dispatch("".concat(U,"/").concat("FETCH_ITEMS"),{type:n,page:v,orderField:u}).then((function(){f.$store.dispatch("".concat(U,"/").concat("SET_LOAD_PATH"),a),r((function(e){f.$progress.finish(),!e.$isServer&&e[_.h]&&window.scrollTo({top:0})}))})).catch((function(e){r((function(e){f.$progress.fail(),f.$progress.finish()}))}))}},beforeRouteUpdate:function(e,t,r){this.showMore?this.fetchCatalog(e,t,this.showMore):this.debounce_fetchCatalog(e,t),r()},beforeMount:function(){this.debounce_fetchCatalog=q()(this.fetchCatalog,500)}},X=r("KHd+"),z=Object(X.a)(Q,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"section product-groups-view"},[r("div",{staticClass:"container product-groups-view__header"},[r("breadcrumbs",{staticClass:"container container--tablet-lg product-groups-view__breadcrumbs"},[r("breadcrumb-item",{key:"main",attrs:{to:"/"}},[e._v("\n                Главная\n            ")]),e._v(" "),r("breadcrumb-item",{key:"sets",attrs:{to:{path:e.$route.path}}},[e._v("\n                "+e._s(e.$t("productGroups.title."+e.type))+"\n            ")])],1),e._v(" "),e.isMasterClass?r("section",{staticClass:"section product-groups-view__banners"},[r("v-slider",{staticClass:"product-groups-view__banners-slider",attrs:{name:"masterClasses",options:e.sliderOptions}},e._l(e.masterclassBanners,(function(t){return r("master-class-banner-card",{key:t.id,staticClass:"swiper-slide product-groups-view__banners-slider-item",attrs:{name:t.name,image:t.image,price:t.price,author:t.author,description:t.date,to:e.generateCategoryUrl(t.code),"show-btn":""}})})),1)],1):e._e()],1),e._v(" "),e.showList?[r("categories-section",{staticClass:"product-groups-view__categories",attrs:{categories:e.categories}}),e._v(" "),r("separator-section",{staticClass:"product-groups-view__separator"}),e._v(" "),r("section",{staticClass:"section product-groups-view__section"},[r("div",{staticClass:"container"},[r("h1",{staticClass:"product-groups-view__section-hl"},[e._v("\n                    "+e._s(e.$t("productGroups.title."+(e.type||"catalog")))+"\n                ")]),e._v(" "),r("group-list",{staticClass:"product-groups-view__brands",attrs:{items:e.brandsCatalog,columns:e.columns}})],1)])]:[r("section",{staticClass:"section product-groups-view__section product-groups-view__sets"},[r("h1",{staticClass:"container product-groups-view__section-hl"},[e._v("\n                "+e._s(e.$t("productGroups.title."+(e.type||"catalog")))+"\n            ")]),e._v(" "),r("div",{staticClass:"container product-groups-view__sets-container"},[e.isMasterClass?r("ul",{staticClass:"product-groups-view__sets-list"},e._l(e.masterclasses,(function(t){return r("master-class-card",e._b({key:t.id,staticClass:"product-groups-view__sets-list-item",attrs:{to:e.generateCategoryUrl(t.code),"is-small":""}},"master-class-card",t,!1))})),1):r("ul",{staticClass:"product-groups-view__sets-list"},e._l(e.items,(function(t){return r("banner-card",{key:t.id,staticClass:"product-groups-view__sets-list-item",attrs:{tag:"li",title:t.name,image:t.preview_photo,to:e.generateCategoryUrl(t.code),"button-text":"Смотреть товары"}})})),1),e._v(" "),e.pagesCount>1?r("div",{staticClass:"product-groups-view__sets-controls"},[e.activePage<e.pagesCount?r("v-button",{staticClass:"btn--outline product-groups-view__sets-controls-btn",on:{click:e.onShowMore}},[e._v("\n                        Показать ещё\n                    ")]):e._e(),e._v(" "),r("v-pagination",{attrs:{value:e.activePage,"page-count":e.pagesCount},on:{input:e.onPageChanged}})],1):e._e()])])],e._v(" "),r("section",{staticClass:"section product-groups-view__section product-groups-view__seo"},[r("div",{staticClass:"container product-groups-view__seo-container"},[r("h2",{staticClass:"product-groups-view__section-hl product-groups-view__seo-hl"},[e._v("Блок SEO текста")]),e._v(" "),r("v-expander",{staticClass:"product-groups-view__seo-text",attrs:{"min-height":80,"has-mask":""},scopedSlots:e._u([{key:"btn",fn:function(t){var r=t.isExpanded;return[e._v("\n                    "+e._s(r?"Скрыть":"Показать больше")+"\n                ")]}}])},[e._v("\n                Помада L'Oreal Paris Color Riche — это первый матовый тинт для губ с ультранасыщенным цветом,\n                который абсолютно не ощущается на губах. Выбери из 10 модных оттенков те, которые тебе по душе. Эта\n                помада не оставит тебя равнодушной. Экспериментируй и наслаждайся, а Color Riche поможет тебе в\n                этом. Мы заботимся о надёжных поставщиках, качестве товаров и безопасной оплате. А что делать вам?\n                Просто наслаждаться покупками. Для экономии не нужен повод, поэтому мы каждый день даём вам скидки\n                на популярные товары самых разных категорий.\n\n                ")])],1)])],2)}),[],!1,null,null,null);t.default=z.exports}}]);