(window.webpackJsonp=window.webpackJsonp||[]).push([[54],{"/Rcj":function(e,t,r){"use strict";r.r(t);var n,a=r("NDiG"),i=r("i2Ud"),o=r("o3vK"),c=r("+gqB"),s=r("nuHk"),u=r("pFko"),l=r("ze5i"),d=r("cpWO"),p=r("2/Mz"),f=r("obii"),g=r("zfPd"),m=r("KLyl"),b=r("tHOl"),v=r("L2JU"),h=r("fhPv"),y=r("3eXy"),_=r("48TQ"),C=r("W6hq"),O=r("Nlzp");function w(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var j,P=(w(n={},"SET_LOAD_PATH",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";e.loadPath=t})),w(n,"APPLY_DATA",(function(e,t){Object.assign(e,t)})),n);function E(e){return function(e){if(Array.isArray(e))return S(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return S(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return S(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function T(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?k(Object(r),!0).forEach((function(t){x(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function x(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D(e,t,r,n,a,i,o){try{var c=e[i](o),s=c.value}catch(e){return void r(e)}c.done?t(s):Promise.resolve(s).then(n,a)}function R(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var i=e.apply(t,r);function o(e){D(i,n,a,o,c,"next",e)}function c(e){D(i,n,a,o,c,"throw",e)}o(void 0)}))}}var A,I=(x(j={},"SET_LOAD_PATH",(function(e,t){(0,e.commit)("SET_LOAD_PATH",t)})),x(j,"FETCH_BANNER",(function(e,t){return R(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.commit,t.prev=1,t.next=4,Object(O.J)();case 4:return r=t.sent,t.abrupt("return",r[6]);case 8:t.prev=8,t.t0=t.catch(1),Object(_.b)("FETCH_BANNER",!0)(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})))()})),x(j,"FETCH_CATEGORIES",(function(e){var t=arguments;return R(regeneratorRuntime.mark((function r(){var n,a;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e.commit,n=t.length>1&&void 0!==t[1]?t[1]:{},a=n.code,r.prev=2,r.next=5,Object(O.Q)(a);case 5:return r.abrupt("return",r.sent);case 8:return r.prev=8,r.t0=r.catch(2),Object(_.b)("FETCH_CATEGORIES")(r.t0),r.abrupt("return",[]);case 12:case"end":return r.stop()}}),r,null,[[2,8]])})))()})),x(j,"FETCH_FILTERS",(function(e,t){return R(regeneratorRuntime.mark((function r(){var n,a;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e.commit,n=t.categoryCode,a=t.excludedFilters,r.prev=2,r.next=5,Object(O.W)(n||void 0,a||void 0);case 5:return r.abrupt("return",r.sent);case 8:return r.prev=8,r.t0=r.catch(2),Object(_.b)("FETCH_FILTERS")(r.t0),r.abrupt("return",[]);case 12:case"end":return r.stop()}}),r,null,[[2,8]])})))()})),x(j,"FETCH_ITEMS",(function(e,t){return R(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e.commit,e.state,r.prev=1,r.next=4,Object(O.P)(t);case 4:return r.abrupt("return",r.sent);case 7:return r.prev=7,r.t0=r.catch(1),Object(_.b)("FETCH_ITEMS")(r.t0),r.abrupt("return",[]);case 11:case"end":return r.stop()}}),r,null,[[1,7]])})))()})),x(j,"FETCH_PRODUCT_GROUP",(function(e,t){return R(regeneratorRuntime.mark((function r(){var n,a;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e.commit,n=t.type,a=t.entityCode,r.prev=2,r.next=5,Object(O.cb)(n,a||void 0);case 5:return r.abrupt("return",r.sent);case 8:r.prev=8,r.t0=r.catch(2),Object(_.b)("FETCH_PRODUCT_GROUP",!0)(r.t0);case 11:case"end":return r.stop()}}),r,null,[[2,8]])})))()})),x(j,"FETCH_CATALOG_DATA",(function(e,t){return R(regeneratorRuntime.mark((function r(){var n,a,i,o,c,s,u,l,d,p,f,g,m,b,v,y,_,C,O,w,j,P,S,k,x,D;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n=e.state,a=e.dispatch,i=e.commit,o=t.type,c=t.entityCode,s=t.filter,u=t.routeSegments,l=t.filterSegments,d=t.page,p=t.orderField,f=t.orderDirection,g=t.showMore,m={},b=[],v=s,y=null,_=null,C=null,n.type===o&&n.entityCode===c){r.next=20;break}return r.next=11,a("FETCH_PRODUCT_GROUP",{type:o,entityCode:c});case 11:m.productGroup=r.sent,m.entityCode=c,m.type=o,y=m.productGroup.based,_=m.productGroup.excluded_filters,C=m.productGroup.filters,y===h.c.FILTERS?b.push({action:"FETCH_CATEGORIES",payload:{code:C.category}}):(m.categories=[],m.activeCategories=[]),r.next=25;break;case 20:m.productGroup=n.productGroup,m.categories=n.categories,y=n.productGroup.based,_=n.productGroup.excluded_filters,C=n.productGroup.filters;case 25:return v=T({},s,{},C,{category:s.category||C.category||null}),n.baseCategoryCode!==C.category||n.categoryCode!==s.category?y===h.c.FILTERS?(m.baseCategoryCode=C.category,m.categoryCode=s.category,b.push({action:"FETCH_FILTERS",payload:{categoryCode:v.category,excludedFilters:_}})):(m.baseCategoryCode=null,m.categoryCode=null,m.filters=[]):(m.categoryCode=n.categoryCode,m.baseCategoryCode=n.baseCategoryCode),m.routeSegments=u,m.filterSegments=l,m.page=d,b.push({action:"FETCH_ITEMS",payload:{filter:T({},v,{category:v.category||void 0}),page:d,orderField:p,orderDirection:f}}),r.next=33,Promise.all(b.map((function(e){return a(e.action,e.payload)})));case 33:O=r.sent,w=0;case 35:if(!(w<b.length)){r.next=53;break}j=b[w],P=O[w],r.t0=j.action,r.next="FETCH_CATEGORIES"===r.t0?41:"FETCH_FILTERS"===r.t0?43:"FETCH_ITEMS"===r.t0?45:49;break;case 41:return m.categories=P,r.abrupt("break",50);case 43:return m.filters=P,r.abrupt("break",50);case 45:return S=P.items,k=void 0===S?[]:S,x=P.range,D=void 0===x?0:x,m.items=g?[].concat(E(n.items),E(k)):k,m.range=D,r.abrupt("break",50);case 49:return r.abrupt("break",50);case 50:w++,r.next=35;break;case 53:i("APPLY_DATA",m);case 54:case"end":return r.stop()}}),r)})))()})),j),F=r("2JJK");function M(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function G(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?M(Object(r),!0).forEach((function(t){H(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function H(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var L=(H(A={},"activeCategories",(function(e){var t=e.categories,r=e.baseCategoryCode,n=e.categoryCode;return Object(C.f)(t,n||r)})),H(A,"rootCategory",(function(e,t){var r=e.baseCategoryCode;return t.activeCategories.find((function(e){return e.code===r}))})),H(A,"breadcrumbs",(function(e,t){var r=t.rootCategory,n=t.activeCategories,a=n.indexOf(r);return-1!==a?n.slice(a+1):n})),H(A,"activePage",(function(e,t,r){var n=r.route;return n.query.page?Number(n.query.page):1})),H(A,"pagesCount",(function(e){return Math.ceil(e.range/12)})),H(A,"activeCategory",(function(e,t){var r=t.activeCategories;return r[r.length-1]})),H(A,"routeSegments",(function(e,t,r){var n=r.route.params.pathMatch;return n?n.split("/"):[]})),H(A,"filterSegments",(function(e,t){var r=t.routeSegments;return Object(C.g)(r)})),H(A,"activeTags",(function(e,t){for(var r=[],n=e.filters.filter((function(e){return"range"!==e.type})),a=t.filterSegments,i=0;i<n.length;i++)for(var o=n[i],c=0;c<o.items.length;c++){var s=o.items[c];a[o.name]&&a[o.name][s.code]&&r.push(G({},s,{segment:"".concat(o.name,"-").concat(s.code)}))}return r})),A);function $(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var V="catalog";function U(){var e;return{name:V,namespaced:!0,state:(e={},$(e,"loadPath",null),$(e,"type",null),$(e,"entityCode",null),$(e,"categoryCode",null),$(e,"baseCategoryCode",null),$(e,"productGroup",$({type:h.d.CATALOG,base:h.c.FILTERS,excluded_filters:[],filters:{}},"banner",{})),$(e,"categories",[]),$(e,"filters",[]),$(e,"items",[]),$(e,"range",0),$(e,"routeSegments",[]),$(e,"filterSegments",{}),e),actions:I,mutations:P,getters:L}}r("x3SC");function q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function B(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var N={name:"category-tree-item",props:{item:{type:Object,required:!0},depth:{type:Number,default:0},disabled:{type:Boolean,default:!0}},data:function(){return{isHover:!1}},computed:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?q(Object(r),!0).forEach((function(t){B(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},Object(v.d)("route",{type:function(e){return e.params.type},entityCode:function(e){return e.params.entityCode}}),{},Object(v.c)(V,["rootCategory","activeCategories"]),{isActive:function(){var e=this;return(this.activeCategories||[]).some((function(t){return t.code===e.item.code}))},isRoot:function(){var e=this.item.code,t=this.depth,r=this.rootCategory;return r?e===r.code:0===t},isInteractive:function(){this.type;var e=this.item.code,t=this.rootCategory,r=this.isRoot,n=this.disabled;return t?e&&(r||!n):e},url:function(){var e=this.entityCode,t=this.type,r=this.item.code,n=this.isRoot,a=(this.disabled,this.rootCategory);return{path:Object(C.d)(t,e,a?!n&&r:r)}},hasChildren:function(){this.entityCode,this.type,this.item.items;return Array.isArray(this.item.items)}}),methods:{onMouseOver:function(e){this.isHover=e}}},z=r("KHd+"),W=Object(z.a)(N,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("li",{staticClass:"category-tree-item",class:[{"category-tree-item--root":0===e.depth},{"category-tree-item--active":e.isActive}],on:{mouseover:function(t){return e.onMouseOver(!0)},mouseleave:function(t){return e.onMouseOver(!1)}}},[r("div",{staticClass:"category-tree-item__label"},[e.isInteractive?r("router-link",{staticClass:"category-tree-item__link",attrs:{to:e.url,exact:""===e.item.code}},[e._v("\n            "+e._s(e.item.name)+"\n        ")]):r("span",{staticClass:"category-tree-item__link"},[e._v("\n            "+e._s(e.item.name)+"\n        ")])],1),e._v(" "),r("transition",{attrs:{name:"slide-right"}},[e.hasChildren&&(e.isHover||e.isActive)?r("ul",{staticClass:"category-tree-item__list"},e._l(e.item.items,(function(t,n){return r("category-tree-item",{key:t.id||n,staticClass:"category-tree-item__item",attrs:{item:t,depth:e.depth+1,disabled:!e.isInteractive}})})),1):e._e()])],1)}),[],!1,null,null,null).exports,J=r("MhNv"),K=r("sEfC"),X=r.n(K);r("Xtz6");function Q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Z={name:"catalog-filter",components:{VButton:i.a,VCheck:o.a,VRange:s.a,VAccordion:J.a},data:function(){return{format:{to:function(e){return Math.round(e)},from:function(e){return Number(e)}}}},computed:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(r),!0).forEach((function(t){Y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},Object(v.c)(V,["filterSegments","routeSegments"]),{},Object(v.d)(V,["filters"]),{},Object(v.d)("route",{type:function(e){return e.params.type},code:function(e){return e.params.code},entityCode:function(e){return e.params.entityCode}}),{accordionFilters:function(){return this.filters?this.filters.map((function(e){return{id:e.id,item:e,title:e.title,isExpanded:!0}})):[]}}),methods:{onRadioChange:function(e,t){var r=this.type,n=this.entityCode,a=this.code,i=this.routeSegments;i.includes(t)||i.push(t),function(e){throw new Error('"'+e+'" is read-only')}("routeSegments"),i=i.filter((function(e){return e===t}));var o=Object(C.b)(r,n,a,i);this.$router.replace({path:o})},onCheckChange:function(e,t){var r=this.type,n=this.entityCode,a=this.code,i=this.routeSegments;if(e){if(i.includes(t))return;i.push(t)}else{if(!i.includes(t))return;var o=i.indexOf(t);-1!==o&&i.splice(o,1)}var c=Object(C.b)(r,n,a,i);this.$router.replace({path:c})},onRangeChange:function(e,t){this.debounce_rangeChange(e,t)}},beforeMount:function(){var e=this;this.debounce_rangeChange=X()((function(t,r){for(var n=e.type,a=e.entityCode,i=e.code,o=e.routeSegments,c="".concat(r,"-from_").concat(t[0],"_to_").concat(t[1]),s=new RegExp("^".concat(r,"-")),u=-1,l=0;l<o.length;l++)if(o[l].match(s)){u=l;break}if(-1!==u){if(o[u]===c)return;o.splice(u,1,c)}else o.push(c);var d=Object(C.b)(n,a,i,o);e.$router.replace({path:d})}),500)}},ee=Object(z.a)(Z,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.accordionFilters&&e.accordionFilters.length>0?r("div",{staticClass:"catalog-filter"},[r("v-accordion",{staticClass:"catalog-filter__filters",attrs:{"key-field":"id",items:e.accordionFilters,"item-expanded":function(e){return e.isExpanded},"item-toggled":function(e){return e.isExpanded=!e.isExpanded}},scopedSlots:e._u([{key:"content",fn:function(t){var n=t.item;return["range"===n.item.type?r("div",{staticClass:"catalog-filter__filters-range"},[r("v-range",{attrs:{initialValue:[n.item.min,n.item.max],value:e.filterSegments[n.item.name]||[n.item.min,n.item.max],max:n.item.max,min:n.item.min,format:e.format},on:{input:function(t){return e.onRangeChange(t,n.item.name)}}})],1):"check"===n.item.type?r("div",{staticClass:"catalog-filter__filters-check"},e._l(n.item.items,(function(t){return r("v-check",{key:t.id,attrs:{id:n.item.name+"-"+t.id,name:n.item.name,checked:e.filterSegments[n.item.name]&&e.filterSegments[n.item.name][t.code]},on:{change:function(r){return e.onCheckChange(r,n.item.name+"-"+t.code)}}},[e._v("\n                    "+e._s(t.name)+"\n                ")])})),1):"radio"===n.item.type?r("div",{staticClass:"catalog-filter__filters-check"},e._l(n.item.items,(function(t){return r("v-check",{key:t.id,attrs:{id:n.item.name+"-"+t.id,type:"radio",name:n.item.name,checked:e.filterSegments[n.item.name]&&e.filterSegments[n.item.name][t.code]},on:{change:function(r){return e.onRadioChange(r,n.item.name+"-"+t.code)}}},[e._v("\n                    "+e._s(t.name)+"\n                ")])})),1):e._e()]}}],null,!1,1429883620)})],1):e._e()}),[],!1,null,null,null).exports,te=r("LqtR"),re=r("NkcL"),ne=r("6AGh"),ae=r("8TZ/"),ie=r("0CxO"),oe=r("55Sm"),ce=r("jDKC"),se=r("aXGN"),ue=Object.freeze({PRICE:"price"}),le=r("4mC1");r("4eDr"),r("9bRU");function de(e,t,r,n,a,i,o){try{var c=e[i](o),s=c.value}catch(e){return void r(e)}c.done?t(s):Promise.resolve(s).then(n,a)}function pe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function fe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pe(Object(r),!0).forEach((function(t){ge(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ge(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var me={name:"catalog",components:{VSvg:a.a,VButton:i.a,VSelect:u.a,VPagination:c.a,VSticky:l.a,VExpander:d.a,Modal:p.a,Breadcrumbs:f.a,BreadcrumbItem:g.a,FilterButton:m.a,TagItem:b.a,CategoryTreeItem:W,CatalogFilter:ee,CatalogProductList:re.a,CatalogBannerCard:te.a,ShowMoreButton:ne.a},data:function(){var e=[{id:1,title:"Сначала подороже",field:ue.PRICE,direction:F.sortDirections.DESC},{id:2,title:"Сначала подешевле",field:ue.PRICE,direction:F.sortDirections.ASC}];return{sortValue:e[0],sortOptions:e,filterModal:!1,showMore:!1}},computed:fe({},Object(v.c)(V,["activeTags","activeCategory","activePage","pagesCount","routeSegments","breadcrumbs"]),{},Object(v.d)(V,["items","banner","categories","productGroup","type"]),{},Object(v.d)("route",{code:function(e){return e.params.code},entityCode:function(e){return e.params.entityCode}}),{breadcrumbRootUrl:function(){var e=this.type,t="";switch(e){case h.d.CATALOG:case h.d.NEW:t="Catalog";break;default:t="ProductGroups"}return{name:t,params:{type:e}}},isTabletLg:function(){return this.$mq.tabletLg},isTablet:function(){return this.$mq.tablet},mobileImg:function(){var e=this.productGroup.banner||{},t=e.mobileImage||e.tabletImage||e.desktopImage;if(t)return{webp:Object(se.c)(320,240,t.id,F.fileExtension.image.WEBP),orig:Object(se.c)(320,240,t.id)}},tabletImg:function(){var e=this.productGroup.banner||{},t=e.tabletImage||e.desktopImage;if(t)return{webp:Object(se.c)(768,240,t.id,F.fileExtension.image.WEBP),orig:Object(se.c)(768,240,t.id)}},desktopImg:function(){var e=this.productGroup.banner||{},t=e.desktopImage||e.tabletImage;if(t)return{webp:Object(se.c)(1224,240,t.id,F.fileExtension.image.WEBP),orig:Object(se.c)(1224,240,t.id)}},defaultImg:function(e){var t=this.productGroup.banner||{},r=t.desktopImage||t.tabletImage||t.mobileImage;if(r)return Object(se.c)(1224,240,r.id)},clearFilterUrl:function(){var e=this.type,t=this.entityCode,r=this.code;return Object(C.d)(e,t,r)}}),watch:{sortValue:function(e,t){e!==t&&this.$router.replace({path:this.$route.path,query:{orderField:e.field,orderDirection:e.direction}})}},methods:fe({},Object(v.b)(V,["FETCH_CATALOG_DATA","SET_LOAD_PATH"]),{},Object(v.b)(ae.c,[ie.a]),{},Object(v.b)(oe.b,[ce.a]),{generateBreadcrumbUrl:function(e){var t=this.type,r=this.entityCode;return{path:Object(C.d)(t,r,e)}},setSortValue:function(e,t){this.sortValue=this.sortOptions.find((function(r){return r.field===e&&r.direction===t}))||this.sortOptions[0]},onClickDeleteTag:function(e){var t=this.type,r=this.code,n=this.entityCode,a=this.routeSegments;if(a.includes(e)){var i=a.indexOf(e);-1!==i&&a.splice(i,1);var o=Object(C.b)(t,n,r,a);this.$router.replace({path:o})}},onShowMore:function(){this.showMore=!0,this.$router.replace({path:this.$route.path,query:fe({},this.$route.query,{page:this.activePage+1})})},onPageChanged:function(e){this.showMore=!1,this.$router.push({path:this.$route.path,query:fe({},this.$route.query,{page:e})})},fetchCatalog:function(e,t,r){var n,a=this;return(n=regeneratorRuntime.mark((function n(){var i,o,c,s,u,l,d,p,f,g,m,b,v,h,y,_,O,w,j,P;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,i=e.params,o=i.code,c=i.entityCode,s=i.type,u=i.pathMatch,l=e.query,d=l.page,p=void 0===d?1:d,f=l.orderField,g=void 0===f?ue.PRICE:f,m=l.orderDirection,b=void 0===m?F.sortDirections.DESC:m,(v=t.params).code,v.entityCode,v.type,h=t.query,y=(h=void 0===h?{page:1}:h).page,_=void 0===y?1:y,O=Object(C.a)(u,o),w=O.filter,j=O.routeSegments,P=O.filterSegments,a.$progress.start(),n.next=10,a.FETCH_CATALOG_DATA({type:s,entityCode:c,code:o,filter:w,routeSegments:j,filterSegments:P,page:p,orderField:g,orderDirection:b,showMore:r});case 10:a.setSortValue(g,b),a.$progress.finish(),r||p===_||window.scrollTo({top:le.d+1,behavior:"smooth"}),r&&setTimeout((function(){return a.showMore=!1}),200),n.next=21;break;case 16:if(n.prev=16,n.t0=n.catch(0),!n.t0||!0!==n.t0.isCancel){n.next=20;break}return n.abrupt("return");case 20:a.$progress.fail();case 21:case"end":return n.stop()}}),n,null,[[0,16]])})),function(){var e=this,t=arguments;return new Promise((function(r,a){var i=n.apply(e,t);function o(e){de(i,r,a,o,c,"next",e)}function c(e){de(i,r,a,o,c,"throw",e)}o(void 0)}))})()}}),beforeRouteEnter:function(e,t,r){var n=e.fullPath,a=e.params,i=a.code,o=void 0===i?null:i,c=a.entityCode,s=void 0===c?null:c,u=a.type,l=a.pathMatch,d=e.query,p=(d=void 0===d?{page:1,orderField:ue.PRICE,orderDirection:F.sortDirections.DESC}:d).page,f=void 0===p?1:p,g=d.orderField,m=void 0===g?ue.PRICE:g,b=d.orderDirection,v=void 0===b?F.sortDirections.DESC:b;Object(_.a)(y.$store,V,U);var h=y.$store.state[V],O=h.loadPath,w=h.categoryCode,j=h.entityCode,P=h.type;if(O===n&&u===P&&o===w&&s===j)r((function(e){return e.setSortValue(m,v)}));else{var E=Object(C.a)(l,o),S=E.filter,k=E.routeSegments,T=E.filterSegments;y.$progress.start(),y.$store.dispatch("".concat(V,"/").concat("FETCH_CATALOG_DATA"),{type:u,entityCode:s,code:o,filter:S,routeSegments:k,filterSegments:T,page:f,orderField:m,orderDirection:v}).then((function(e){y.$store.dispatch("".concat(V,"/").concat("SET_LOAD_PATH"),n),r((function(e){e.setSortValue(m,v),y.$progress.finish()}))})).catch((function(e){if(e&&!0===e.isCancel)return r();y.$progress.fail(),r()}))}},beforeRouteUpdate:function(e,t,r){var n=e.params,a=n.code,i=n.entityCode,o=n.type,c=n.pathMatch,s=e.query,u=s.page,l=void 0===u?1:u,d=s.orderField,p=void 0===d?ue.PRICE:d,f=s.orderDirection,g=void 0===f?F.sortDirections.DESC:f,m=t.params,b=m.code,v=m.entityCode,h=m.type,y=m.pathMatch,_=t.query,C=_.page,O=void 0===C?1:C,w=_.orderField,j=void 0===w?ue.PRICE:w,P=_.orderDirection,E=void 0===P?F.sortDirections.DESC:P;if(o===h&&i===v&&a===b&&c===y&&l===O&&p===j&&g===E)return r();this.showMore?this.fetchCatalog(e,t,this.showMore):this.debounce_fetchCatalog(e,t),r()},beforeRouteLeave:function(e,t,r){this.debounce_fetchCatalog.cancel(),r()},beforeMount:function(){this.debounce_fetchCatalog=X()(this.fetchCatalog,500)}},be=Object(z.a)(me,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"section catalog-view"},[r("div",{staticClass:"container catalog-view__header"},[r("breadcrumbs",{staticClass:"catalog-view__breadcrumbs"},[r("breadcrumb-item",{key:"main",attrs:{to:"/"}},[e._v("\n                Главная\n            ")]),e._v(" "),r("breadcrumb-item",{key:e.type,attrs:{to:e.breadcrumbRootUrl}},[e._v("\n                "+e._s(e.$t("productGroups.title."+e.type))+"\n            ")]),e._v(" "),e.entityCode?r("breadcrumb-item",{key:e.entityCode,attrs:{to:e.generateBreadcrumbUrl(null)}},[e._v("\n                "+e._s(e.productGroup&&e.productGroup.name)+"\n            ")]):e._e(),e._v(" "),e._l(e.breadcrumbs,(function(t){return r("breadcrumb-item",{key:t.id,attrs:{to:e.generateBreadcrumbUrl(t.code)}},[e._v("\n                "+e._s(t.name)+"\n            ")])}))],2),e._v(" "),e.productGroup.banner?r("catalog-banner-card",{staticClass:"catalog-view__banner",attrs:{item:e.productGroup.banner}},[r("source",{attrs:{"data-srcset":e.desktopImg.webp,type:"image/webp",media:"(min-width: 1024px)"}}),e._v(" "),r("source",{attrs:{"data-srcset":e.desktopImg.orig,media:"(min-width: 1024px)"}}),e._v(" "),r("source",{attrs:{"data-srcset":e.tabletImg.webp,type:"image/webp",media:"(min-width: 768px)"}}),e._v(" "),r("source",{attrs:{"data-srcset":e.tabletImg.orig,media:"(min-width: 768px)"}}),e._v(" "),r("source",{attrs:{"data-srcset":e.mobileImg.webp,type:"image/webp",media:"(min-width: 320px)"}}),e._v(" "),r("source",{attrs:{"data-srcset":e.mobileImg.orig,media:"(min-width: 320px)"}}),e._v(" "),e.defaultImg?r("img",{staticClass:"blur-up lazyload v-picture__img",attrs:{"data-src":e.defaultImg,alt:""}}):e._e()]):e._e()],1),e._v(" "),r("section",{staticClass:"section"},[r("div",{staticClass:"container catalog-view__grid"},[!e.isTabletLg&&e.categories.length>0?r("div",{staticClass:"catalog-view__side-panel"},[r("ul",{staticClass:"catalog-view__side-panel-categories"},e._l(e.categories,(function(e){return r("category-tree-item",{key:e.id,staticClass:"catalog-view__side-panel-categories-item",attrs:{item:e}})})),1),e._v(" "),r("catalog-filter",{staticClass:"catalog-view__side-panel-filters"}),e._v(" "),r("v-button",{staticClass:"btn--outline catalog-view__side-panel-clear-btn",attrs:{to:e.clearFilterUrl,replace:""}},[e._v("\n                    Очистить фильтры\n                ")])],1):e._e(),e._v(" "),r("div",{staticClass:"catalog-view__main"},[r("div",{staticClass:"catalog-view__main-header"},[r("div",{staticClass:"catalog-view__main-header-title"},[r("h1",{staticClass:"catalog-view__main-header-hl"},[e._v("\n                            "+e._s(e.activeCategory?e.activeCategory.name:"Все категории")+"\n                        ")])]),e._v(" "),r("v-select",{staticClass:"catalog-view__main-header-sort",attrs:{label:"title","track-by":"id",options:e.sortOptions,searchable:!1,"allow-empty":!1,"show-labels":!1},model:{value:e.sortValue,callback:function(t){e.sortValue=t},expression:"sortValue"}}),e._v(" "),r("filter-button",{staticClass:"catalog-view__main-header-btn",on:{click:function(t){e.filterModal=!e.filterModal}}},[e._v("\n                        Фильтр и сортировка  \n                        "),r("span",{staticClass:"text-grey"},[e._v(e._s(e.activeTags.length))])])],1),e._v(" "),e.isTabletLg?e._e():r("transition-group",{staticClass:"catalog-view__main-tags",attrs:{tag:"ul",name:"tag-item"}},e._l(e.activeTags,(function(t,n){return r("tag-item",{key:t.code,attrs:{"data-index":n,text:t.name},on:{delete:function(r){return e.onClickDeleteTag(t.segment)}}})})),1),e._v(" "),r("catalog-product-list",{key:e.type,staticClass:"catalog-view__main-grid",attrs:{items:e.items,animation:!e.isTablet,fullscreen:e.categories&&0===e.categories.length}}),e._v(" "),e.pagesCount>1?r("div",{staticClass:"catalog-view__main-controls"},[e.activePage<e.pagesCount?r("show-more-button",{attrs:{"btn-class":"btn--outline catalog-view__main-controls-btn","show-preloader":e.showMore},on:{click:e.onShowMore}},[e._v("\n                        Показать ещё\n                    ")]):e._e(),e._v(" "),r("v-pagination",{attrs:{value:e.activePage,"page-count":e.pagesCount},on:{input:e.onPageChanged}})],1):e._e()],1)])]),e._v(" "),r("transition",{attrs:{name:"fade-in"}},[e.filterModal&&e.isTabletLg?r("modal",{staticClass:"catalog-view__modal-filter",attrs:{"show-close-btn":!1,type:"fullscreen"},scopedSlots:e._u([{key:"body",fn:function(){return[r("v-sticky",{staticClass:"catalog-view__modal-filter-sticky",scopedSlots:e._u([{key:"sticky",fn:function(){return[r("div",{staticClass:"catalog-view__modal-filter-header"},[r("button",{staticClass:"catalog-view__modal-filter-header-btn",on:{click:function(t){e.filterModal=!1}}},[r("v-svg",{attrs:{name:"cross-small",width:"14",height:"14"}}),e._v("Фильтр\n                            ")],1)])]},proxy:!0}],null,!1,219555529)},[e._v(" "),r("div",{staticClass:"catalog-view__modal-filter-sort"},[r("div",{staticClass:"catalog-view__modal-filter-sort-title"},[e._v("Сортировка")]),e._v(" "),r("ul",{staticClass:"catalog-view__modal-filter-sort-list"},e._l(e.sortOptions,(function(t){return r("li",{key:t.title,staticClass:"catalog-view__modal-filter-sort-item",class:{"catalog-view__modal-filter-sort-item--active":t===e.sortValue}},[r("button",{staticClass:"catalog-view__modal-filter-sort-btn",on:{click:function(r){e.sortValue=t}}},[e._v("\n                                    "+e._s(t.title)+"\n                                ")])])})),0)]),e._v(" "),r("catalog-filter",{staticClass:"catalog-view__modal-filter-panel"}),e._v(" "),r("div",{staticClass:"catalog-view__modal-filter-controls"},[r("v-button",{staticClass:"btn--outline catalog-view__modal-filter-clear-btn",attrs:{to:e.clearFilterUrl,replace:""}},[e._v("\n                            Очистить\n                        ")]),e._v(" "),r("v-button",{staticClass:"catalog-view__modal-filter-close-btn",on:{click:function(t){e.filterModal=!e.filterModal}}},[e._v("Показать")])],1)],1)]},proxy:!0}],null,!1,4237079921)}):e._e()],1),e._v(" "),r("section",{staticClass:"section catalog-view__section catalog-view__seo"},[r("div",{staticClass:"container catalog-view__seo-container"},[r("h2",{staticClass:"catalog-view__section-hl catalog-view__seo-hl"},[e._v("Блок SEO текста")]),e._v(" "),r("v-expander",{staticClass:"catalog-view__seo-text",attrs:{"min-height":80,"has-mask":""},scopedSlots:e._u([{key:"btn",fn:function(t){var r=t.isExpanded;return[e._v("\n                    "+e._s(r?"Скрыть":"Показать больше")+"\n                ")]}}])},[e._v("\n                Помада L'Oreal Paris Color Riche — это первый матовый тинт для губ с ультранасыщенным цветом,\n                который абсолютно не ощущается на губах. Выбери из 10 модных оттенков те, которые тебе по душе. Эта\n                помада не оставит тебя равнодушной. Экспериментируй и наслаждайся, а Color Riche поможет тебе в\n                этом. Мы заботимся о надёжных поставщиках, качестве товаров и безопасной оплате. А что делать вам?\n                Просто наслаждаться покупками. Для экономии не нужен повод, поэтому мы каждый день даём вам скидки\n                на популярные товары самых разных категорий.\n\n                ")])],1)])],1)}),[],!1,null,null,null);t.default=be.exports},"9bRU":function(e,t,r){},Xtz6:function(e,t,r){},x3SC:function(e,t,r){}}]);