(window.webpackJsonp=window.webpackJsonp||[]).push([[94],{X4eb:function(t,e,a){},"zP/w":function(t,e,a){"use strict";a.r(e);var r=a("i2Ud"),n=a("ze5i"),i=a("45Ux"),s=a("PZpB"),o=a("Z14j"),c=(a("XJM6"),a("f5/Z")),l=a("fOuK"),u=a("MM1r"),d=a("L2JU"),p=a("Q2AE"),m=a("Qchp"),v=a("hFEP"),f=a("8TZ/"),y=a("3eXy"),_=a("2JJK"),h=a("tCqp"),g=a("fhPv"),b=a("GyY8"),C=a("QmAe"),w=a("oEqv"),k=a("aXGN"),O=a("W6hq");a("X4eb");function P(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function j(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?P(Object(a),!0).forEach((function(e){I(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):P(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function I(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var T={name:"thank-you",components:{VButton:r.a,VSticky:n.a,InfoRow:i.a,InfoPanel:s.a,AttentionPanel:o.a,CartMasterClassCard:u.a,CartProductCard:c.a,CartBundleProductCard:l.a},computed:j(j(j(j(j({},Object(d.d)([p.g])),Object(d.d)(f.c,[f.a])),Object(d.d)(m.c,[m.d])),Object(d.d)("route",{id:function(t){return t.params.id}})),{},{dates:function(){var t=this,e=this.order.delivery.dates,a=void 0===e?[]:e;return a.map((function(e){var a=Object(C.e)(e),r=a.toLocaleDateString(t[p.g],b.b),n=a.toLocaleString(t[p.g],b.d),i=t.$t("weekdays.long.".concat(a.getDay()));return"".concat(r,", ").concat(i,", ").concat(n)}))},items:function(){var t=this,e=this.order,a=this.cartData,r=void 0===a?{}:a;switch(e.type){case g.a.PRODUCT:var n=(r[g.a.MASTERCLASS]||{}).items,i=void 0===n?[]:n;return i.map((function(e){var a=e.p,r=new Date("".concat(a.nearestDate," ").concat(a.nearestTimeFrom)),n=r.toLocaleString(t[p.g],b.b),i=r.toLocaleString(t[p.g],b.d),s="".concat(n,", ").concat(i),o=Object(O.h)(a.code),c=a.speakers&&a.speakers[0],l=c&&"".concat(c.firstName," ").concat(c.lastName,", ").concat(c.profession),u="".concat(a.name," (Входной билет ").concat(a.ticketTypeName,")"),d=a.image&&Object(k.c)(144,96,a.image.id),m=a.image&&{webp:Object(k.c)(144,96,a.image.id,_.fileExtension.image.WEBP),orig:Object(k.c)(144,96,a.image.id)};return j(j({},e),{},{p:j(j({},a),{},{name:u,url:o,author:l,dateTime:s,desktopImg:m,defaultImg:d})})}));case g.a.MASTERCLASS:var s=(r[g.a.PRODUCT]||{}).items;return(void 0===s?[]:s).map((function(t){var e=t.p,a=e.categoryCodes&&e.categoryCodes[e.categoryCodes.length-1],r=Object(O.i)(a,e.code),n=e.type===g.a.PRODUCT&&e.image,i=n&&Object(k.c)(64,64,e.image.id),s=n&&{webp:Object(k.c)(64,64,e.image.id,_.fileExtension.image.WEBP),orig:Object(k.c)(64,64,e.image.id)};return j(j({},t),{},{p:j(j({},e),{},{href:r,defaultImg:i||void 0,desktopImg:s||void 0})})}));default:return[]}},title:function(){var t=this.order;switch(t&&t.type){case g.a.PRODUCT:return"Заказ успешно оформлен";case g.a.MASTERCLASS:return"Билеты успешно оформлены";default:return"Заказ"}},orderDelivery:function(){return this.$t("deliveryMethod.".concat(this.order.delivery.deliveryMethod))},fullUserInfo:function(){var t=this.order.user,e=t.name,a=t.phone,r=t.email;return"".concat(e,", ").concat(Object(C.d)(a),", ").concat(r)},deliveryAddress:function(){var t=(this[m.d]||{delivery:{}}).delivery,e=t.point,a=t.address,r=null;switch(t.deliveryMethod){case h.e.PICKUP:r=e.address;break;default:r=a}return r&&Object(w.a)(r)},isMasterClass:function(){var t=this.order;return t&&t.type===g.a.MASTERCLASS},isTabletLg:function(){return this.$mq.tabletLg},isTablet:function(){return this.$mq.tablet}}),beforeRouteEnter:function(t,e,a){var r=t.params.id;y.$store.state[m.c].order;y.$progress.start(),y.$store.dispatch("".concat(m.c,"/").concat(v.q),r).then((function(){a((function(t){y.$progress.finish()}))})).catch((function(e){y.$progress.fail(),e.status===httpCodes.NOT_FOUND?a(createNotFoundRoute(t)):a(new Error(e.message)),y.$progress.finish()}))},beforeCreate:function(){this.cartItemTypes=g.a}},D=a("KHd+"),S=Object(D.a)(T,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"section thank-you-view"},[a("div",{staticClass:"container"},[a("h1",{staticClass:"thank-you-view__hl"},[t._v("\n            "+t._s(t.title)+"\n        ")])]),t._v(" "),a("div",{staticClass:"container thank-you-view__container"},[a("v-sticky",{staticClass:"thank-you-view__sticky",scopedSlots:t._u([{key:"sticky",fn:function(){return[a("info-panel",{staticClass:"thank-you-view__panel",attrs:{header:"Информация о заказе","max-lines":t.isTablet?2:1}},[t.order?a("div",{staticClass:"container container--tablet"},[t.isMasterClass?[a("ul",{staticClass:"thank-you-view__panel-list"},[a("info-row",{staticClass:"thank-you-view__panel-item",attrs:{name:"Номер заказа",value:t.order.id}}),t._v(" "),a("info-row",{staticClass:"thank-you-view__panel-item",attrs:{name:"Получатель",value:t.order.email}})],1),t._v(" "),a("attention-panel",{staticClass:"thank-you-view__panel-attention"},[t._v("\n                                Посмотреть информацию о дате и месте проведения мастер-классов можно в письме,\n                                отправленном на ваш email\n                            ")])]:a("ul",{staticClass:"thank-you-view__panel-list"},[a("info-row",{staticClass:"thank-you-view__panel-item",attrs:{name:"Номер заказа",value:t.order.id}}),t._v(" "),a("info-row",{staticClass:"thank-you-view__panel-item",attrs:{name:"Получатель",value:t.fullUserInfo}}),t._v(" "),a("info-row",{staticClass:"thank-you-view__panel-item",attrs:{name:"Способ получения",value:t.orderDelivery}}),t._v(" "),a("info-row",{staticClass:"thank-you-view__panel-item",attrs:{name:"Адрес доставки",value:t.deliveryAddress}}),t._v(" "),a("info-row",{staticClass:"thank-you-view__panel-item",attrs:{name:"Даты доставки"}},[a("ul",t._l(t.dates,(function(e){return a("li",{key:e},[t._v("\n                                        "+t._s(e)+"\n                                    ")])})),0)])],1),t._v(" "),a("v-button",{staticClass:"btn--outline thank-you-view__panel-btn",attrs:{to:"/"}},[t._v("На главную страницу")])],2):t._e()])]},proxy:!0}])}),t._v(" "),t.items&&t.items.length>0?a("v-sticky",{staticClass:"thank-you-view__sticky",scopedSlots:t._u([{key:"sticky",fn:function(){return[a("info-panel",{staticClass:"thank-you-view__panel",attrs:{header:"В корзине остались неоформленные позиции","max-lines":t.isTablet?2:1}},[t.isMasterClass?a("ul",{staticClass:"thank-you-view__panel-list"},[t._l(t.items,(function(e){var r=e.p,n=e.count,i=e.type;return[i===t.cartItemTypes.PRODUCT?a("cart-product-card",{key:r.id,staticClass:"thank-you-view__panel-card",attrs:{"offer-id":r.id,"product-id":r.productId,type:i,name:r.name,image:r.image,price:r.price,"old-price":r.oldPrice,count:n,href:r.url},on:{deleteItem:function(e){return t.onDeleteCartItem(r.id,r.stock.storeId)},"toggle-favorite-item":function(e){return t.onToggleFavorite(r)},countChange:function(e){return t.onAddCartItem(r.id,r.stock.storeId,e.count)}}},[r.desktopImg?[a("source",{attrs:{"data-srcset":r.desktopImg.webp,type:"image/webp"}}),t._v(" "),a("source",{attrs:{"data-srcset":r.desktopImg.orig}})]:t._e(),t._v(" "),a("img",{staticClass:"blur-up lazyload v-picture__img",attrs:{"data-src":r.defaultImg,alt:""}})],2):i===t.cartItemTypes.BUNDLE_PRODUCT?a("cart-bundle-product-card",{key:r.id,staticClass:"thank-you-view__panel-card",attrs:{"bundle-id":r.id,name:r.name,price:r.price,bonus:r.bonus,"old-price":r.oldPrice,items:r.items,count:n},on:{deleteBundle:t.onDeleteBundle}}):t._e()]}))],2):a("ul",{staticClass:"thank-you-view__panel-list"},t._l(t.items,(function(e){var r=e.id,n=e.p,i=e.type;return a("cart-master-class-card",{key:r,staticClass:"thank-you-view__panel-card",attrs:{type:i,"product-id":n.id,name:n.name,note:n.note,image:n.image,price:n.price,"old-price":n.oldPrice,date:n.dateTime,author:n.author,href:n.url}},[n.desktopImg?[a("source",{attrs:{"data-srcset":n.desktopImg.webp,type:"image/webp"}}),t._v(" "),a("source",{attrs:{"data-srcset":n.desktopImg.orig}})]:t._e(),t._v(" "),a("img",{staticClass:"blur-up lazyload v-picture__img",attrs:{"data-src":n.defaultImg,alt:""}})],2)})),1),t._v(" "),a("div",{staticClass:"container container--tablet"},[a("v-button",{staticClass:"thank-you-view__panel-btn",attrs:{to:{name:"Cart"}}},[t._v("\n                            Перейти в оформлению\n                        ")])],1)])]},proxy:!0}],null,!1,4041479)}):t._e()],1)])}),[],!1,null,null,null);e.default=S.exports}}]);