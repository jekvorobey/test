{"version":3,"sources":["webpack:///./src/views/ItemDetail/ItemDetail.vue?4196","webpack:///./src/components/Spinner/Spinner.vue?2b7e","webpack:///src/components/Spinner/Spinner.vue","webpack:///./src/components/Spinner/Spinner.vue","webpack:///./src/components/Spinner/Spinner.vue?3575","webpack:///./src/components/controls/VSvg/VSvg.vue?3e81","webpack:///src/components/controls/VSvg/VSvg.vue","webpack:///./src/components/controls/VSvg/VSvg.vue","webpack:///./src/components/controls/VSvg/VSvg.vue?05f9","webpack:///src/components/controls/VButton/VButton.vue","webpack:///./src/components/controls/VButton/VButton.vue?fc21","webpack:///./src/components/Comment/Comment.vue?8ad5","webpack:///src/components/Comment/Comment.vue","webpack:///./src/components/controls/VButton/VButton.vue","webpack:///./src/components/controls/VButton/VButton.vue?90af","webpack:///./src/components/Comment/Comment.vue","webpack:///./src/components/Comment/Comment.vue?425d","webpack:///./src/views/ItemDetail/ItemDetail.vue?e201","webpack:///src/views/ItemDetail/ItemDetail.vue","webpack:///./src/views/ItemDetail/ItemDetail.vue","webpack:///./src/api/index.js","webpack:///./src/api/create-api-client.js","webpack:///./src/store/modules/ItemList/actions.js","webpack:///./src/store/modules/ItemList/mutations.js","webpack:///./src/store/modules/ItemList/getters.js","webpack:///./src/store/modules/ItemList/index.js","webpack:///./src/components/Spinner/Spinner.vue?04d0","webpack:///./src/components/Comment/Comment.vue?dd88","webpack:///./src/views/ItemDetail/ItemDetail.vue?f66b"],"names":["Spinner_Spinnervue_type_script_lang_js_","name","props","serverCacheKey","show","Spinner","Object","componentNormalizer","_h","this","$createElement","_c","_self","directives","rawName","value","expression","staticClass","class","attrs","width","height","viewBox","fill","stroke-width","stroke-linecap","cx","cy","r","VSvg_VSvgvue_type_script_lang_js_","type","String","default","modifier","concat","VSvg","_obj","_b","xlink:href","placements","types","VButton_VButtonvue_type_script_lang_js_","components","iconName","iconModifier","validator","indexOf","placement","href","to","computed","handlers","_this","keys","$listeners","forEach","k","e","$emit","Comment_Commentvue_type_script_lang_js_","VButton","_vm","_g","_e","_v","_t","data","open","comment","$store","state","item_list","items","id","methods","pluralize","n","Comment","by","_s","_f","time","domProps","innerHTML","text","kids","length","on","click","$event","_l","key","ItemDetail_ItemDetailvue_type_script_lang_js_","loading","item","$route","params","beforeRouteEnter","from","next","store","ServiceLocator_default","a","progress","$progress","_modulesNamespaceMap","ItemList","registerModule","preserveState","start","vm","finish","dispatch","ids","then","beforeRouteUpdate","fetchItems","serverPrefetch","beforeMount","fetchComments","title","watch","_this2","_fetchComments","Promise","all","map","ItemDetail_component","url","target","score","descendants","__webpack_exports__","process","__webpack_require__","d","fetchIdsByType","fetchUser","watchList","create_api__WEBPACK_IMPORTED_MODULE_0__","_services_ServiceLocator__WEBPACK_IMPORTED_MODULE_1__","logger","ServiceLocator","$logger","logRequests","env","DEBUG_API","api","createAPI","version","config","databaseURL","fetch","child","info","cache","cachedItems","has","resolve","get","reject","once","snapshot","val","__lastUpdated","Date","now","set","cachedIds","fetchItem","cb","first","ref","handler","off","onServer","warmCache","top","slice","setTimeout","firebase_app__WEBPACK_IMPORTED_MODULE_0__","firebase_app__WEBPACK_IMPORTED_MODULE_0___default","_ref","Firebase","initializeApp","database","actions","FETCH_LIST_DATA","_ref2","commit","ENSURE_ACTIVE_ITEMS","_ref3","getters","activeIds","FETCH_ITEMS","_ref4","_ref5","filter","FETCH_USER","_ref6","_ref7","users","user","SET_USER","_ref8","_ref9","mutations","SET_ACTIVE_TYPE","activeType","SET_LIST","lists","SET_ITEMS","Vue","rootState","itemsPerPage","page","Number","route","end","activeItems","_","namespaced","new","ask","job","_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_dist_cjs_js_ref_6_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_node_modules_vue_loader_lib_index_js_vue_loader_options_Spinner_vue_vue_type_style_index_0_lang_postcss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_dist_cjs_js_ref_6_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_node_modules_vue_loader_lib_index_js_vue_loader_options_Comment_vue_vue_type_style_index_0_lang_postcss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_dist_cjs_js_ref_6_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_node_modules_vue_loader_lib_index_js_vue_loader_options_ItemDetail_vue_vue_type_style_index_0_lang_postcss___WEBPACK_IMPORTED_MODULE_0__"],"mappings":"6GAAA,ICA6LA,ECS7L,CACAC,KAAA,UACAC,MAAA,SACAC,eAAA,SAAAD,GAAA,OAAAA,EAAAE,wBCOeC,EAXCC,OAAAC,EAAA,EAAAD,CACdN,ECTQ,WAAgB,IAAaQ,EAAbC,KAAaC,eAA0BC,EAAvCF,KAAuCG,MAAAD,IAAAH,EAAwB,OAAAG,EAAA,cAAAA,EAAA,OAAkCE,WAAA,EAAaZ,KAAA,OAAAa,QAAA,SAAAC,MAA9GN,KAA8G,KAAAO,WAAA,SAAgEC,YAAA,UAAAC,MAAA,CAA+Bd,KAA7MK,KAA6ML,MAAiBe,MAAA,CAAQC,MAAA,OAAAC,OAAA,OAAAC,QAAA,cAAsD,CAAAX,EAAA,UAAeM,YAAA,OAAAE,MAAA,CAA0BI,KAAA,OAAAC,eAAA,IAAAC,iBAAA,QAAAC,GAAA,KAAAC,GAAA,KAAAC,EAAA,aAC5U,IDWnB,EACA,KACA,KACA,cEfgMC,ECUhM,CACA5B,KAAA,QACAC,MAAA,CACAD,KAAA,CAAA6B,KAAAC,OAAAC,QAAA,MACAC,SAAA,CAAAH,KAAAC,OAAAC,QAAA,OAEA7B,eAAA,SAAAD,GAAA,OAAAA,EAAA+B,SAAA,GAAAC,OAAAhC,EAAAD,KAAA,KAAAiC,OAAAhC,EAAA+B,UAAA/B,EAAAD,OCEekC,EAXC7B,OAAAC,EAAA,EAAAD,CACduB,ECRQ,WACV,IAAAO,EACa5B,EAAbC,KAAaC,eAA0BC,EAAvCF,KAAuCG,MAAAD,IAAAH,EAAwB,OAAAG,EAAA,OAAiBM,YAAA,OAAAC,OAAAkB,EAAA,GAAoCA,EAAA,UAApH3B,KAAoHwB,UAApHxB,KAAoHR,OAApHQ,KAAoHwB,UAApHxB,KAAoHR,KAAAmC,IAAmF,CAAAzB,EAAA,MAAvMF,KAAuM4B,GAAA,GAAoB,OAAQC,aAAA,SAAnO7B,KAAmOR,OAAsC,OACtP,IDQnB,EACA,KACA,KACA,cEOAsC,EAAA,mBACAC,EAAA,4BCtBmMC,ED2BnM,CACAxC,KAAA,WACAyC,WAAA,CACAP,QAEAjC,MAAA,CACAyC,SAAAZ,OACAa,aAAAb,OACAD,KAAA,CACAA,KAAAC,OACAC,QAAA,SACAa,UAHA,SAGA9B,GACA,WAAAyB,EAAAM,QAAA/B,KAGAgC,UAAA,CACAjB,KAAAC,OACAC,QAAA,SACAa,UAHA,SAGA9B,GACA,WAAAwB,EAAAO,QAAA/B,KAGAiC,KAAA,CACAlB,KAAAC,QAEAkB,GAAA,CACAnB,KAAA,CAAAC,OAAAzB,UAIA4C,SAAA,CACAC,SADA,WACA,IAAAC,EAAA3C,KACA4C,EAAA/C,OAAA+C,KAAA5C,KAAA6C,YACAH,EAAA,GAEA,OADAE,EAAAE,QAAA,SAAAC,GAAA,OAAAL,EAAAK,GAAA,SAAAC,GAAA,OAAAL,EAAAM,MAAAF,EAAAC,MACAN,KE9D6LQ,ECmB7L,CACA1D,KAAA,UACAyC,WAAA,CACAkB,QCfgBtD,OAAAC,EAAA,EAAAD,CACdmC,ECRQ,WAAgB,IAAAoB,EAAApD,KAAaD,EAAAqD,EAAAnD,eAA0BC,EAAAkD,EAAAjD,MAAAD,IAAAH,EAAwB,OAAAqD,EAAA,KAAAlD,EAAA,IAAAkD,EAAAC,GAAA,CAAiC7C,YAAA,MAAAE,MAAA,CAAyB6B,KAAAa,EAAAb,OAAiBa,EAAAV,UAAA,CAAAU,EAAAlB,UAAA,WAAAkB,EAAAd,UAAApC,EAAA,SAAyEQ,MAAA,CAAOlB,KAAA4D,EAAAlB,SAAAV,SAAA4B,EAAAjB,gBAAiDiB,EAAAE,KAAAF,EAAAG,GAAA,KAAAH,EAAAI,GAAA,WAAAJ,EAAAG,GAAA,KAAAH,EAAAlB,UAAA,UAAAkB,EAAAd,UAAApC,EAAA,SAA6GQ,MAAA,CAAOlB,KAAA4D,EAAAlB,SAAAV,SAAA4B,EAAAjB,gBAAiDiB,EAAAE,MAAA,GAAAF,EAAA,GAAAlD,EAAA,cAAAkD,EAAAC,GAAA,CAAiD7C,YAAA,OAAkB4C,EAAAV,UAAA,CAAAU,EAAAlB,UAAA,WAAAkB,EAAAd,UAAApC,EAAA,SAAyEQ,MAAA,CAAOlB,KAAA4D,EAAAlB,SAAAV,SAAA4B,EAAAjB,gBAAiDiB,EAAAE,KAAAF,EAAAG,GAAA,KAAAH,EAAAI,GAAA,WAAAJ,EAAAG,GAAA,KAAAH,EAAAlB,UAAA,UAAAkB,EAAAd,UAAApC,EAAA,SAA6GQ,MAAA,CAAOlB,KAAA4D,EAAAlB,SAAAV,SAAA4B,EAAAjB,gBAAiDiB,EAAAE,MAAA,GAAApD,EAAA,SAAAkD,EAAAC,GAAA,CAAmC7C,YAAA,MAAAE,MAAA,CAAyBW,KAAA+B,EAAA/B,OAAiB+B,EAAAV,UAAA,CAAAU,EAAAlB,UAAA,WAAAkB,EAAAd,UAAApC,EAAA,SAAyEQ,MAAA,CAAOlB,KAAA4D,EAAAlB,SAAAV,SAAA4B,EAAAjB,gBAAiDiB,EAAAE,KAAAF,EAAAG,GAAA,KAAAH,EAAAI,GAAA,WAAAJ,EAAAG,GAAA,KAAAH,EAAAlB,UAAA,UAAAkB,EAAAd,UAAApC,EAAA,SAA6GQ,MAAA,CAAOlB,KAAA4D,EAAAlB,SAAAV,SAAA4B,EAAAjB,gBAAiDiB,EAAAE,MAAA,IACnpC,IDUnB,EACA,KACA,KACA,eDUA7D,MAAA,OACAgE,KANA,WAOA,OACAC,MAAA,IAGAjB,SAAA,CACAkB,QADA,WAEA,OAAA3D,KAAA4D,OAAAC,MAAAC,UAAAC,MAAA/D,KAAAgE,MAGAC,QAAA,CACAC,UAAA,SAAAC,GAAA,OAAAA,GAAA,IAAAA,EAAA,wBGjBeC,UAXCvE,OAAAC,EAAA,EAAAD,CACdqD,ECTQ,WAAgB,IAAAE,EAAApD,KAAaD,EAAAqD,EAAAnD,eAA0BC,EAAAkD,EAAAjD,MAAAD,IAAAH,EAAwB,OAAAqD,EAAA,QAAAlD,EAAA,MAA8BM,YAAA,WAAsB,CAAAN,EAAA,OAAYM,YAAA,MAAiB,CAAAN,EAAA,eAAoBQ,MAAA,CAAO8B,GAAA,SAAAY,EAAAO,QAAAU,KAAgC,CAAAjB,EAAAG,GAAAH,EAAAkB,GAAAlB,EAAAO,QAAAU,OAAAjB,EAAAG,GAAA,aAAAH,EAAAkB,GAAAlB,EAAAmB,GAAA,UAAAnB,GAAAO,QAAAa,OAAA,kBAAApB,EAAAG,GAAA,KAAArD,EAAA,OAA2IM,YAAA,OAAAiE,SAAA,CAA6BC,UAAAtB,EAAAkB,GAAAlB,EAAAO,QAAAgB,SAAsCvB,EAAAG,GAAA,KAAAH,EAAAO,QAAAiB,MAAAxB,EAAAO,QAAAiB,KAAAC,OAAA3E,EAAA,YAA2EM,YAAA,SAAAC,MAAA,CAA4BiD,KAAAN,EAAAM,MAAiBoB,GAAA,CAAKC,MAAA,SAAAC,GAAyB5B,EAAAM,MAAAN,EAAAM,QAAuB,CAAAN,EAAAG,GAAA,aAAAH,EAAAkB,GAAAlB,EAAAM,KAAA,aAAAN,EAAAc,UAAAd,EAAAO,QAAAiB,KAAAC,QAAA,0BAAAzB,EAAAE,KAAAF,EAAAG,GAAA,KAAArD,EAAA,MAA8JE,WAAA,EAAaZ,KAAA,OAAAa,QAAA,SAAAC,MAAA8C,EAAA,KAAA7C,WAAA,SAAgEC,YAAA,oBAAiC4C,EAAA6B,GAAA7B,EAAAO,QAAA,cAAAK,GAAwC,OAAA9D,EAAA,WAAqBgF,IAAAlB,EAAAtD,MAAA,CAAcsD,UAAW,OAAAZ,EAAAE,MAC/6B,IDWnB,EACA,KACA,KACA,0CEfgM,IAAA6B,ECmChM,CACA3F,KAAA,cACAyC,WAAA,CACArC,UACAwE,WAGAX,KAPA,WAQA,OACA2B,SAAA,IAIA3C,SAAA,CACA4C,KADA,WAEA,OAAArF,KAAA4D,OAAAC,MAAAC,UAAA9D,KAAA4D,OAAAC,MAAAC,UAAAC,MAAA/D,KAAAsF,OAAAC,OAAAvB,IAAA,OAIAwB,iBAnBA,SAmBAhD,EAAAiD,EAAAC,GAUA,IAAAC,EAAAC,EAAAC,EAAAjC,SACAkC,EAAAF,EAAAC,EAAAE,cACAJ,EAAAK,qBAAA,GAAAvE,OAAAwE,EAAA,EAAAzG,KAAA,OAEAmG,EAAAO,eAAAD,EAAA,EAAAzG,KAAAyG,EAAA,GACAE,gBAAAR,EAAA9B,MAAAC,YAEAgC,EAAAM,QACAT,EAAA9B,MAAAC,UAAAC,MAAAvB,EAAA+C,OAAAvB,IAIA0B,EAAA,SAAAW,GAAA,OAAAP,EAAAQ,WAHAX,EAAAY,SAAA,GAAA9E,OAAAwE,EAAA,EAAAzG,KAAA,iBAAAgH,IAAA,CAAAhE,EAAA+C,OAAAvB,MAAAyC,KAAA,WACAf,EAAA,SAAAW,GAAA,OAAAP,EAAAQ,cAKAI,kBA5CA,SA4CAlE,EAAAiD,EAAAC,GAAA,IAAA/C,EAAA3C,KAQAA,KAAA4D,OAAAC,MAAAC,UAAAC,MAAAvB,EAAA+C,OAAAvB,IAMA0B,KALA1F,KAAA+F,UAAAK,QACApG,KAAA2G,aAAAF,KAAA,WACA9D,EAAAoD,UAAAO,SACAZ,QAOAkB,eA/DA,WAmEA,OADA5G,KAAA4D,OAAAsC,eAAAD,EAAA,EAAAzG,KAAAyG,EAAA,GACAjG,KAAA2G,cAGAE,YAtEA,WAuEA7G,KAAA8G,iBAGAC,MA1EA,WA2EA,OAAA/G,KAAAqF,KAAArF,KAAAqF,KAAA0B,MAAA,MAIAC,MAAA,CACA3B,KAAA,iBAGApB,QAAA,CACA0C,WADA,WAEA,OAAA3G,KAAA4D,OAAA2C,SAAA,GAAA9E,OAAAwE,EAAA,EAAAzG,KAAA,iBAAAgH,IAAA,CAAAxG,KAAAsF,OAAAC,OAAAvB,OAEA8C,cAJA,WAIA,IAAAG,EAAAjH,KACAA,KAAAqF,MAAArF,KAAAqF,KAAAT,OAIA5E,KAAAoF,SAAA,EASA,SAAA8B,EAAAvB,EAAAN,GACA,GAAAA,KAAAT,KACA,OAAAe,EACAY,SADA,GAAA9E,OACAwE,EAAA,EAAAzG,KADA,gBACA,CACAgH,IAAAnB,EAAAT,OAEA6B,KAAA,kBACAU,QAAAC,IACA/B,EAAAT,KAAAyC,IAAA,SAAArD,GACA,OAAAkD,EAAAvB,IAAA9B,MAAAC,UAAAC,MAAAC,SAjBAkD,CAAAlH,KAAA4D,OAAA5D,KAAAqF,MAAAoB,KAAA,WACAQ,EAAA7B,SAAA,QCzHIkC,UAAYzH,OAAAC,EAAA,EAAAD,CACdsF,EnBTF,WAA0B,IAAA/B,EAAApD,KAAaD,EAAAqD,EAAAnD,eAA0BC,EAAAkD,EAAAjD,MAAAD,IAAAH,EAAwB,OAAAqD,EAAA,KAAAlD,EAAA,WAAgCM,YAAA,qBAAgC,CAAAN,EAAA,OAAYM,YAAA,aAAwB,CAAA4C,EAAA,MAAAlD,EAAA,OAAwBM,YAAA,oBAA+B,CAAAN,EAAA,KAAUQ,MAAA,CAAO6B,KAAAa,EAAAiC,KAAAkC,IAAAC,OAAA,WAAuC,CAAAtH,EAAA,MAAAkD,EAAAG,GAAAH,EAAAkB,GAAAlB,EAAAiC,KAAA0B,YAAA3D,EAAAG,GAAA,KAAAH,EAAAiC,KAAA,IAAAnF,EAAA,QAAoFM,YAAA,QAAmB,CAAA4C,EAAAG,GAAA,KAAAH,EAAAkB,GAAAlB,EAAAmB,GAAA,OAAAnB,GAAAiC,KAAAkC,MAAA,QAAAnE,EAAAE,KAAAF,EAAAG,GAAA,KAAArD,EAAA,KAAwFM,YAAA,QAAmB,CAAA4C,EAAAG,GAAA,yBAAAH,EAAAkB,GAAAlB,EAAAiC,KAAAoC,OAAA,iBAAAvH,EAAA,eAA4FQ,MAAA,CAAO8B,GAAA,SAAAY,EAAAiC,KAAAhB,KAA6B,CAAAjB,EAAAG,GAAAH,EAAAkB,GAAAlB,EAAAiC,KAAAhB,OAAAjB,EAAAG,GAAA,yBAAAH,EAAAkB,GAAAlB,EAAAmB,GAAA,UAAAnB,GAAAiC,KAAAb,OAAA,gCAAApB,EAAAG,GAAA,KAAArD,EAAA,OAA+JM,YAAA,sBAAiC,CAAAN,EAAA,KAAUM,YAAA,6BAAwC,CAAA4C,EAAAG,GAAA,yBAAAH,EAAAkB,GAAAlB,EAAAiC,KAAAT,KAAAxB,EAAAiC,KAAAqC,YAAA,0DAAAxH,EAAA,WAA0JQ,MAAA,CAAOf,KAAAyD,EAAAgC,YAAoB,GAAAhC,EAAAG,GAAA,KAAAH,EAAAgC,QAA4JhC,EAAAE,KAA5JpD,EAAA,MAA0CM,YAAA,oBAA+B4C,EAAA6B,GAAA7B,EAAAiC,KAAA,cAAArB,GAAqC,OAAA9D,EAAA,WAAqBgF,IAAAlB,EAAAtD,MAAA,CAAcsD,UAAW,MAAAZ,EAAAE,MAAA,KAAAF,EAAAE,MACjsC,ImBWA,EACA,KACA,KACA,OAIeqE,EAAA,QAAAL,6CCnBf,SAAAM,GAAAC,EAAAC,EAAAH,EAAA,sBAAAI,IAAAF,EAAAC,EAAAH,EAAA,sBAAAhB,IAAAkB,EAAAC,EAAAH,EAAA,sBAAAK,IAAAH,EAAAC,EAAAH,EAAA,sBAAAM,IAAA,IAAAC,EAAAL,EAAA,KAAAM,EAAAN,EAAA,KAKMO,EALNP,EAAA1D,EAAAgE,GAKeE,EAAeC,UACxBC,IAAgBX,EAAQY,IAAIC,UAE5BC,EAAMC,YAAU,CAClBC,QAAS,MACTC,OAAQ,CACJC,YAAa,wCAerB,SAASC,EAAMC,GACPT,GAAaH,EAAOa,KAAP,YAAAxH,OAAwBuH,EAAxB,QACjB,IAAME,EAAQR,EAAIS,YAClB,OAAID,GAASA,EAAME,IAAIJ,IACfT,GAAaH,EAAOa,KAAP,iBAAAxH,OAA6BuH,EAA7B,MACV7B,QAAQkC,QAAQH,EAAMI,IAAIN,KAE9B,IAAI7B,QAAQ,SAACkC,EAASE,GACzBb,EAAIM,MAAMA,GAAOQ,KACb,QACA,SAAAC,GACI,IAAMC,EAAMD,EAASC,MAEjBA,IAAKA,EAAIC,cAAgBC,KAAKC,OAC9BX,GAAOA,EAAMY,IAAId,EAAOU,GACxBnB,GAAaH,EAAOa,KAAP,WAAAxH,OAAuBuH,EAAvB,MACjBK,EAAQK,IAEZH,KAKL,SAASxB,EAAe1G,GAC3B,OAAOqH,EAAIqB,WAAarB,EAAIqB,UAAU1I,GAAQ8F,QAAQkC,QAAQX,EAAIqB,UAAU1I,IAAS0H,EAAK,GAAAtH,OAAIJ,EAAJ,YAOvF,SAASsF,EAAWH,GACvB,OAAOW,QAAQC,IAAIZ,EAAIa,IAAI,SAAArD,GAAE,OAL1B,SAAmBA,GACtB,OAAO+E,EAAK,QAAAtH,OAASuC,IAIYgG,CAAUhG,MAGxC,SAASgE,EAAUhE,GACtB,OAAO+E,EAAK,QAAAtH,OAASuC,IAGlB,SAASiE,EAAU5G,EAAM4I,GAC5B,IAAIC,GAAQ,EACNC,EAAMzB,EAAIM,MAAJ,GAAAvH,OAAaJ,EAAb,YACN+I,EAAU,SAAAX,GACRS,EACAA,GAAQ,EAERD,EAAGR,EAASC,QAIpB,OADAS,EAAIrF,GAAG,QAASsF,GACT,WACHD,EAAIE,IAAI,QAASD,IA5DrB1B,EAAI4B,UAIR,SAASC,IACL5D,GAAY+B,EAAIqB,UAAUS,KAAO,IAAIC,MAAM,EAAG,KAC9CC,WAAWH,EAAW,KALtBA,yDClBJ1C,EAAAC,EAAAH,EAAA,sBAAAgB,IAAA,IAAAgC,EAAA9C,EAAA,KAAA+C,EAAA/C,EAAA1D,EAAAwG,GAAA9C,EAAA,KAGe,SAASc,EAATkC,GAAwC,IAAnBhC,EAAmBgC,EAAnBhC,OAAQD,EAAWiC,EAAXjC,QAExC,OADAkC,IAASC,cAAclC,GAChBiC,IAASE,WAAWb,IAAIvB,mDCHpBqC,EAAA,CAEXC,gBAAiB,SAAAL,EAAAM,GAAoC,IAAjCC,EAAiCP,EAAjCO,OAAQ7E,EAAyBsE,EAAzBtE,SAAclF,EAAW8J,EAAX9J,KAEtC,OADA+J,EAAO,kBAAmB,CAAE/J,SACrB0G,YAAe1G,GACjBoF,KAAK,SAAAD,GAAG,OAAI4E,EAAO,WAAY,CAAE/J,OAAMmF,UACvCC,KAAK,kBAAMF,EAAS,0BAI7B8E,oBAAqB,SAAAC,GACjB,OAAO/E,EADqC+E,EAAxB/E,UACJ,cAAe,CAC3BC,IAFwC8E,EAAdC,QAEbC,aAIrBC,YAAa,SAAAC,EAAAC,GAAgC,IAA7BP,EAA6BM,EAA7BN,OAAQvH,EAAqB6H,EAArB7H,MAAW2C,EAAUmF,EAAVnF,IAGzBqD,EAAMD,KAAKC,MAWjB,OAVArD,EAAMA,EAAIoF,OAAO,SAAA5H,GACb,IAAMqB,EAAOxB,EAAME,MAAMC,GACzB,OAAKqB,GAGDwE,EAAMxE,EAAKsE,cAAgB,QAK3B9E,OAAe8B,YAAWH,GAAKC,KAAK,SAAA1C,GAAK,OAAIqH,EAAO,YAAa,CAAErH,YACpEoD,QAAQkC,WAGnBwC,WAAY,SAAAC,EAAAC,GAAiC,IAA9BlI,EAA8BiI,EAA9BjI,MAAO0C,EAAuBuF,EAAvBvF,SAAcvC,EAAS+H,EAAT/H,GAChC,OAAOH,EAAMmI,MAAMhI,GACbmD,QAAQkC,QAAQxF,EAAMmI,MAAMhI,IAC5BgE,YAAUhE,GAAIyC,KAAK,SAAAwF,GAAI,OAAI1F,EAAS,WAAY,CAAEvC,KAAIiI,YAGhEC,SAAU,SAAAC,EAAAC,GAA+B,IAA5BhB,EAA4Be,EAA5Bf,OAAQvH,EAAoBsI,EAApBtI,MAAWG,EAASoI,EAATpI,GAC5B,OAAOH,EAAMmI,MAAMhI,GACbmD,QAAQkC,QAAQxF,EAAMmI,MAAMhI,IAC5BgE,YAAUhE,GAAIyC,KAAK,SAAAwF,GAAI,OAAIb,EAAO,WAAY,CAAEpH,KAAIiI,qBC3CnDI,EAAA,CACXC,gBAAiB,SAACzI,EAADgH,GAAqB,IAAXxJ,EAAWwJ,EAAXxJ,KACvBwC,EAAM0I,WAAalL,GAGvBmL,SAAU,SAAC3I,EAADsH,GAA0B,IAAhB9J,EAAgB8J,EAAhB9J,KAAMmF,EAAU2E,EAAV3E,IACtB3C,EAAM4I,MAAMpL,GAAQmF,GAGxBkG,UAAW,SAAC7I,EAADyH,GAAsBA,EAAZvH,MACXjB,QAAQ,SAAAuC,GACNA,GAAMsH,IAAI7C,IAAIjG,EAAME,MAAOsB,EAAKrB,GAAIqB,MAIhD6G,SAAU,SAACrI,EAAD6H,GAAyB,IAAf1H,EAAe0H,EAAf1H,GAAIiI,EAAWP,EAAXO,KACpBU,IAAI7C,IAAIjG,EAAMmI,MAAOhI,EAAIiI,IAAQ,KClB1BV,EAAA,CAGXC,UAHW,SAGD3H,EAAO0H,EAASqB,GAAW,IACzBL,EAAoC1I,EAApC0I,WAAYM,EAAwBhJ,EAAxBgJ,aAAcJ,EAAU5I,EAAV4I,MAElC,IAAKF,EACD,MAAO,GAGX,IAAMO,EAAOC,OAAOH,EAAUI,MAAMzH,OAAOuH,OAAS,EAC9C1G,GAAS0G,EAAO,GAAKD,EACrBI,EAAMH,EAAOD,EAEnB,OAAOJ,EAAMF,GAAY9B,MAAMrE,EAAO6G,IAK1CC,YAnBW,SAmBCrJ,EAAO0H,GACf,OAAOA,EAAQC,UAAUnE,IAAI,SAAArD,GAAE,OAAIH,EAAME,MAAMC,KAAK4H,OAAO,SAAAuB,GAAC,OAAIA,MCZzDxF,EAAA,GACXnI,KAAM,YACN4N,YAAY,EACZvJ,MAAO,CACH0I,WAAY,KACZM,aAAc,GACd9I,MAAO,GAGPiI,MAAO,GAGPS,MAAO,CACHjC,IAAK,GAGL6C,IAAK,GACL1N,KAAM,GACN2N,IAAK,GACLC,IAAK,KAGbtC,UACAoB,YACAd,+GChCJ,IAAAiC,EAAA3F,EAAA,KAAAA,EAAA1D,EAAAqJ,GAAkY,oCCAlY,IAAAC,EAAA5F,EAAA,KAAAA,EAAA1D,EAAAsJ,GAAkY,oCCAlY,IAAAC,EAAA7F,EAAA,KAAAA,EAAA1D,EAAAuJ,GAAqY","file":"a90f34b838a69d1269f1.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.item)?_c('section',{staticClass:\"section item-view\"},[_c('div',{staticClass:\"container\"},[(_vm.item)?[_c('div',{staticClass:\"item-view-header\"},[_c('a',{attrs:{\"href\":_vm.item.url,\"target\":\"_blank\"}},[_c('h1',[_vm._v(_vm._s(_vm.item.title))])]),_vm._v(\" \"),(_vm.item.url)?_c('span',{staticClass:\"host\"},[_vm._v(\" (\"+_vm._s(_vm._f(\"host\")(_vm.item.url))+\") \")]):_vm._e(),_vm._v(\" \"),_c('p',{staticClass:\"meta\"},[_vm._v(\"\\n                    \"+_vm._s(_vm.item.score)+\" points | by \"),_c('router-link',{attrs:{\"to\":'/user/' + _vm.item.by}},[_vm._v(_vm._s(_vm.item.by))]),_vm._v(\"\\n                    \"+_vm._s(_vm._f(\"timeAgo\")(_vm.item.time))+\" ago\\n                \")],1)]),_vm._v(\" \"),_c('div',{staticClass:\"item-view-comments\"},[_c('p',{staticClass:\"item-view-comments-header\"},[_vm._v(\"\\n                    \"+_vm._s(_vm.item.kids ? _vm.item.descendants + ' comments' : 'No comments yet.')+\"\\n                    \"),_c('spinner',{attrs:{\"show\":_vm.loading}})],1),_vm._v(\" \"),(!_vm.loading)?_c('ul',{staticClass:\"comment-children\"},_vm._l((_vm.item.kids),function(id){return _c('comment',{key:id,attrs:{\"id\":id}})}),1):_vm._e()])]:_vm._e()],2)]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Spinner.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Spinner.vue?vue&type=script&lang=js&\"","<template>\r\n    <transition>\r\n        <svg class=\"spinner\" :class=\"{ show: show }\" v-show=\"show\" width=\"44px\" height=\"44px\" viewBox=\"0 0 44 44\">\r\n            <circle class=\"path\" fill=\"none\" stroke-width=\"4\" stroke-linecap=\"round\" cx=\"22\" cy=\"22\" r=\"20\"></circle>\r\n        </svg>\r\n    </transition>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: 'spinner',\r\n    props: ['show'],\r\n    serverCacheKey: props => props.show,\r\n};\r\n</script>\r\n\r\n<style lang=\"postcss\">\r\n:root {\r\n    --spinner-offset: 126px;\r\n    --spinner-duration: 1.4s;\r\n}\r\n\r\n.spinner {\r\n    transition: opacity 0.15s ease;\r\n    animation: rotator var(--spinner-duration) linear infinite;\r\n    animation-play-state: paused;\r\n\r\n    &.show {\r\n        animation-play-state: running;\r\n    }\r\n\r\n    &.v-enter,\r\n    &.v-leave-active {\r\n        opacity: 0;\r\n    }\r\n\r\n    &.v-enter-active,\r\n    &.v-leave {\r\n        opacity: 1;\r\n    }\r\n}\r\n\r\n@keyframes rotator {\r\n    0% {\r\n        transform: scale(0.5) rotate(0deg);\r\n    }\r\n\r\n    100% {\r\n        transform: scale(0.5) rotate(270deg);\r\n    }\r\n}\r\n\r\n.spinner .path {\r\n    stroke: #ff6600;\r\n    stroke-dasharray: var(--spinner-offset);\r\n    stroke-dashoffset: 0;\r\n    transform-origin: center;\r\n    animation: dash var(--spinner-duration) ease-in-out infinite;\r\n}\r\n\r\n@keyframes dash {\r\n    0% {\r\n        stroke-dashoffset: var(--spinner-offset);\r\n    }\r\n\r\n    50% {\r\n        stroke-dashoffset: calc(var(--spinner-offset) / 2);\r\n        transform: rotate(135deg);\r\n    }\r\n\r\n    100% {\r\n        stroke-dashoffset: var(--spinner-offset);\r\n        transform: rotate(450deg);\r\n    }\r\n}\r\n</style>\r\n","import { render, staticRenderFns } from \"./Spinner.vue?vue&type=template&id=ee1c37fe&\"\nimport script from \"./Spinner.vue?vue&type=script&lang=js&\"\nexport * from \"./Spinner.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Spinner.vue?vue&type=style&index=0&lang=postcss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',[_c('svg',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.show),expression:\"show\"}],staticClass:\"spinner\",class:{ show: _vm.show },attrs:{\"width\":\"44px\",\"height\":\"44px\",\"viewBox\":\"0 0 44 44\"}},[_c('circle',{staticClass:\"path\",attrs:{\"fill\":\"none\",\"stroke-width\":\"4\",\"stroke-linecap\":\"round\",\"cx\":\"22\",\"cy\":\"22\",\"r\":\"20\"}})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VSvg.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VSvg.vue?vue&type=script&lang=js&\"","<template>\n    <svg class=\"icon\" :class=\"{ [`icon--${modifier || name}`]: modifier || name }\">\n        <use v-bind=\"{ 'xlink:href': `#icon-${name}` }\"></use>\n    </svg>\n</template>\n\n<script>\n/**\n * Базовый класс для SVG\n */\nexport default {\n    name: 'v-svg',\n    props: {\n        name: { type: String, default: null },\n        modifier: { type: String, default: null },\n    },\n    serverCacheKey: props => (props.modifier ? `${props.name}-${props.modifier}` : props.name),\n};\n</script>\n","import { render, staticRenderFns } from \"./VSvg.vue?vue&type=template&id=67cc0b31&\"\nimport script from \"./VSvg.vue?vue&type=script&lang=js&\"\nexport * from \"./VSvg.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {\nvar _obj;\nvar _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('svg',{staticClass:\"icon\",class:( _obj = {}, _obj[(\"icon--\" + (_vm.modifier || _vm.name))] = _vm.modifier || _vm.name, _obj )},[_c('use',_vm._b({},'use',{ 'xlink:href': (\"#icon-\" + _vm.name) },false))])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <a class=\"btn\" v-if=\"href\" :href=\"href\" v-on=\"handlers\">\n        <v-svg v-if=\"iconName && placement === 'before'\" :name=\"iconName\" :modifier=\"iconModifier\" />\n        <slot />\n        <v-svg v-if=\"iconName && placement === 'after'\" :name=\"iconName\" :modifier=\"iconModifier\" />\n    </a>\n    <router-link class=\"btn\" v-else-if=\"to\" v-on=\"handlers\">\n        <v-svg v-if=\"iconName && placement === 'before'\" :name=\"iconName\" :modifier=\"iconModifier\" />\n        <slot />\n        <v-svg v-if=\"iconName && placement === 'after'\" :name=\"iconName\" :modifier=\"iconModifier\" />\n    </router-link>\n    <button class=\"btn\" v-else :type=\"type\" v-on=\"handlers\">\n        <v-svg v-if=\"iconName && placement === 'before'\" :name=\"iconName\" :modifier=\"iconModifier\" />\n        <slot />\n        <v-svg v-if=\"iconName && placement === 'after'\" :name=\"iconName\" :modifier=\"iconModifier\" />\n    </button>\n</template>\n\n<script>\nimport VSvg from '../VSvg/VSvg.vue';\n\nconst placements = ['before', 'after'];\nconst types = ['button', 'reset', 'submit'];\n\n/**\n * Базовый класс для кнопки, поддерживает SVG\n */\nexport default {\n    name: 'v-button',\n    components: {\n        VSvg,\n    },\n    props: {\n        iconName: String,\n        iconModifier: String,\n        type: {\n            type: String,\n            default: 'button',\n            validator(value) {\n                return types.indexOf(value) !== -1;\n            },\n        },\n        placement: {\n            type: String,\n            default: 'before',\n            validator(value) {\n                return placements.indexOf(value) !== -1;\n            },\n        },\n        href: {\n            type: String,\n        },\n        to: {\n            type: [String, Object],\n        },\n    },\n\n    computed: {\n        handlers() {\n            const keys = Object.keys(this.$listeners);\n            const handlers = {};\n            keys.forEach(k => (handlers[k] = e => this.$emit(k, e)));\n            return handlers;\n        },\n    },\n};\n</script>\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VButton.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VButton.vue?vue&type=script&lang=js&\"","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Comment.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Comment.vue?vue&type=script&lang=js&\"","<template>\n    <li v-if=\"comment\" class=\"comment\">\n        <div class=\"by\">\n            <router-link :to=\"'/user/' + comment.by\">{{ comment.by }}</router-link>\n            {{ comment.time | timeAgo }} ago\n        </div>\n        <div class=\"text\" v-html=\"comment.text\"></div>\n        <v-button class=\"toggle\" :class=\"{ open }\" @click=\"open = !open\" v-if=\"comment.kids && comment.kids.length\">\n            {{ open ? '[-]' : `[+] ${pluralize(comment.kids.length)} collapsed` }}\n        </v-button>\n        <ul class=\"comment-children\" v-show=\"open\">\n            <comment v-for=\"id in comment.kids\" :key=\"id\" :id=\"id\"></comment>\n        </ul>\n    </li>\n</template>\n\n<script>\nimport VButton from '../controls/VButton/VButton.vue';\n\nexport default {\n    name: 'comment',\n    components: {\n        VButton,\n    },\n    props: ['id'],\n    data() {\n        return {\n            open: true,\n        };\n    },\n    computed: {\n        comment() {\n            return this.$store.state.item_list.items[this.id];\n        },\n    },\n    methods: {\n        pluralize: n => n + (n === 1 ? ' reply' : ' replies'),\n    },\n};\n</script>\n\n<style lang=\"postcss\">\n.comment-children {\n    .comment-children {\n        margin-left: 1.5em;\n    }\n}\n\n.comment {\n    border-top: 1px solid #eee;\n    position: relative;\n\n    .by,\n    .text,\n    .toggle {\n        font-size: 0.9em;\n        margin: 1em 0;\n    }\n\n    .by {\n        color: #828282;\n\n        a {\n            color: #828282;\n            text-decoration: underline;\n        }\n    }\n\n    .text {\n        overflow-wrap: break-word;\n\n        a:hover {\n            color: #ff6600;\n        }\n\n        pre {\n            white-space: pre-wrap;\n        }\n    }\n\n    .toggle {\n        background-color: #fffbf2;\n        padding: 0.3em 0.5em;\n        border-radius: 4px;\n\n        a {\n            color: #828282;\n            cursor: pointer;\n        }\n\n        &.open {\n            padding: 0;\n            background-color: transparent;\n            margin-bottom: -0.5em;\n        }\n    }\n}\n</style>\n","import { render, staticRenderFns } from \"./VButton.vue?vue&type=template&id=d57e5b64&\"\nimport script from \"./VButton.vue?vue&type=script&lang=js&\"\nexport * from \"./VButton.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.href)?_c('a',_vm._g({staticClass:\"btn\",attrs:{\"href\":_vm.href}},_vm.handlers),[(_vm.iconName && _vm.placement === 'before')?_c('v-svg',{attrs:{\"name\":_vm.iconName,\"modifier\":_vm.iconModifier}}):_vm._e(),_vm._v(\" \"),_vm._t(\"default\"),_vm._v(\" \"),(_vm.iconName && _vm.placement === 'after')?_c('v-svg',{attrs:{\"name\":_vm.iconName,\"modifier\":_vm.iconModifier}}):_vm._e()],2):(_vm.to)?_c('router-link',_vm._g({staticClass:\"btn\"},_vm.handlers),[(_vm.iconName && _vm.placement === 'before')?_c('v-svg',{attrs:{\"name\":_vm.iconName,\"modifier\":_vm.iconModifier}}):_vm._e(),_vm._v(\" \"),_vm._t(\"default\"),_vm._v(\" \"),(_vm.iconName && _vm.placement === 'after')?_c('v-svg',{attrs:{\"name\":_vm.iconName,\"modifier\":_vm.iconModifier}}):_vm._e()],2):_c('button',_vm._g({staticClass:\"btn\",attrs:{\"type\":_vm.type}},_vm.handlers),[(_vm.iconName && _vm.placement === 'before')?_c('v-svg',{attrs:{\"name\":_vm.iconName,\"modifier\":_vm.iconModifier}}):_vm._e(),_vm._v(\" \"),_vm._t(\"default\"),_vm._v(\" \"),(_vm.iconName && _vm.placement === 'after')?_c('v-svg',{attrs:{\"name\":_vm.iconName,\"modifier\":_vm.iconModifier}}):_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./Comment.vue?vue&type=template&id=6f1df839&\"\nimport script from \"./Comment.vue?vue&type=script&lang=js&\"\nexport * from \"./Comment.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Comment.vue?vue&type=style&index=0&lang=postcss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.comment)?_c('li',{staticClass:\"comment\"},[_c('div',{staticClass:\"by\"},[_c('router-link',{attrs:{\"to\":'/user/' + _vm.comment.by}},[_vm._v(_vm._s(_vm.comment.by))]),_vm._v(\"\\n        \"+_vm._s(_vm._f(\"timeAgo\")(_vm.comment.time))+\" ago\\n    \")],1),_vm._v(\" \"),_c('div',{staticClass:\"text\",domProps:{\"innerHTML\":_vm._s(_vm.comment.text)}}),_vm._v(\" \"),(_vm.comment.kids && _vm.comment.kids.length)?_c('v-button',{staticClass:\"toggle\",class:{ open: _vm.open },on:{\"click\":function($event){_vm.open = !_vm.open}}},[_vm._v(\"\\n        \"+_vm._s(_vm.open ? '[-]' : (\"[+] \" + (_vm.pluralize(_vm.comment.kids.length)) + \" collapsed\"))+\"\\n    \")]):_vm._e(),_vm._v(\" \"),_c('ul',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.open),expression:\"open\"}],staticClass:\"comment-children\"},_vm._l((_vm.comment.kids),function(id){return _c('comment',{key:id,attrs:{\"id\":id}})}),1)],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ItemDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ItemDetail.vue?vue&type=script&lang=js&\"","<template>\r\n    <section class=\"section item-view\" v-if=\"item\">\r\n        <div class=\"container\">\r\n            <template v-if=\"item\">\r\n                <div class=\"item-view-header\">\r\n                    <a :href=\"item.url\" target=\"_blank\">\r\n                        <h1>{{ item.title }}</h1>\r\n                    </a>\r\n                    <span v-if=\"item.url\" class=\"host\"> ({{ item.url | host }}) </span>\r\n                    <p class=\"meta\">\r\n                        {{ item.score }} points | by <router-link :to=\"'/user/' + item.by\">{{ item.by }}</router-link>\r\n                        {{ item.time | timeAgo }} ago\r\n                    </p>\r\n                </div>\r\n                <div class=\"item-view-comments\">\r\n                    <p class=\"item-view-comments-header\">\r\n                        {{ item.kids ? item.descendants + ' comments' : 'No comments yet.' }}\r\n                        <spinner :show=\"loading\"></spinner>\r\n                    </p>\r\n                    <ul v-if=\"!loading\" class=\"comment-children\">\r\n                        <comment v-for=\"id in item.kids\" :key=\"id\" :id=\"id\"></comment>\r\n                    </ul>\r\n                </div>\r\n            </template>\r\n        </div>\r\n    </section>\r\n</template>\r\n\r\n<script>\r\nimport Spinner from '../../components/Spinner/Spinner.vue';\r\nimport Comment from '../../components/Comment/Comment.vue';\r\n\r\nimport itemListModule from '../../store/modules/ItemList';\r\nimport ServiceLocator from '../../services/ServiceLocator';\r\n\r\nexport default {\r\n    name: 'item-detail',\r\n    components: {\r\n        Spinner,\r\n        Comment,\r\n    },\r\n\r\n    data() {\r\n        return {\r\n            loading: true,\r\n        };\r\n    },\r\n\r\n    computed: {\r\n        item() {\r\n            return this.$store.state.item_list ? this.$store.state.item_list.items[this.$route.params.id] : null;\r\n        },\r\n    },\r\n\r\n    beforeRouteEnter(to, from, next) {\r\n        // вызывается до подтверждения пути, соответствующего этому компоненту.\r\n        // НЕ ИМЕЕТ доступа к контексту экземпляра компонента `this`,\r\n        // так как к моменту вызова экземпляр ещё не создан!\r\n\r\n        if (process.env.VUE_ENV === 'server') {\r\n            next();\r\n            return;\r\n        }\r\n\r\n        const store = ServiceLocator.$store();\r\n        const progress = ServiceLocator.$progress();\r\n        const register = !!store._modulesNamespaceMap[`${itemListModule.name}/`];\r\n        if (!register)\r\n            store.registerModule(itemListModule.name, itemListModule, {\r\n                preserveState: !!store.state.item_list,\r\n            });\r\n        progress.start();\r\n        if (!store.state.item_list.items[to.params.id]) {\r\n            store.dispatch(`${itemListModule.name}/FETCH_ITEMS`, { ids: [to.params.id] }).then(() => {\r\n                next(vm => progress.finish());\r\n            });\r\n        } else next(vm => progress.finish());\r\n    },\r\n\r\n    beforeRouteUpdate(to, from, next) {\r\n        // вызывается когда маршрут, что рендерит этот компонент изменился,\r\n        // но этот компонент будет повторно использован в новом маршруте.\r\n        // Например, для маршрута с динамическими параметрами `/foo/:id`, когда мы\r\n        // перемещаемся между `/foo/1` и `/foo/2`, экземпляр того же компонента `Foo`\r\n        // будет использован повторно, и этот хук будет вызван когда это случится.\r\n        // Также имеется доступ в `this` к экземпляру компонента.\r\n\r\n        if (!this.$store.state.item_list.items[to.params.id]) {\r\n            this.$progress.start();\r\n            this.fetchItems().then(() => {\r\n                this.$progress.finish();\r\n                next();\r\n            });\r\n        } else next();\r\n    },\r\n\r\n    // Server-side only\r\n    // This will be called by the server renderer automatically\r\n    serverPrefetch() {\r\n        // return the Promise from the action\r\n        // so that the component waits before rendering\r\n        this.$store.registerModule(itemListModule.name, itemListModule);\r\n        return this.fetchItems();\r\n    },\r\n\r\n    beforeMount() {\r\n        this.fetchComments();\r\n    },\r\n\r\n    title() {\r\n        return this.item ? this.item.title : null;\r\n    },\r\n\r\n    // refetch comments if item changed\r\n    watch: {\r\n        item: 'fetchComments',\r\n    },\r\n\r\n    methods: {\r\n        fetchItems() {\r\n            return this.$store.dispatch(`${itemListModule.name}/FETCH_ITEMS`, { ids: [this.$route.params.id] });\r\n        },\r\n        fetchComments() {\r\n            if (!this.item || !this.item.kids) {\r\n                return;\r\n            }\r\n\r\n            this.loading = true;\r\n            fetchComments(this.$store, this.item).then(() => {\r\n                this.loading = false;\r\n            });\r\n        },\r\n    },\r\n};\r\n\r\n// recursively fetch all descendent comments\r\nfunction fetchComments(store, item) {\r\n    if (item && item.kids) {\r\n        return store\r\n            .dispatch(`${itemListModule.name}/FETCH_ITEMS`, {\r\n                ids: item.kids,\r\n            })\r\n            .then(() =>\r\n                Promise.all(\r\n                    item.kids.map(id => {\r\n                        return fetchComments(store, store.state.item_list.items[id]);\r\n                    })\r\n                )\r\n            );\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"postcss\">\r\n.item-view-header {\r\n    background-color: #fff;\r\n    padding: 1.8em 2em 1em;\r\n    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);\r\n\r\n    h1 {\r\n        display: inline;\r\n        font-size: 1.5em;\r\n        margin: 0;\r\n        margin-right: 0.5em;\r\n    }\r\n\r\n    .host,\r\n    .meta,\r\n    .meta a {\r\n        color: #828282;\r\n    }\r\n\r\n    .meta a {\r\n        text-decoration: underline;\r\n    }\r\n}\r\n\r\n.item-view-comments {\r\n    background-color: #fff;\r\n    margin-top: 10px;\r\n    padding: 0 2em 0.5em;\r\n}\r\n\r\n.item-view-comments-header {\r\n    margin: 0;\r\n    font-size: 1.1em;\r\n    padding: 1em 0;\r\n    position: relative;\r\n\r\n    .spinner {\r\n        display: inline-block;\r\n        margin: -15px 0;\r\n    }\r\n}\r\n\r\n.comment-children {\r\n    list-style-type: none;\r\n    padding: 0;\r\n    margin: 0;\r\n}\r\n\r\n@media (max-width: 600px) {\r\n    .item-view-header {\r\n        h1 {\r\n            font-size: 1.25em;\r\n        }\r\n    }\r\n}\r\n</style>\r\n","import { render, staticRenderFns } from \"./ItemDetail.vue?vue&type=template&id=e1b23a12&\"\nimport script from \"./ItemDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./ItemDetail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ItemDetail.vue?vue&type=style&index=0&lang=postcss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","// this is aliased in webpack config based on server/client build\n// eslint-disable-next-line\nimport createAPI from 'create-api';\nimport ServiceLocator from '../services/ServiceLocator';\n\nconst logger = ServiceLocator.$logger();\nconst logRequests = !!process.env.DEBUG_API;\n\nconst api = createAPI({\n    version: '/v0',\n    config: {\n        databaseURL: 'https://hacker-news.firebaseio.com',\n    },\n});\n\n// warm the front page cache every 15 min\n// make sure to do this only once across all requests\nif (api.onServer) {\n    warmCache();\n}\n\nfunction warmCache() {\n    fetchItems((api.cachedIds.top || []).slice(0, 30));\n    setTimeout(warmCache, 1000 * 60 * 15);\n}\n\nfunction fetch(child) {\n    if (logRequests) logger.info(`fetching ${child}...`);\n    const cache = api.cachedItems;\n    if (cache && cache.has(child)) {\n        if (logRequests) logger.info(`cache hit for ${child}.`);\n        return Promise.resolve(cache.get(child));\n    }\n    return new Promise((resolve, reject) => {\n        api.child(child).once(\n            'value',\n            snapshot => {\n                const val = snapshot.val();\n                // mark the timestamp when this item is cached\n                if (val) val.__lastUpdated = Date.now();\n                if (cache) cache.set(child, val);\n                if (logRequests) logger.info(`fetched ${child}.`);\n                resolve(val);\n            },\n            reject\n        );\n    });\n}\n\nexport function fetchIdsByType(type) {\n    return api.cachedIds && api.cachedIds[type] ? Promise.resolve(api.cachedIds[type]) : fetch(`${type}stories`);\n}\n\nexport function fetchItem(id) {\n    return fetch(`item/${id}`);\n}\n\nexport function fetchItems(ids) {\n    return Promise.all(ids.map(id => fetchItem(id)));\n}\n\nexport function fetchUser(id) {\n    return fetch(`user/${id}`);\n}\n\nexport function watchList(type, cb) {\n    let first = true;\n    const ref = api.child(`${type}stories`);\n    const handler = snapshot => {\n        if (first) {\n            first = false;\n        } else {\n            cb(snapshot.val());\n        }\n    };\n    ref.on('value', handler);\n    return () => {\n        ref.off('value', handler);\n    };\n}\n","import Firebase from 'firebase/app';\nimport 'firebase/database';\n\nexport default function createAPI({ config, version }) {\n    Firebase.initializeApp(config);\n    return Firebase.database().ref(version);\n}\n","import { fetchUser, fetchItems, fetchIdsByType } from '../../../api';\n\nexport default {\n    // ensure data for rendering given list type\n    FETCH_LIST_DATA: ({ commit, dispatch }, { type }) => {\n        commit('SET_ACTIVE_TYPE', { type });\n        return fetchIdsByType(type)\n            .then(ids => commit('SET_LIST', { type, ids }))\n            .then(() => dispatch('ENSURE_ACTIVE_ITEMS'));\n    },\n\n    // ensure all active items are fetched\n    ENSURE_ACTIVE_ITEMS: ({ dispatch, getters }) => {\n        return dispatch('FETCH_ITEMS', {\n            ids: getters.activeIds,\n        });\n    },\n\n    FETCH_ITEMS: ({ commit, state }, { ids }) => {\n        // on the client, the store itself serves as a cache.\n        // only fetch items that we do not already have, or has expired (3 minutes)\n        const now = Date.now();\n        ids = ids.filter(id => {\n            const item = state.items[id];\n            if (!item) {\n                return true;\n            }\n            if (now - item.__lastUpdated > 1000 * 60 * 3) {\n                return true;\n            }\n            return false;\n        });\n        if (ids.length) return fetchItems(ids).then(items => commit('SET_ITEMS', { items }));\n        return Promise.resolve();\n    },\n\n    FETCH_USER: ({ state, dispatch }, { id }) => {\n        return state.users[id]\n            ? Promise.resolve(state.users[id])\n            : fetchUser(id).then(user => dispatch('SET_USER', { id, user }));\n    },\n\n    SET_USER: ({ commit, state }, { id }) => {\n        return state.users[id]\n            ? Promise.resolve(state.users[id])\n            : fetchUser(id).then(user => commit('SET_USER', { id, user }));\n    },\n};\n","import Vue from 'vue';\n\nexport default {\n    SET_ACTIVE_TYPE: (state, { type }) => {\n        state.activeType = type;\n    },\n\n    SET_LIST: (state, { type, ids }) => {\n        state.lists[type] = ids;\n    },\n\n    SET_ITEMS: (state, { items }) => {\n        items.forEach(item => {\n            if (item) Vue.set(state.items, item.id, item);\n        });\n    },\n\n    SET_USER: (state, { id, user }) => {\n        Vue.set(state.users, id, user || false); /* false means user not found */\n    },\n};\n","export default {\n    // ids of the items that should be currently displayed based on\n    // current list type and current pagination\n    activeIds(state, getters, rootState) {\n        const { activeType, itemsPerPage, lists } = state;\n\n        if (!activeType) {\n            return [];\n        }\n\n        const page = Number(rootState.route.params.page) || 1;\n        const start = (page - 1) * itemsPerPage;\n        const end = page * itemsPerPage;\n\n        return lists[activeType].slice(start, end);\n    },\n\n    // items that should be currently displayed.\n    // this Array may not be fully fetched.\n    activeItems(state, getters) {\n        return getters.activeIds.map(id => state.items[id]).filter(_ => _);\n    },\n};\n","import actions from './actions';\nimport mutations from './mutations';\nimport getters from './getters';\n\n/**\n * Function for create store instance.\n * Функция создания экземпляра стора.\n */\nexport default {\n    name: 'item_list',\n    namespaced: true,\n    state: {\n        activeType: null,\n        itemsPerPage: 20,\n        items: {\n            /* [id: number]: Item */\n        },\n        users: {\n            /* [id: string]: User */\n        },\n        lists: {\n            top: [\n                /* number */\n            ],\n            new: [],\n            show: [],\n            ask: [],\n            job: [],\n        },\n    },\n    actions,\n    mutations,\n    getters,\n};\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Spinner.vue?vue&type=style&index=0&lang=postcss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Spinner.vue?vue&type=style&index=0&lang=postcss&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Comment.vue?vue&type=style&index=0&lang=postcss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Comment.vue?vue&type=style&index=0&lang=postcss&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ItemDetail.vue?vue&type=style&index=0&lang=postcss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ItemDetail.vue?vue&type=style&index=0&lang=postcss&\""],"sourceRoot":""}