(window.webpackJsonp=window.webpackJsonp||[]).push([[56],{"/Rcj":function(e,t,r){"use strict";r.r(t);var n=r("NDiG"),i=r("i2Ud"),a=r("o3vK"),o=r("+gqB"),c=r("nuHk"),s=r("pFko"),u=r("ze5i"),l=r("cpWO"),d=r("2/Mz"),f=r("obii"),p=r("zfPd"),m=r("KLyl"),g=r("tHOl"),b=r("L2JU"),v=r("3bB/"),h=r("zUOt"),y=r("W6hq");r("x3SC");function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function C(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach((function(t){O(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function O(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var w={name:"category-tree-item",props:{item:{type:Object,required:!0},depth:{type:Number,default:0},disabled:{type:Boolean,default:!0}},data:function(){return{isHover:!1}},computed:C(C(C({},Object(b.d)("route",{type:function(e){return e.params.type},entityCode:function(e){return e.params.entityCode}})),Object(b.c)(v.NAME,[h.h,h.a])),{},{isActive:function(){var e=this;return(this[h.a]||[]).some((function(t){return t.code===e.item.code}))},isRoot:function(){var e=this.item.code,t=this.depth,r=this.rootCategory;return r?e===r.code:0===t},isInteractive:function(){this.type;var e=this.item.code,t=this.rootCategory,r=this.isRoot,n=this.disabled;return t?e&&(r||!n):e},url:function(){var e=this.entityCode,t=this.type,r=this.item.code,n=this.isRoot,i=(this.disabled,this.rootCategory);return{path:Object(y.d)(t,e,i?!n&&r:r)}},hasChildren:function(){this.entityCode,this.type,this.item.items;return Array.isArray(this.item.items)}}),methods:{onMouseOver:function(e){this.isHover=e}}},E=r("KHd+"),j=Object(E.a)(w,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("li",{staticClass:"category-tree-item",class:[{"category-tree-item--root":0===e.depth},{"category-tree-item--active":e.isActive}],on:{mouseover:function(t){return e.onMouseOver(!0)},mouseleave:function(t){return e.onMouseOver(!1)}}},[r("div",{staticClass:"category-tree-item__label"},[e.isInteractive?r("router-link",{staticClass:"category-tree-item__link",attrs:{to:e.url,exact:""===e.item.code}},[e._v("\n            "+e._s(e.item.name)+"\n        ")]):r("span",{staticClass:"category-tree-item__link"},[e._v("\n            "+e._s(e.item.name)+"\n        ")])],1),e._v(" "),r("transition",{attrs:{name:"slide-right"}},[e.hasChildren&&(e.isHover||e.isActive)?r("ul",{staticClass:"category-tree-item__list"},e._l(e.item.items,(function(t,n){return r("category-tree-item",{key:t.id||n,staticClass:"category-tree-item__item",attrs:{item:t,depth:e.depth+1,disabled:!e.isInteractive}})})),1):e._e()])],1)}),[],!1,null,null,null).exports,P=r("MhNv"),S=r("7cXU"),T=r("sEfC"),R=r.n(T);r("Xtz6");function k(e){return function(e){if(Array.isArray(e))return x(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return x(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return x(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function I(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?A(Object(r),!0).forEach((function(t){D(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function D(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var M={name:"catalog-filter",components:{VButton:i.a,VCheck:a.a,VRange:c.a,VAccordion:P.a,VLink:S.a},data:function(){return{format:{to:function(e){return Math.round(e)},from:function(e){return Number(e)}},maxCountFilters:8,showMore:[]}},computed:I(I(I(I({},Object(b.c)(v.NAME,[h.f,h.i])),Object(b.d)(v.NAME,[v.FILTERS])),Object(b.d)("route",{type:function(e){return e.params.type},code:function(e){return e.params.code},entityCode:function(e){return e.params.entityCode}})),{},{accordionFilters:function(){var e=this;return this.filters?this.filters.map((function(t,r){return{id:t.id,item:t,title:t.title,isExpanded:!0,showMore:e.showMore.find((function(e){return e.id===t.id})).state}})):[]}}),created:function(){var e=this;this.showMore=k(this.filters.map((function(t){var r=t.type,n=t.items;return{id:t.id,state:"check"===r&&n.length>=e.maxCountFilters}})))},methods:{onRadioChange:function(e,t){var r=this.type,n=this.entityCode,i=this.code,a=this.routeSegments;a.includes(t)||a.push(t),function(e){throw new Error('"'+e+'" is read-only')}("routeSegments"),a=a.filter((function(e){return e===t}));var o=Object(y.b)(r,n,i,a);this.$router.replace({path:o})},onCheckChange:function(e,t){var r=this.type,n=this.entityCode,i=this.code,a=this.routeSegments;if(e){if(a.includes(t))return;a.push(t)}else{if(!a.includes(t))return;var o=a.indexOf(t);-1!==o&&a.splice(o,1)}var c=Object(y.b)(r,n,i,a);this.$router.replace({path:c})},onShowMoreClick:function(e){var t=this.showMore.findIndex((function(t){return t.id===e})),r=this.showMore.find((function(t){return t.id===e}));this.showMore.splice(t,1,I(I({},r),{},{state:!1}))},onRangeChange:function(e,t){this.debounce_rangeChange(e,t)}},beforeMount:function(){var e=this;this.debounce_rangeChange=R()((function(t,r){for(var n=e.type,i=e.entityCode,a=e.code,o=e.routeSegments,c="".concat(r,"-from_").concat(t[0],"_to_").concat(t[1]),s=new RegExp("^".concat(r,"-")),u=-1,l=0;l<o.length;l++)if(o[l].match(s)){u=l;break}if(-1!==u){if(o[u]===c)return;o.splice(u,1,c)}else o.push(c);var d=Object(y.b)(n,i,a,o);e.$router.replace({path:d})}),500)}},F=Object(E.a)(M,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.accordionFilters&&e.accordionFilters.length>0?r("div",{staticClass:"catalog-filter"},[r("v-accordion",{staticClass:"catalog-filter__filters",attrs:{"key-field":"id",items:e.accordionFilters,"item-expanded":function(e){return e.isExpanded},"item-toggled":function(e){return e.isExpanded=!e.isExpanded}},scopedSlots:e._u([{key:"content",fn:function(t){var n=t.item;return["range"===n.item.type?r("div",{staticClass:"catalog-filter__filters-range"},[r("v-range",{attrs:{initialValue:[n.item.min,n.item.max],value:e.filterSegments[n.item.name]||[n.item.min,n.item.max],max:n.item.max,min:n.item.min,format:e.format},on:{input:function(t){return e.onRangeChange(t,n.item.name)}}})],1):"check"===n.item.type?r("div",{staticClass:"catalog-filter__filters-check"},[e._l(n.showMore?n.item.items.filter((function(t,r){return r<e.maxCountFilters})):n.item.items,(function(t){return r("v-check",{key:t.id,attrs:{id:n.item.name+"-"+t.id,name:n.item.name,checked:e.filterSegments[n.item.name]&&e.filterSegments[n.item.name][t.code]},on:{change:function(r){return e.onCheckChange(r,n.item.name+"-"+t.code)}}},[e._v("\n                    "+e._s(t.name)+"\n                ")])})),e._v(" "),n.showMore&&n.item.items.length>=e.maxCountFilters?r("button",{staticClass:"catalog-filter__filters-more",on:{click:function(){return e.onShowMoreClick(n.item.id)}}},[e._v("\n                    Показать все\n                ")]):e._e()],2):"radio"===n.item.type?r("div",{staticClass:"catalog-filter__filters-check"},e._l(n.item.items,(function(t){return r("v-check",{key:t.id,attrs:{id:n.item.name+"-"+t.id,type:"radio",name:n.item.name,checked:e.filterSegments[n.item.name]&&e.filterSegments[n.item.name][t.code]},on:{change:function(r){return e.onRadioChange(r,n.item.name+"-"+t.code)}}},[e._v("\n                    "+e._s(t.name)+"\n                ")])})),1):e._e()]}}],null,!1,2789506126)})],1):e._e()}),[],!1,null,null,null).exports,G=r("LqtR"),N=r("NkcL"),U=r("6AGh"),$=r("3eXy"),L=r("Q2AE"),H=r("8TZ/"),B=r("0CxO"),V=r("55Sm"),q=r("jDKC"),z=r("pZQa"),W=r("aXGN"),J=(r("48TQ"),r("aWaK")),K=r("fhPv"),X=Object.freeze({PRICE:"price"}),Q=r("2JJK"),Y=r("4mC1");r("4eDr"),r("9bRU");function Z(e,t,r,n,i,a,o){try{var c=e[a](o),s=c.value}catch(e){return void r(e)}c.done?t(s):Promise.resolve(s).then(n,i)}function ee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function te(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(r),!0).forEach((function(t){re(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ee(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function re(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ne={name:"catalog",components:{VSvg:n.a,VButton:i.a,VSelect:s.a,VPagination:o.a,VSticky:u.a,VExpander:l.a,Modal:d.a,Breadcrumbs:f.a,BreadcrumbItem:p.a,FilterButton:m.a,TagItem:g.a,CategoryTreeItem:j,CatalogFilter:F,CatalogProductList:N.a,CatalogBannerCard:G.a,ShowMoreButton:U.a},data:function(){var e=[{id:1,title:"Сначала подороже",field:X.PRICE,direction:Q.sortDirections.DESC},{id:2,title:"Сначала подешевле",field:X.PRICE,direction:Q.sortDirections.ASC}];return{sortValue:e[0],sortOptions:e,filterModal:!1,showMore:!1}},computed:te(te(te(te(te({},Object(b.d)([L.h])),Object(b.c)(v.NAME,[h.d,h.b,h.c,h.g,h.i,h.e])),Object(b.d)(v.NAME,[v.ITEMS,v.BANNER,v.CATEGORIES,v.PRODUCT_GROUP,v.TYPE,v.RANGE])),Object(b.d)("route",{code:function(e){return e.params.code},entityCode:function(e){return e.params.entityCode}})),{},{isFiltersPage:function(){return this.$route.path.includes("filters")},breadcrumbRootUrl:function(){var e=this.type,t="";switch(e){case K.d.CATALOG:case K.d.NEW:t="Catalog";break;default:t="ProductGroups"}return{name:t,params:{type:e}}},isTabletLg:function(){return this.$mq.tabletLg},isTablet:function(){return this.$mq.tablet},mobileImg:function(){var e=this[v.PRODUCT_GROUP][v.BANNER]||{},t=e.mobileImage||e.tabletImage||e.desktopImage;if(t)return{webp:Object(W.c)(320,240,t.id,Q.fileExtension.image.WEBP),orig:Object(W.c)(320,240,t.id)}},tabletImg:function(){var e=this[v.PRODUCT_GROUP][v.BANNER]||{},t=e.tabletImage||e.desktopImage;if(t)return{webp:Object(W.c)(768,240,t.id,Q.fileExtension.image.WEBP),orig:Object(W.c)(768,240,t.id)}},desktopImg:function(){var e=this[v.PRODUCT_GROUP][v.BANNER]||{},t=e.desktopImage||e.tabletImage;if(t)return{webp:Object(W.c)(1224,240,t.id,Q.fileExtension.image.WEBP),orig:Object(W.c)(1224,240,t.id)}},defaultImg:function(e){var t=this[v.PRODUCT_GROUP][v.BANNER]||{},r=t.desktopImage||t.tabletImage||t.mobileImage;if(r)return Object(W.c)(1224,240,r.id)},clearFilterUrl:function(){var e=this.type,t=this.entityCode,r=this.code;return Object(y.d)(e,t,r)}}),watch:{code:function(e){var t=this[h.b];t&&$.$retailRocket.addCategoryView(t.id)},sortValue:function(e,t){e!==t&&this.$router.replace({path:this.$route.path,query:{orderField:e.field,orderDirection:e.direction}})}},methods:te(te(te(te({},Object(b.b)(v.NAME,[z.a,z.b])),Object(b.b)(H.c,[B.b])),Object(b.b)(V.b,[q.a])),{},{scrollTo:function(e){this.$isServer||window.scrollTo(e)},generateBreadcrumbUrl:function(e){var t=this.type,r=this.entityCode;return{path:Object(y.d)(t,r,e)}},setSortValue:function(e,t){this.sortValue=this.sortOptions.find((function(r){return r.field===e&&r.direction===t}))||this.sortOptions[0]},onClickDeleteTag:function(e){var t=this.type,r=this.code,n=this.entityCode,i=this.routeSegments;if(i.includes(e)){var a=i.indexOf(e);-1!==a&&i.splice(a,1);var o=Object(y.b)(t,n,r,i);this.$router.replace({path:o})}},onShowMore:function(){this.showMore=!0,this.$router.replace({path:this.$route.path,query:te(te({},this.$route.query),{},{page:this.activePage+1})})},onPageChanged:function(e){this.showMore=!1,this.$router.push({path:this.$route.path,query:te(te({},this.$route.query),{},{page:e})})},fetchCatalog:function(e,t,r,n){var i,a=this;return(i=regeneratorRuntime.mark((function i(){var o,c,s,u,l,d,f,p,m,g,b,v,h,_,C,O,w,E,j,P;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,o=e.params,c=o.code,s=o.entityCode,u=o.type,l=o.pathMatch,d=e.query,f=d.page,p=void 0===f?1:f,m=d.orderField,g=void 0===m?X.PRICE:m,b=d.orderDirection,v=void 0===b?Q.sortDirections.DESC:b,(h=t.params).code,h.entityCode,h.type,_=t.query,C=(_=void 0===_?{page:1}:_).page,O=void 0===C?1:C,w=Object(y.a)(l,c),E=w.filter,j=w.routeSegments,P=w.filterSegments,a.$progress.start(),i.next=10,a[z.a]({type:u,entityCode:s,code:c,filter:E,routeSegments:j,filterSegments:P,page:p,orderField:g,orderDirection:v,showMore:n});case 10:a.setSortValue(g,v),a.$progress.finish(),r(),n||p===O||a.scrollTo({top:Y.d+1,behavior:"smooth"}),n&&setTimeout((function(){return a.showMore=!1}),200),i.next=22;break;case 17:if(i.prev=17,i.t0=i.catch(0),!i.t0||!0!==i.t0.isCancel){i.next=21;break}return i.abrupt("return");case 21:a.$progress.fail();case 22:case"end":return i.stop()}}),i,null,[[0,17]])})),function(){var e=this,t=arguments;return new Promise((function(r,n){var a=i.apply(e,t);function o(e){Z(a,r,n,o,c,"next",e)}function c(e){Z(a,r,n,o,c,"throw",e)}o(void 0)}))})()}}),beforeRouteEnter:function(e,t,r){var n=e.fullPath,i=e.params,a=i.code,o=void 0===a?null:a,c=i.entityCode,s=void 0===c?null:c,u=i.type,l=i.pathMatch,d=e.query,f=(d=void 0===d?{page:1,orderField:X.PRICE,orderDirection:Q.sortDirections.DESC}:d).page,p=void 0===f?1:f,m=d.orderField,g=void 0===m?X.PRICE:m,b=d.orderDirection,h=void 0===b?Q.sortDirections.DESC:b,_=$.$store.state[v.NAME],C=_.loadPath,O=_.categoryCode,w=_.entityCode,E=_.type;if(C===n&&u===E&&o===O&&s===w)r((function(e){return e.setSortValue(g,h)}));else{var j=Object(y.a)(l,o),P=j.filter,S=j.routeSegments,T=j.filterSegments;$.$progress.start(),$.$store.dispatch("".concat(v.NAME,"/").concat(z.a),{type:u,entityCode:s,code:o,filter:P,routeSegments:S,filterSegments:T,page:p,orderField:g,orderDirection:h}).then((function(e){$.$store.dispatch("".concat(v.NAME,"/").concat(z.b),n),r((function(e){$.$progress.finish(),e.setSortValue(g,h),e[L.h]&&e.scrollTo({top:Y.d+1,behavior:"smooth"})}))})).catch((function(t){return t&&!0===t.isCancel?r():($.$progress.fail(),t&&t.status===Q.httpCodes.NOT_FOUND?r(Object(J.b)(e)):void r())}))}},beforeRouteUpdate:function(e,t,r){var n=e.params,i=n.code,a=n.entityCode,o=n.type,c=n.pathMatch,s=e.query,u=s.page,l=void 0===u?1:u,d=s.orderField,f=void 0===d?X.PRICE:d,p=s.orderDirection,m=void 0===p?Q.sortDirections.DESC:p,g=t.params,b=g.code,v=g.entityCode,h=g.type,y=g.pathMatch,_=t.query,C=_.page,O=void 0===C?1:C,w=_.orderField,E=void 0===w?X.PRICE:w,j=_.orderDirection,P=void 0===j?Q.sortDirections.DESC:j;if(o===h&&a===v&&i===b&&c===y&&l===O&&f===E&&m===P)return r();this.showMore?this.fetchCatalog(e,t,r,this.showMore):this.debounce_fetchCatalog(e,t,r)},beforeRouteLeave:function(e,t,r){this.debounce_fetchCatalog.cancel(),r()},beforeMount:function(){var e=this[h.b]||null;e&&$.$retailRocket.addCategoryView(e.id),this.debounce_fetchCatalog=R()(this.fetchCatalog,500)}},ie=Object(E.a)(ne,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"section catalog-view"},[r("div",{staticClass:"container catalog-view__header"},[r("breadcrumbs",{staticClass:"catalog-view__breadcrumbs"},[r("breadcrumb-item",{key:"main",attrs:{to:"/"}},[e._v("\n                Главная\n            ")]),e._v(" "),r("breadcrumb-item",{key:e.type,attrs:{to:e.breadcrumbRootUrl}},[e._v("\n                "+e._s(e.$t("productGroups.title."+e.type))+"\n            ")]),e._v(" "),e.entityCode?r("breadcrumb-item",{key:e.entityCode,attrs:{to:e.generateBreadcrumbUrl(null)}},[e._v("\n                "+e._s(e.productGroup&&e.productGroup.name)+"\n            ")]):e._e(),e._v(" "),e._l(e.breadcrumbs,(function(t){return r("breadcrumb-item",{key:t.id,attrs:{to:e.generateBreadcrumbUrl(t.code)}},[e._v("\n                "+e._s(t.name)+"\n            ")])}))],2),e._v(" "),e.productGroup.banner?r("catalog-banner-card",{staticClass:"catalog-view__banner",attrs:{item:e.productGroup.banner}},[e.desktopImg?[r("source",{attrs:{"data-srcset":e.desktopImg.webp,type:"image/webp",media:"(min-width: 1024px)"}}),e._v(" "),r("source",{attrs:{"data-srcset":e.desktopImg.orig,media:"(min-width: 1024px)"}})]:e._e(),e._v(" "),e.tabletImg?[r("source",{attrs:{"data-srcset":e.tabletImg.webp,type:"image/webp",media:"(min-width: 768px)"}}),e._v(" "),r("source",{attrs:{"data-srcset":e.tabletImg.orig,media:"(min-width: 768px)"}})]:e._e(),e._v(" "),e.mobileImg?[r("source",{attrs:{"data-srcset":e.mobileImg.webp,type:"image/webp",media:"(min-width: 320px)"}}),e._v(" "),r("source",{attrs:{"data-srcset":e.mobileImg.orig,media:"(min-width: 320px)"}})]:e._e(),e._v(" "),e.defaultImg?r("img",{staticClass:"blur-up lazyload v-picture__img",attrs:{"data-src":e.defaultImg,alt:""}}):e._e()],2):e._e()],1),e._v(" "),r("section",{staticClass:"section"},[r("div",{staticClass:"container catalog-view__grid"},[!e.isTabletLg&&e.categories.length>0?r("div",{staticClass:"catalog-view__side-panel"},[r("ul",{staticClass:"catalog-view__side-panel-categories"},e._l(e.categories,(function(e){return r("category-tree-item",{key:e.id,staticClass:"catalog-view__side-panel-categories-item",attrs:{item:e}})})),1),e._v(" "),r("catalog-filter",{staticClass:"catalog-view__side-panel-filters"}),e._v(" "),r("v-button",{staticClass:"btn--outline catalog-view__side-panel-clear-btn",class:!e.isFiltersPage&&"is-disabled",attrs:{to:e.clearFilterUrl,replace:""}},[e._v("\n                    Очистить фильтры\n                ")])],1):e._e(),e._v(" "),r("div",{staticClass:"catalog-view__main"},[r("div",{staticClass:"catalog-view__main-header"},[r("div",{staticClass:"catalog-view__main-header-title"},[r("h1",{staticClass:"catalog-view__main-header-hl"},[e._v("\n                            "+e._s(e.activeCategory?e.activeCategory.name:"Все категории")+" ("+e._s(e.range)+")\n                        ")])]),e._v(" "),r("v-select",{staticClass:"catalog-view__main-header-sort",attrs:{label:"title","track-by":"id",options:e.sortOptions,searchable:!1,"allow-empty":!1,"show-labels":!1},model:{value:e.sortValue,callback:function(t){e.sortValue=t},expression:"sortValue"}}),e._v(" "),r("filter-button",{staticClass:"catalog-view__main-header-btn",on:{click:function(t){e.filterModal=!e.filterModal}}},[e._v("\n                        Фильтр и сортировка  \n                        "),r("span",{staticClass:"text-grey"},[e._v(e._s(e.activeTags.length))])])],1),e._v(" "),e.isTabletLg?e._e():r("transition-group",{staticClass:"catalog-view__main-tags",attrs:{tag:"ul",name:"tag-item"}},e._l(e.activeTags,(function(t,n){return r("tag-item",{key:t.code,attrs:{"data-index":n,text:t.name},on:{delete:function(r){return e.onClickDeleteTag(t.segment)}}})})),1),e._v(" "),r("catalog-product-list",{key:e.type,staticClass:"catalog-view__main-grid",attrs:{items:e.items,animation:!e.isTablet,fullscreen:e.categories&&0===e.categories.length}}),e._v(" "),e.pagesCount>1?r("div",{staticClass:"catalog-view__main-controls"},[e.activePage<e.pagesCount?r("show-more-button",{attrs:{"btn-class":"btn--outline catalog-view__main-controls-btn","show-preloader":e.showMore},on:{click:e.onShowMore}},[e._v("\n                        Показать ещё\n                    ")]):e._e(),e._v(" "),r("v-pagination",{attrs:{value:e.activePage,"page-count":e.pagesCount},on:{input:e.onPageChanged}})],1):e._e()],1)])]),e._v(" "),r("transition",{attrs:{name:"fade-in"}},[e.filterModal&&e.isTabletLg?r("modal",{staticClass:"catalog-view__modal-filter",attrs:{"show-close-btn":!1,type:"fullscreen"},scopedSlots:e._u([{key:"body",fn:function(){return[r("v-sticky",{staticClass:"catalog-view__modal-filter-sticky",scopedSlots:e._u([{key:"sticky",fn:function(){return[r("div",{staticClass:"catalog-view__modal-filter-header"},[r("button",{staticClass:"catalog-view__modal-filter-header-btn",on:{click:function(t){e.filterModal=!1}}},[r("v-svg",{attrs:{name:"cross-small",width:"14",height:"14"}}),e._v("Фильтр\n                            ")],1)])]},proxy:!0}],null,!1,219555529)},[e._v(" "),r("div",{staticClass:"catalog-view__modal-filter-sort"},[r("div",{staticClass:"catalog-view__modal-filter-sort-title"},[e._v("Сортировка")]),e._v(" "),r("ul",{staticClass:"catalog-view__modal-filter-sort-list"},e._l(e.sortOptions,(function(t){return r("li",{key:t.title,staticClass:"catalog-view__modal-filter-sort-item",class:{"catalog-view__modal-filter-sort-item--active":t===e.sortValue}},[r("button",{staticClass:"catalog-view__modal-filter-sort-btn",on:{click:function(r){e.sortValue=t}}},[e._v("\n                                    "+e._s(t.title)+"\n                                ")])])})),0)]),e._v(" "),r("catalog-filter",{staticClass:"catalog-view__modal-filter-panel"}),e._v(" "),r("div",{staticClass:"catalog-view__modal-filter-controls"},[r("v-button",{staticClass:"btn--outline catalog-view__modal-filter-clear-btn",attrs:{to:e.clearFilterUrl,replace:""}},[e._v("\n                            Очистить\n                        ")]),e._v(" "),r("v-button",{staticClass:"catalog-view__modal-filter-close-btn",on:{click:function(t){e.filterModal=!e.filterModal}}},[e._v("\n                            Показать\n                        ")])],1)],1)]},proxy:!0}],null,!1,3714566129)}):e._e()],1),e._v(" "),r("section",{staticClass:"section catalog-view__section catalog-view__seo"},[r("div",{staticClass:"container catalog-view__seo-container"},[r("h2",{staticClass:"catalog-view__section-hl catalog-view__seo-hl"},[e._v("Блок SEO текста")]),e._v(" "),r("v-expander",{staticClass:"catalog-view__seo-text",attrs:{"min-height":80,"has-mask":""},scopedSlots:e._u([{key:"btn",fn:function(t){var r=t.isExpanded;return[e._v("\n                    "+e._s(r?"Скрыть":"Показать больше")+"\n                ")]}}])},[e._v("\n                Помада L'Oreal Paris Color Riche — это первый матовый тинт для губ с ультранасыщенным цветом,\n                который абсолютно не ощущается на губах. Выбери из 10 модных оттенков те, которые тебе по душе. Эта\n                помада не оставит тебя равнодушной. Экспериментируй и наслаждайся, а Color Riche поможет тебе в\n                этом. Мы заботимся о надёжных поставщиках, качестве товаров и безопасной оплате. А что делать вам?\n                Просто наслаждаться покупками. Для экономии не нужен повод, поэтому мы каждый день даём вам скидки\n                на популярные товары самых разных категорий.\n\n                ")])],1)])],1)}),[],!1,null,null,null);t.default=ie.exports},"3bB/":function(e,t,r){"use strict";r.r(t),r.d(t,"NAME",(function(){return s})),r.d(t,"LOAD_PATH",(function(){return u})),r.d(t,"TYPE",(function(){return l})),r.d(t,"ENTITY_CODE",(function(){return d})),r.d(t,"CATEGORY_CODE",(function(){return f})),r.d(t,"BASE_CATEGORY_CODE",(function(){return p})),r.d(t,"CATEGORIES",(function(){return m})),r.d(t,"FILTERS",(function(){return g})),r.d(t,"BANNER",(function(){return b})),r.d(t,"ITEMS",(function(){return v})),r.d(t,"RANGE",(function(){return h})),r.d(t,"PRODUCT_GROUP",(function(){return y})),r.d(t,"ROUTE_SEGMENTS",(function(){return _})),r.d(t,"FILTER_SEGMENTS",(function(){return C})),r.d(t,"default",(function(){return O}));var n=r("fhPv"),i=r("pZQa"),a=r("45sr"),o=r("zUOt");function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s="catalog",u="loadPath",l="type",d="entityCode",f="categoryCode",p="baseCategoryCode",m="categories",g="filters",b="banner",v="items",h="range",y="productGroup",_="routeSegments",C="filterSegments";function O(){var e;return{name:s,namespaced:!0,state:(e={},c(e,u,null),c(e,l,null),c(e,d,null),c(e,f,null),c(e,p,null),c(e,y,c({type:n.d.CATALOG,base:n.c.FILTERS,excluded_filters:[],filters:{}},b,{})),c(e,m,[]),c(e,g,[]),c(e,v,[]),c(e,h,0),c(e,_,[]),c(e,C,{}),e),actions:i.c,mutations:a.c,getters:o.j}}},"45sr":function(e,t,r){"use strict";var n;function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,"b",(function(){return a})),r.d(t,"a",(function(){return o}));var a="SET_LOAD_PATH",o="APPLY_DATA";t.c=(i(n={},a,(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";e.loadPath=t})),i(n,o,(function(e,t){Object.assign(e,t)})),n)},"9bRU":function(e,t,r){},Xtz6:function(e,t,r){},pZQa:function(e,t,r){"use strict";r.d(t,"b",(function(){return g})),r.d(t,"a",(function(){return b}));r("3eXy");var n,i=r("fhPv"),a=r("48TQ"),o=(r("W6hq"),r("Nlzp")),c=r("45sr");function s(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e,t,r,n,i,a,o){try{var c=e[a](o),s=c.value}catch(e){return void r(e)}c.done?t(s):Promise.resolve(s).then(n,i)}function m(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function o(e){p(a,n,i,o,c,"next",e)}function c(e){p(a,n,i,o,c,"throw",e)}o(void 0)}))}}var g="SET_LOAD_PATH",b="FETCH_CATALOG_DATA";t.c=(f(n={},g,(function(e,t){(0,e.commit)(c.b,t)})),f(n,"FETCH_BANNER",(function(e,t){return m(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.commit,t.prev=1,t.next=4,Object(o.P)();case 4:return r=t.sent,t.abrupt("return",r[6]);case 8:t.prev=8,t.t0=t.catch(1),Object(a.b)("FETCH_BANNER",!0)(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})))()})),f(n,"FETCH_CATEGORIES",(function(e){var t=arguments;return m(regeneratorRuntime.mark((function r(){var n,i;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e.commit,n=t.length>1&&void 0!==t[1]?t[1]:{},i=n.code,r.prev=2,r.next=5,Object(o.X)(i);case 5:return r.abrupt("return",r.sent);case 8:return r.prev=8,r.t0=r.catch(2),Object(a.b)("FETCH_CATEGORIES")(r.t0),r.abrupt("return",[]);case 12:case"end":return r.stop()}}),r,null,[[2,8]])})))()})),f(n,"FETCH_FILTERS",(function(e,t){return m(regeneratorRuntime.mark((function r(){var n,i;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e.commit,n=t.categoryCode,i=t.excludedFilters,r.prev=2,r.next=5,Object(o.db)(n||void 0,i||void 0);case 5:return r.abrupt("return",r.sent);case 8:return r.prev=8,r.t0=r.catch(2),Object(a.b)("FETCH_FILTERS")(r.t0),r.abrupt("return",[]);case 12:case"end":return r.stop()}}),r,null,[[2,8]])})))()})),f(n,"FETCH_ITEMS",(function(e,t){return m(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e.commit,e.state,r.prev=1,r.next=4,Object(o.W)(t);case 4:return r.abrupt("return",r.sent);case 7:return r.prev=7,r.t0=r.catch(1),Object(a.b)("FETCH_ITEMS")(r.t0),r.abrupt("return",[]);case 11:case"end":return r.stop()}}),r,null,[[1,7]])})))()})),f(n,"FETCH_PRODUCT_GROUP",(function(e,t){return m(regeneratorRuntime.mark((function r(){var n,i;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e.commit,n=t.type,i=t.entityCode,r.prev=2,r.next=5,Object(o.lb)(n,i||void 0);case 5:return r.abrupt("return",r.sent);case 8:r.prev=8,r.t0=r.catch(2),Object(a.b)("FETCH_PRODUCT_GROUP",!0)(r.t0);case 11:case"end":return r.stop()}}),r,null,[[2,8]])})))()})),f(n,b,(function(e,t){return m(regeneratorRuntime.mark((function r(){var n,a,o,u,l,f,p,m,g,b,v,h,y,_,C,O,w,E,j,P,S,T,R,k,x,A;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n=e.state,a=e.dispatch,o=e.commit,u=t.type,l=t.entityCode,f=t.filter,p=t.routeSegments,m=t.filterSegments,g=t.page,b=t.orderField,v=t.orderDirection,h=t.showMore,y={},_=[],C=f,O=null,w=null,E=null,n.type===u&&n.entityCode===l){r.next=20;break}return r.next=11,a("FETCH_PRODUCT_GROUP",{type:u,entityCode:l});case 11:y.productGroup=r.sent,y.entityCode=l,y.type=u,O=y.productGroup.based,w=y.productGroup.excluded_filters,E=y.productGroup.filters,O===i.c.FILTERS?_.push({action:"FETCH_CATEGORIES",payload:{code:E.category}}):(y.categories=[],y.activeCategories=[]),r.next=25;break;case 20:y.productGroup=n.productGroup,y.categories=n.categories,O=n.productGroup.based,w=n.productGroup.excluded_filters,E=n.productGroup.filters;case 25:return C=d(d(d({},f),E),{},{category:f.category||E.category||null}),n.baseCategoryCode!==E.category||n.categoryCode!==f.category?O===i.c.FILTERS?(y.baseCategoryCode=E.category,y.categoryCode=f.category,_.push({action:"FETCH_FILTERS",payload:{categoryCode:C.category,excludedFilters:w}})):(y.baseCategoryCode=null,y.categoryCode=null,y.filters=[]):(y.categoryCode=n.categoryCode,y.baseCategoryCode=n.baseCategoryCode),y.routeSegments=p,y.filterSegments=m,y.page=g,_.push({action:"FETCH_ITEMS",payload:{filter:d(d({},C),{},{category:C.category||void 0}),page:g,orderField:b,orderDirection:v}}),r.next=33,Promise.all(_.map((function(e){return a(e.action,e.payload)})));case 33:j=r.sent,P=0;case 35:if(!(P<_.length)){r.next=53;break}S=_[P],T=j[P],r.t0=S.action,r.next="FETCH_CATEGORIES"===r.t0?41:"FETCH_FILTERS"===r.t0?43:"FETCH_ITEMS"===r.t0?45:49;break;case 41:return y.categories=T,r.abrupt("break",50);case 43:return y.filters=T,r.abrupt("break",50);case 45:return R=T.items,k=void 0===R?[]:R,x=T.range,A=void 0===x?0:x,y.items=h?[].concat(s(n.items),s(k)):k,y.range=A,r.abrupt("break",50);case 49:return r.abrupt("break",50);case 50:P++,r.next=35;break;case 53:o(c.a,y);case 54:case"end":return r.stop()}}),r)})))()})),n)},x3SC:function(e,t,r){},zUOt:function(e,t,r){"use strict";r.d(t,"i",(function(){return s})),r.d(t,"f",(function(){return u})),r.d(t,"d",(function(){return l})),r.d(t,"b",(function(){return d})),r.d(t,"c",(function(){return f})),r.d(t,"g",(function(){return p})),r.d(t,"a",(function(){return m})),r.d(t,"h",(function(){return g})),r.d(t,"e",(function(){return b}));var n,i=r("W6hq");r("2JJK");function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s="routeSegments",u="filterSegments",l="activeTags",d="activeCategory",f="activePage",p="pagesCount",m="activeCategories",g="rootCategory",b="breadcrumbs";t.j=(c(n={},m,(function(e){var t=e.categories,r=e.baseCategoryCode,n=e.categoryCode;return Object(i.g)(t,n||r)})),c(n,g,(function(e,t){var r=e.baseCategoryCode;return t.activeCategories.find((function(e){return e.code===r}))})),c(n,b,(function(e,t){var r=t.rootCategory,n=t.activeCategories,i=n.indexOf(r);return-1!==i?n.slice(i+1):n})),c(n,f,(function(e,t,r){var n=r.route;return n.query.page?Number(n.query.page):1})),c(n,p,(function(e){return Math.ceil(e.range/12)})),c(n,d,(function(e,t){var r=t.activeCategories;return r[r.length-1]})),c(n,s,(function(e,t,r){var n=r.route.params.pathMatch;return n?n.split("/"):[]})),c(n,u,(function(e,t){var r=t[s];return Object(i.h)(r)})),c(n,l,(function(e,t){for(var r=[],n=e.filters.filter((function(e){return"range"!==e.type})),i=t.filterSegments,a=0;a<n.length;a++)for(var c=n[a],s=0;s<c.items.length;s++){var u=c.items[s];i[c.name]&&i[c.name][u.code]&&r.push(o(o({},u),{},{segment:"".concat(c.name,"-").concat(u.code)}))}return r})),n)}}]);