(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{"0PnJ":function(t,e,n){},FB7E:function(t,e,n){},esnV:function(t,e,n){"use strict";n.r(e);var i,r=n("NDiG"),a=n("i2Ud"),s=n("YSwA"),o=(n("vaB5"),{name:"brand-card",props:{brandId:{type:[Number,String]},name:{type:String},image:{type:String}}}),l=n("KHd+"),c=Object(l.a)(o,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"brand-card"},[e("router-link",{staticClass:"brand-card__img",attrs:{to:"/"}},[e("img",{staticClass:"blur-up lazyload",attrs:{"data-src":this.image,alt:this.name}})])],1)}),[],!1,null,null,null).exports,u=n("ENRa"),d=(n("FB7E"),{name:"category-card",props:{categoryId:{type:[Number,String]},name:{type:String},image:{type:String},code:{type:String}},computed:{url:function(){return this.code?"/catalog/".concat(this.code):"/catalog"}}}),_=Object(l.a)(d,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"category-card"},[e("router-link",{staticClass:"category-card__img",attrs:{to:this.url}},[e("img",{staticClass:"blur-up lazyload",attrs:{"data-src":this.image,alt:""}})]),this._v("\n    "+this._s(this.name)+"\n")],1)}),[],!1,null,null,null).exports,g=n("eOVz"),b=n("/Q9p"),v=n("LqtR"),p=(n("tZek"),{name:"popular-brands",components:{},props:{items:{type:Array,default:function(){return[]}},popularCount:{type:Number,default:6},restCount:{type:Number,default:18},btnText:{type:String,default:"Показать все"}},data:function(){return{showAll:!1}},computed:{mostPopularBrands:function(){return this.items.slice(0,this.popularCount)},restBrands:function(){return this.showAll?this.items.slice(this.popularCount,this.items.length):this.items.slice(this.popularCount,this.restCount)},canShowAll:function(){return this.items.length<=this.popularCount+this.restCount&&!this.showAll}},methods:{onShowAll:function(){this.showAll=!this.showAll}}}),f=Object(l.a)(p,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"popular-brands"},[n("div",{staticClass:"popular-brands__most-popular"},t._l(t.mostPopularBrands,(function(t,e){return n("div",{key:t.id||e},[n("img",{staticClass:"blur-up lazyload",attrs:{"data-src":t.image,alt:""}})])})),0),t._v(" "),n("ul",{staticClass:"popular-brands__list"},[t._l(t.restBrands,(function(e,i){return n("li",{key:e.id||i,staticClass:"popular-brands__list-item"},[t._v("\n            "+t._s(e.name)+"\n        ")])})),t._v(" "),t.canShowAll?n("li",{staticClass:"popular-brands__list-item"},[n("button",{staticClass:"popular-brands__list-btn",on:{click:t.onShowAll}},[t._v(t._s(t.btnText))])]):t._e()],2)])}),[],!1,null,null,null).exports,m=n("L2JU"),h=n("BZIu"),C=n("Nlzp");function w(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var E=(w(i={},"SET_INSTAGRAM",(function(t,e){t.instagramItems=e})),w(i,"SET_BRANDS",(function(t,e){t.brands=e})),w(i,"SET_MIDDLE_BANNERS",(function(t,e){t.middleBanners=e})),w(i,"SET_BANNERS",(function(t,e){t.banners=e})),w(i,"SET_NEW_PRODUCTS",(function(t,e){t.newProducts=e})),w(i,"SET_BESTSELLER_PRODUCTS",(function(t,e){t.bestsellerProducts=e})),w(i,"SET_FEATURED_PRODUCTS",(function(t,e){t.featuredProducts=e})),w(i,"SET_CATEGORIES",(function(t,e){t.categories=e})),w(i,"SET_LOAD",(function(t,e){t.load=e})),i),y={name:"landing",namespaced:!0,state:{load:!1,banners:[],middleBanners:[],brands:[],categories:[],newProducts:{banner:{},items:[]},bestsellerProducts:{banner:{},items:[]},featuredProducts:{banner:{},items:[]},instagramItems:[]},actions:{FETCH_INSTAGRAM:function(t){var e=t.commit;return Object(C.e)().then((function(t){return e("SET_INSTAGRAM",t)})).catch((function(t){return h.$logger.error("FETCH_INSTAGRAM error: ".concat(t)),[]}))},FETCH_BRANDS:function(t){var e=t.commit;return Object(C.b)().then((function(t){return e("SET_BRANDS",t)})).catch((function(t){return h.$logger.error("FETCH_BRANDS error: ".concat(t)),[]}))},FETCH_BANNERS:function(t){var e=t.commit;return Object(C.a)().then((function(t){e("SET_BANNERS",t.slice(2,5)),e("SET_MIDDLE_BANNERS",t.slice(3,6))})).catch((function(t){return h.$logger.error("FETCH_BANNERS error: ".concat(t)),[]}))},FETCH_CATEGORIES:function(t){var e=t.commit;return Object(C.d)().then((function(t){return e("SET_CATEGORIES",t)})).catch((function(t){return h.$logger.error("FETCH_CATEGORIES error: ".concat(t)),[]}))},FETCH_FEATURED_PRODUCTS:function(t){var e=t.commit;return Promise.all([Object(C.g)(),Object(C.a)()]).then((function(t){e("SET_FEATURED_PRODUCTS",{items:t[0]?t[0].items.slice(8,12):[],banner:t[1][2]?t[1][2]:{}})})).catch((function(t){return h.$logger.error("FETCH_FEATURED_PRODUCTS error: ".concat(t)),[]}))},FETCH_NEW_PRODUCTS:function(t){var e=t.commit;return Promise.all([Object(C.g)(),Object(C.a)()]).then((function(t){e("SET_NEW_PRODUCTS",{items:t[0]?t[0].items.slice(0,4):[],banner:t[1][0]?t[1][0]:{}})})).catch((function(t){return h.$logger.error("FETCH_NEW_PRODUCTS error: ".concat(t)),[]}))},FETCH_BESTSELLER_PRODUCTS:function(t){var e=t.commit;return Promise.all([Object(C.g)(),Object(C.a)()]).then((function(t){e("SET_BESTSELLER_PRODUCTS",{items:t[0]?t[0].items.slice(4,8):[],banner:t[1][1]?t[1][1]:{}})})).catch((function(t){return h.$logger.error("FETCH_BESTSELLER_PRODUCTS error: ".concat(t)),[]}))},FETCH_LANDING_DATA:function(t){var e=t.dispatch,n=t.commit;return Promise.all([e("FETCH_NEW_PRODUCTS"),e("FETCH_BESTSELLER_PRODUCTS"),e("FETCH_FEATURED_PRODUCTS"),e("FETCH_CATEGORIES"),e("FETCH_BANNERS"),e("FETCH_BRANDS"),e("FETCH_INSTAGRAM")]).then((function(){return n("SET_LOAD",!0)}))}},mutations:E,getters:{}},T=n("AlLH"),S=n("Kw5r"),O=n("hf7O");S.default.use(O);n("hLqd"),n("PnIt"),n("0PnJ");function P(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function A(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var R={slidesPerView:1,grabCursor:!0,loop:!0,autoplay:{delay:1e4},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},pagination:{el:".swiper-pagination",type:"bullets"}},N={spaceBetween:24,slidesOffsetBefore:24,slidesOffsetAfter:24,slidesPerView:2.5,grabCursor:!0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},pagination:{el:".swiper-pagination",type:"bullets"},breakpoints:A({},T.breakpoints.tablet-1,{slidesPerView:1.5,spaceBetween:16,slidesOffsetBefore:16,slidesOffsetAfter:16})},k={name:"landing",components:{VSvg:r.a,VButton:a.a,VSlider:s.a,BrandCard:c,BannerCard:u.a,CategoryCard:_,InstagramCard:g.a,CatalogProductCard:b.a,CatalogBannerCard:v.a,PopularBrands:f},head:{title:{inner:"landing",separator:"-",complement:" Welcome!"}},data:function(){return{slidersVisibility:{instagram:!1}}},computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?P(n,!0).forEach((function(e){A(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},Object(m.d)("landing",["categories","brands","instagramItems","bestsellerProducts","featuredProducts","newProducts","middleBanners","banners"]),{bannersOptions:function(){return R},instagramOptions:function(){return N},isTabletLg:function(){return this.$mq.tabletLg}}),methods:{onChangedVisibility:function(t,e){var n=e.target;t&&this.slidersVisibility[n.id]!==t&&(this.slidersVisibility[n.id]=t)}},beforeRouteEnter:function(t,e,n){!!h.$store._modulesNamespaceMap["".concat(y.name,"/")]||h.$store.registerModule(y.name,y,{preserveState:!!h.$store.state.landing}),h.$store.state.landing.load?n():(h.$progress.start(),h.$store.dispatch("".concat(y.name,"/FETCH_LANDING_DATA")).then((function(){return n((function(t){return h.$progress.finish()}))})))},beforeRouteUpdate:function(t,e,n){var i=this;this.$progress.start(),this.$store.dispatch("".concat(y.name,"/FETCH_LANDING_DATA")).then((function(){return n((function(t){return i.$progress.finish()}))}))}},D=Object(l.a)(k,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"section landing-view"},[n("section",{staticClass:"section"},[n("div",{staticClass:"container landing-view__banners"},[n("v-slider",{staticClass:"landing-view__banners-slider",attrs:{name:"banners",options:t.bannersOptions}},t._l(t.banners,(function(t){return n("div",{key:t.id,staticClass:"swiper-slide landing-view__banners-card"},[n("img",{staticClass:"blur-up lazyload landing-view__banners-card-img",attrs:{"data-src":t.image,alt:""}})])})),0)],1)]),t._v(" "),n("section",{staticClass:"section landing-view__section"},[n("div",{staticClass:"container landing-view__categories"},[n("div",{staticClass:"landing-view__categories-grid"},t._l(t.categories,(function(t){return n("category-card",{key:t.id,staticClass:"landing-view__categories-card",attrs:{name:t.name,image:t.image,code:t.code}})})),1)])]),t._v(" "),n("section",{staticClass:"section landing-view__section"},[n("div",{staticClass:"container landing-view__products "},[n("h2",{staticClass:"landing-view__section-hl"},[t._v(t._s(t.$t("landing.title.new")))]),t._v(" "),n("div",{staticClass:"landing-view__products-grid"},[n("div",{staticClass:"landing-view__products-cards"},[t._l(t.newProducts.items,(function(t){return n("catalog-product-card",{key:t.id,staticClass:"landing-view__products-card",attrs:{"product-id":t.id,name:t.name,href:t.href,image:t.image,price:t.price,"old-price":t.oldPrice,tags:t.tags,rating:t.rating}})})),t._v(" "),n("v-button",{staticClass:"btn--outline landing-view__section-link",attrs:{to:"/"}},[t._v("\n                        "+t._s(t.$t("landing.showAll"))+"\n                    ")])],2),t._v(" "),n("catalog-banner-card",{staticClass:"landing-view__products-banner",attrs:{"banner-id":t.newProducts.banner.id,"btn-text":t.newProducts.banner.btnText,title:t.newProducts.banner.title,"upper-text":t.newProducts.banner.upperText,image:t.newProducts.banner.image}})],1)])]),t._v(" "),n("section",{staticClass:"section landing-view__section"},[n("div",{staticClass:"container landing-view__products landing-view__products--inverse"},[n("h2",{staticClass:"landing-view__section-hl"},[t._v(t._s(t.$t("landing.title.bestseller")))]),t._v(" "),n("div",{staticClass:"landing-view__products-grid"},[n("div",{staticClass:"landing-view__products-cards"},[t._l(t.bestsellerProducts.items,(function(t){return n("catalog-product-card",{key:t.id,staticClass:"landing-view__products-card",attrs:{"product-id":t.id,name:t.name,href:t.href,image:t.image,price:t.price,"old-price":t.oldPrice,tags:t.tags,rating:t.rating}})})),t._v(" "),n("v-button",{staticClass:"btn--outline landing-view__section-link",attrs:{to:"/"}},[t._v("\n                        "+t._s(t.$t("landing.showAll"))+"\n                    ")])],2),t._v(" "),n("catalog-banner-card",{staticClass:"landing-view__products-banner",attrs:{"banner-id":t.bestsellerProducts.banner.id,"btn-text":t.bestsellerProducts.banner.btnText,title:t.bestsellerProducts.banner.title,"upper-text":t.bestsellerProducts.banner.upperText,image:t.bestsellerProducts.banner.image}})],1)])]),t._v(" "),n("section",{staticClass:"section landing-view__section"},[n("div",{staticClass:"container landing-view__middle-banners"},[n("div",{staticClass:"landing-view__middle-banners-grid"},t._l(t.middleBanners,(function(t){return n("banner-card",{key:t.id,staticClass:"landing-view__middle-banners-card",attrs:{image:t.image,title:t.title,"button-text":t.btnText}})})),1)])]),t._v(" "),n("section",{staticClass:"section landing-view__section"},[n("div",{staticClass:"container landing-view__products"},[n("h2",{staticClass:"landing-view__section-hl"},[t._v(t._s(t.$t("landing.title.featured")))]),t._v(" "),n("div",{staticClass:"landing-view__products-grid"},[n("div",{staticClass:"landing-view__products-cards"},[t._l(t.featuredProducts.items,(function(t){return n("catalog-product-card",{key:t.id,staticClass:"landing-view__products-card",attrs:{"product-id":t.id,name:t.name,href:t.href,image:t.image,price:t.price,"old-price":t.oldPrice,tags:t.tags,rating:t.rating}})})),t._v(" "),n("v-button",{staticClass:"btn--outline landing-view__section-link",attrs:{to:"/"}},[t._v("\n                        "+t._s(t.$t("landing.showAll"))+"\n                    ")])],2),t._v(" "),n("catalog-banner-card",{staticClass:"landing-view__products-banner",attrs:{"banner-id":t.featuredProducts.banner.id,"btn-text":t.featuredProducts.banner.btnText,title:t.featuredProducts.banner.title,"upper-text":t.featuredProducts.banner.upperText,image:t.featuredProducts.banner.image}})],1)])]),t._v(" "),n("section",{staticClass:"section landing-view__section landing-view__section--grey"},[n("div",{staticClass:"container landing-view__brands"},[n("h2",{staticClass:"landing-view__section-hl landing-view__brands-hl"},[t._v("\n                "+t._s(t.$t("landing.title.brand"))+"\n            ")]),t._v(" "),n("popular-brands",{staticClass:"landing-view__brands-list",attrs:{items:t.brands,"rest-count":10,"btn-text":t.$t("landing.brands.showAll")}})],1)]),t._v(" "),n("section",{staticClass:"section landing-view__section"},[n("div",{staticClass:"container landing-view__instagram"},[n("h2",{staticClass:"landing-view__section-hl landing-view__instagram-hl"},[t._v(t._s(t.$t("landing.title.instagram")))]),t._v(" "),t.isTabletLg?n("v-slider",{staticClass:"landing-view__instagram-slider",attrs:{name:"instagram",options:t.instagramOptions}},t._l(t.instagramItems,(function(t){return n("instagram-card",{key:t.id,staticClass:"swiper-slide landing-view__instagram-card",attrs:{"instagram-card-id":t.id,image:t.image}})})),1):t._e(),t._v(" "),n("v-button",{staticClass:"btn--outline landing-view__section-link landing-view__instagram-link"},[t._v("\n                "+t._s(t.$t("landing.subscribe"))+"\n            ")]),t._v(" "),t.isTabletLg?t._e():n("div",{staticClass:"landing-view__instagram-grid",class:{"landing-view__instagram-grid--initialized":!0}},t._l(t.instagramItems,(function(t){return n("instagram-card",{key:t.id,staticClass:"landing-view__instagram-card",attrs:{"instagram-card-id":t.id,image:t.image}})})),1)],1)])])}),[],!1,null,null,null);e.default=D.exports},hf7O:function(t,e,n){"use strict";n.r(e),function(t){function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n.d(e,"ObserveVisibility",(function(){return c})),n.d(e,"install",(function(){return u}));var s=function(){function t(e,n,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.el=e,this.observer=null,this.frozen=!1,this.createObserver(n,i)}var e,n,i;return e=t,(n=[{key:"createObserver",value:function(t,e){var n=this;if(this.observer&&this.destroyObserver(),!this.frozen){var i;if(this.options="function"==typeof(i=t)?{callback:i}:i,this.callback=function(t,e){n.options.callback(t,e),t&&n.options.once&&(n.frozen=!0,n.destroyObserver())},this.callback&&this.options.throttle){var r=(this.options.throttleOptions||{}).leading;this.callback=function(t,e){var n,i,r,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=function(o){for(var l=arguments.length,c=new Array(l>1?l-1:0),u=1;u<l;u++)c[u-1]=arguments[u];if(r=c,!n||o!==i){var d=s.leading;"function"==typeof d&&(d=d(o,i)),n&&o===i||!d||t.apply(void 0,[o].concat(a(r))),i=o,clearTimeout(n),n=setTimeout((function(){t.apply(void 0,[o].concat(a(r))),n=0}),e)}};return o._clear=function(){clearTimeout(n),n=null},o}(this.callback,this.options.throttle,{leading:function(t){return"both"===r||"visible"===r&&t||"hidden"===r&&!t}})}this.oldResult=void 0,this.observer=new IntersectionObserver((function(t){var e=t[0];if(t.length>1){var i=t.find((function(t){return t.isIntersecting}));i&&(e=i)}if(n.callback){var r=e.isIntersecting&&e.intersectionRatio>=n.threshold;if(r===n.oldResult)return;n.oldResult=r,n.callback(r,e)}}),this.options.intersection),e.context.$nextTick((function(){n.observer&&n.observer.observe(n.el)}))}}},{key:"destroyObserver",value:function(){this.observer&&(this.observer.disconnect(),this.observer=null),this.callback&&this.callback._clear&&(this.callback._clear(),this.callback=null)}},{key:"threshold",get:function(){return this.options.intersection&&this.options.intersection.threshold||0}}])&&r(e.prototype,n),i&&r(e,i),t}();function o(t,e,n){var i=e.value;if(i)if("undefined"==typeof IntersectionObserver)console.warn("[vue-observe-visibility] IntersectionObserver API is not available in your browser. Please install this polyfill: https://github.com/w3c/IntersectionObserver/tree/master/polyfill");else{var r=new s(t,i,n);t._vue_visibilityState=r}}function l(t){var e=t._vue_visibilityState;e&&(e.destroyObserver(),delete t._vue_visibilityState)}var c={bind:o,update:function(t,e,n){var r=e.value;if(!function t(e,n){if(e===n)return!0;if("object"===i(e)){for(var r in e)if(!t(e[r],n[r]))return!1;return!0}return!1}(r,e.oldValue)){var a=t._vue_visibilityState;r?a?a.createObserver(r,n):o(t,{value:r},n):l(t)}},unbind:l};function u(t){t.directive("observe-visibility",c)}var d={version:"0.4.6",install:u},_=null;"undefined"!=typeof window?_=window.Vue:void 0!==t&&(_=t.Vue),_&&_.use(d),e.default=d}.call(this,n("yLpj"))},tZek:function(t,e,n){},vaB5:function(t,e,n){}}]);