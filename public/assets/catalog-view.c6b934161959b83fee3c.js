(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{"/Rcj":function(e,t,a){"use strict";a.r(t);var r,n=a("NDiG"),i=a("i2Ud"),o=a("o3vK"),c=a("+gqB"),s=a("nuHk"),l=a("pFko"),u=a("ze5i"),d=a("wo+G"),m=a("2/Mz"),g=a("tHOl"),f=a("BZIu"),v=a("Nlzp");function p(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var _,b=(p(r={},"SET_LOAD",(function(e,t){e.load=t})),p(r,"SET_BANNER",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.banner=t})),p(r,"SET_ITEMS",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{items:[],range:0},a=t.items,r=t.range;e.items=a||[],e.range=r||0})),p(r,"SET_CATEGORY_CODE",(function(e,t){e.categoryCode=t})),p(r,"SET_CATEGORIES",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e.categories=t})),p(r,"SET_BRAND",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.brandCode=t.code,e.brand=t})),r);a("VgBE");function h(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function C(e,t,a,r,n,i,o){try{var c=e[i](o),s=c.value}catch(e){return void a(e)}c.done?t(s):Promise.resolve(s).then(r,n)}function y(e){return function(){var t=this,a=arguments;return new Promise((function(r,n){var i=e.apply(t,a);function o(e){C(i,r,n,o,c,"next",e)}function c(e){C(i,r,n,o,c,"throw",e)}o(void 0)}))}}var w,O,E,T=(h(_={},"FETCH_BANNER",(function(e,t){var a=e.commit;return Object(v.l)().then((function(e){a("SET_BANNER",e[6])})).catch((function(e){return f.$logger.error("".concat("FETCH_BANNER"," ").concat(e)),[]}))})),h(_,"FETCH_CATEGORIES",(function(e,t){var a=e.commit;return Object(v.q)().then((function(e){a("SET_CATEGORIES",e)})).catch((function(e){return f.$logger.error("".concat("FETCH_CATEGORIES"," ").concat(e)),[]}))})),h(_,"FETCH_ITEMS",(function(e,t){var a=e.commit,r=e.state;return Object(v.p)(t).then((function(e){t.showMore?a("SET_ITEMS",{items:r.items.concat(e.items),range:e.range}):a("SET_ITEMS",e),a("SET_CATEGORY_CODE",t.filter&&t.filter.category)})).catch((function(e){return f.$logger.error("".concat("FETCH_ITEMS"," ").concat(e)),[]}))})),h(_,"SET_LOAD",(function(e){var t=e.commit,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t("SET_LOAD",a)})),h(_,"FETCH_BRAND",(function(e,t){var a=e.commit;return Object(v.m)(t).then((function(e){return a("SET_BRAND",e)}))})),h(_,"FETCH_BRAND_DATA",(O=y(regeneratorRuntime.mark((function e(t,a){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.dispatch,e.abrupt("return",Promise.all([r("FETCH_CATEGORIES"),r("FETCH_BRAND",a)]));case 2:case"end":return e.stop()}}),e)}))),function(e,t){return O.apply(this,arguments)})),h(_,"FETCH_CATALOG_DATA",(w=y(regeneratorRuntime.mark((function e(t){var a,r,n,i=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.dispatch,r=t.commit,!(n=i.length>1&&void 0!==i[1]?i[1]:{}).brandCode){e.next=7;break}return e.next=5,Promise.all([a("FETCH_CATEGORIES"),a("FETCH_BRAND",{brandCode:n.brandCode})]);case 5:e.next=9;break;case 7:return e.next=9,Promise.all([a("FETCH_CATEGORIES"),a("FETCH_BANNER")]);case 9:return e.abrupt("return",a("FETCH_ITEMS",n).then((function(){return r("SET_LOAD",!0)})));case 10:case"end":return e.stop()}}),e)}))),function(e){return w.apply(this,arguments)})),_),k=a("W6hq");function j(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var S,x=(j(E={},"activeCategories",(function(e,t,a){for(var r=e.categories,n=a.route.params.code,i=[],o=null,c=0;c<r.length;c++){var s=r[c];if(o=Object(k.d)(n,s,i)){i.unshift(o);break}}return i})),j(E,"activePage",(function(e,t,a){var r=a.route;return r.query.page?Number(r.query.page):1})),j(E,"pagesCount",(function(e){return Math.ceil(e.range/12)})),j(E,"activeCategory",(function(e,t){var a=t.activeCategories;return a[a.length-1]})),j(E,"routeSegments",(function(e,t,a){var r=a.route.params.pathMatch;return r?r.split("/"):[]})),j(E,"filterSegments",(function(e,t){var a=t.routeSegments;return Object(k.e)(a)})),j(E,"activeTags",(function(e,t){for(var a=[],r=e.filters.filter((function(e){return"range"!==e.type})),n=t.filterSegments,i=0;i<r.length;i++)for(var o=r[i],c=0;c<o.items.length;c++){var s=o.items[c];n[o.name]&&n[o.name][s.code]&&a.push(s)}return a})),E);function A(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var P="catalog",R={name:P,namespaced:!0,state:(S={},A(S,"load",!1),A(S,"brand",{}),A(S,"brandCode",null),A(S,"banner",{}),A(S,"categoryId",null),A(S,"categoryCode",null),A(S,"categories",[]),A(S,"items",[]),A(S,"range",0),A(S,"filters",[{id:1,title:"Цена, ₽",name:"price",type:"range",max:1e3,min:0},{id:2,title:"Бренды",name:"brand",type:"check",items:[{id:1,name:"L’Oreal Paris",code:"brand-loreal"},{id:2,name:"Maybelline",code:"brand-maybelline"},{id:3,name:"Pupa",code:"brand-pupa"}]},{id:3,title:"Средства",name:"tool",type:"check",values:[],items:[{id:1,name:"Жидкая помада для губ",code:"tool-zhidkaya_pomada_dlya_gub"},{id:2,name:"Помада для губ",code:"tool-pomada_dlya_gub"},{id:3,name:"Гигиеническая помада для губ",code:"tool-gigienicheskaya_pomada_dlya_gub"}]},{id:4,title:"Эффекты",name:"effect",type:"radio",items:[{id:1,name:"Глянцевая",code:"effect-glyancevaya"},{id:2,name:"Матовая",code:"effect-matovaya"},{id:3,name:"Перламутровая",code:"effect-perlamutrovaya"}]}]),S),actions:T,mutations:b,getters:x},D=a("L2JU");a("x3SC");function M(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function L(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var F={name:"category-tree-item",components:{},props:{item:{type:Object,required:!0},depth:{type:Number,default:0}},data:function(){return{isHover:!1}},computed:function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?M(Object(a),!0).forEach((function(t){L(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):M(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},Object(D.c)(P,["activeCategories"]),{},Object(D.d)("route",{brandCode:function(e){return e.params.brandCode}}),{isActive:function(){return this.activeCategories.includes(this.item)},url:function(){var e=this.brandCode;return this.item&&{path:Object(k.c)(e,this.item.code)}},hasChildren:function(){return this.item&&Array.isArray(this.item.items)}}),methods:{onMouseOver:function(e){this.isHover=e}}},$=a("KHd+"),I=Object($.a)(F,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"category-tree-item",class:[{"category-tree-item--root":0===e.depth},{"category-tree-item--active":e.isActive}],on:{mouseover:function(t){return e.onMouseOver(!0)},mouseleave:function(t){return e.onMouseOver(!1)}}},[a("div",{staticClass:"category-tree-item__label"},[void 0!==e.item.code?a("router-link",{staticClass:"category-tree-item__link",attrs:{to:e.url,exact:""===e.item.code}},[e._v("\n            "+e._s(e.item.name)+"\n        ")]):a("span",{staticClass:"category-tree-item__link"},[e._v("\n            "+e._s(e.item.name)+"\n        ")])],1),e._v(" "),a("transition",{attrs:{name:"slide-right"}},[e.hasChildren&&(e.isHover||e.isActive)?a("ul",{staticClass:"category-tree-item__list"},e._l(e.item.items,(function(t,r){return a("category-tree-item",{key:t.id||r,staticClass:"category-tree-item__item",attrs:{item:t,depth:e.depth+1}})})),1):e._e()])],1)}),[],!1,null,null,null).exports,H=a("MhNv"),V=a("sEfC"),B=a.n(V);a("Xtz6");function N(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function q(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var G={name:"catalog-filter",components:{VButton:i.a,VCheck:o.a,VRange:s.a,VAccordion:H.a},props:{btnText:{type:String,default:"Очистить фильтры"}},data:function(){return{format:{to:function(e){return Math.round(e)},from:function(e){return Number(e)}}}},computed:function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?N(Object(a),!0).forEach((function(t){q(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):N(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},Object(D.c)("catalog",["filterSegments","routeSegments"]),{},Object(D.d)("catalog",["filters"]),{},Object(D.d)("route",{code:function(e){return e.params.code},brandCode:function(e){return e.params.brandCode}}),{accordionFilters:function(){return this.filters?this.filters.map((function(e){return{id:e.id,item:e,title:e.title,isExpanded:!0}})):[]}}),methods:{onRadioChange:function(e,t,a){var r=this.routeSegments,n=this.code,i=this.brandCode;r.includes(a)||r.push(a);var o=new RegExp("^".concat(t,"-"));r=r.filter((function(e){return e===a||!e.match(o)}));var c=i?Object(k.a)(i,n,r):Object(k.b)(n,r);this.$router.replace({path:c})},onCheckChange:function(e,t,a){var r=this.routeSegments,n=this.code,i=this.brandCode;if(e){if(r.includes(a))return;r.push(a)}else{if(!r.includes(a))return;var o=r.indexOf(a);-1!==o&&r.splice(o,1)}var c=i?Object(k.a)(i,n,r):Object(k.b)(n,r);this.$router.replace({path:c})},onRangeChange:function(e,t){this.debounce_rangeChange(e,t)}},beforeMount:function(){var e=this;this.debounce_rangeChange=B()((function(t,a){for(var r=e.routeSegments,n="".concat(a,"-from_").concat(t[0],"_to_").concat(t[1]),i=new RegExp("^".concat(a,"-")),o=-1,c=0;c<r.length;c++)if(r[c].match(i)){o=c;break}if(-1!==o){if(r[o]===n)return;r.splice(o,1,n)}else r.push(n);e.$router.replace({path:Object(k.b)(e.code,r)})}),500)}},U=Object($.a)(G,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.accordionFilters&&e.accordionFilters.length>0?a("div",{staticClass:"catalog-filter"},[a("v-accordion",{staticClass:"catalog-filter__filters",attrs:{"key-field":"id",items:e.accordionFilters,"item-expanded":function(e){return e.isExpanded},"item-toggled":function(e){return e.isExpanded=!e.isExpanded}},scopedSlots:e._u([{key:"content",fn:function(t){var r=t.item;return["range"===r.item.type?a("div",{staticClass:"catalog-filter__filters-range"},[a("v-range",{attrs:{initialValue:[r.item.min,r.item.max],value:e.filterSegments[r.item.name]||[r.item.min,r.item.max],max:r.item.max,min:r.item.min,format:e.format},on:{input:function(t){return e.onRangeChange(t,r.item.name)}}})],1):"check"===r.item.type?a("div",{staticClass:"catalog-filter__filters-check"},e._l(r.item.items,(function(t){return a("v-check",{key:t.id,attrs:{id:r.item.name+"-"+t.id,value:t.code,name:r.item.name,checked:e.filterSegments[r.item.name]&&e.filterSegments[r.item.name][t.code]},on:{change:function(a){return e.onCheckChange(a,r.item.name,t.code)}}},[e._v("\n                    "+e._s(t.name)+"\n                ")])})),1):"radio"===r.item.type?a("div",{staticClass:"catalog-filter__filters-check"},e._l(r.item.items,(function(t){return a("v-check",{key:t.id,attrs:{id:r.item.name+"-"+t.id,type:"radio",value:t.code,name:r.item.name,checked:e.filterSegments[r.item.name]&&e.filterSegments[r.item.name][t.code]},on:{change:function(a){return e.onRadioChange(a,r.item.name,t.code)}}},[e._v("\n                    "+e._s(t.name)+"\n                ")])})),1):e._e()]}}],null,!1,3280378372)}),e._v(" "),a("v-button",{staticClass:"btn--outline catalog-filter__clear-btn",attrs:{to:{path:e.code?"/catalog/"+e.code:"/catalog"}}},[e._v("\n        "+e._s(e.btnText)+"\n    ")])],1):e._e()}),[],!1,null,null,null).exports,z=a("/Q9p"),Q=a("LqtR"),J=a("/Qa0"),Z=a("Jtxo"),K=a("8TZ/"),Y=a("0CxO"),X=a("55Sm"),W=a("jDKC"),ee=a("AlLH"),te=a("4BeY"),ae=a.n(te),re=a("IaFt"),ne=a.n(re),ie=new ae.a({id:"icon-filter",use:"icon-filter-usage",viewBox:"0 0 18 14",content:'<symbol viewBox="0 0 18 14" xmlns="http://www.w3.org/2000/svg" id="icon-filter">\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M1 10C0.447715 10 -1.55275e-07 10.4477 -1.31134e-07 11C-1.06993e-07 11.5523 0.447715 12 1 12L13 12L13 13C13 13.5523 13.4477 14 14 14C14.5523 14 15 13.5523 15 13L15 12L17 12C17.5523 12 18 11.5523 18 11C18 10.4477 17.5523 10 17 10L15 10L15 9C15 8.44771 14.5523 8 14 8C13.4477 8 13 8.44771 13 9L13 10L1 10ZM1 2C0.447715 2 -5.04966e-07 2.44771 -4.80825e-07 3C-4.56684e-07 3.55228 0.447715 4 1 4L3 4L3 5C3 5.55228 3.44772 6 4 6C4.55228 6 5 5.55228 5 5L5 4L17 4C17.5523 4 18 3.55228 18 3C18 2.44771 17.5523 2 17 2L5 2L5 0.999999C5 0.447715 4.55228 -1.15266e-06 4 -1.12852e-06C3.44772 -1.10438e-06 3 0.447715 3 0.999999L3 2L1 2Z" />\n</symbol>'});ne.a.add(ie),a("4eDr"),a("9bRU");function oe(e,t,a,r,n,i,o){try{var c=e[i](o),s=c.value}catch(e){return void a(e)}c.done?t(s):Promise.resolve(s).then(r,n)}function ce(e){return function(){var t=this,a=arguments;return new Promise((function(r,n){var i=e.apply(t,a);function o(e){oe(i,r,n,o,c,"next",e)}function c(e){oe(i,r,n,o,c,"throw",e)}o(void 0)}))}}function se(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function le(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?se(Object(a),!0).forEach((function(t){ue(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):se(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function ue(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var de,me,ge=0,fe={name:"catalog",components:{VSvg:n.a,VButton:i.a,VSelect:l.a,VPagination:c.a,VSticky:u.a,VExpander:d.a,Modal:m.a,TagItem:g.a,CategoryTreeItem:I,CatalogFilter:U,CatalogProductCard:z.a,CatalogBannerCard:Q.a,AddToCartModal:Z.b,QuickViewModal:J.b},data:function(){var e=[{id:1,title:"Сначала подороже",field:"price",direction:"desc"},{id:2,title:"Сначала подешевле",field:"price",direction:"asc"}];return{sortValue:e[0],sortOptions:e,filterModal:!1,showMore:!1}},computed:le({},Object(D.c)(P,["activeTags","activeCategory","activePage","pagesCount","routeSegments","activeCategories"]),{},Object(D.d)(P,["items","banner","categories","brand"]),{},Object(D.d)(X.b,{isQuickViewOpen:function(e){return e[X.a][J.a]&&e[X.a][J.a].open},isAddToCartOpen:function(e){return e[X.a][Z.a]&&e[X.a][Z.a].open}}),{},Object(D.d)("route",{code:function(e){return e.params.code},brandCode:function(e){return e.params.brandCode}}),{isTabletLg:function(){return this.$mq.tabletLg}}),watch:{sortValue:function(e,t){e!==t&&this.$router.replace({path:this.$route.path,query:{orderField:e.field,orderDirection:e.direction}})}},methods:le({},Object(D.b)(P,["FETCH_ITEMS","FETCH_CATALOG_DATA"]),{},Object(D.b)(K.c,[Y.a]),{},Object(D.b)(X.b,[W.a]),{generateBreadcrumbUrl:function(e){var t=this.brandCode;return{path:Object(k.c)(t,e)}},setSortValue:function(e,t){this.sortValue=this.sortOptions.find((function(a){return a.field===e&&a.direction===t}))||this.sortOptions[0]},onBeforeEnterItems:function(e){e.dataset.index=ge,ge+=1,e.style.opacity=0},itemAnimation:function(e,t){return new Promise((function(a,r){try{setTimeout((function(){requestAnimationFrame((function(){e.style.opacity=1,a()}))}),t)}catch(e){r(e)}}))},onEnterItems:(me=ce(regeneratorRuntime.mark((function e(t,a){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=100*t.dataset.index,e.next=3,this.itemAnimation(t,r);case 3:a();case 4:case"end":return e.stop()}}),e,this)}))),function(e,t){return me.apply(this,arguments)}),onAfterEnterItems:function(e){delete e.dataset.index,ge=0},onLeaveItems:function(e,t){requestAnimationFrame((function(){e.style.opacity=0,t()}))},onClickDeleteTag:function(e){var t=this.routeSegments,a=this.code,r=this.brandCode;if(t.includes(e)){var n=t.indexOf(e);-1!==n&&t.splice(n,1);var i=r?Object(k.a)(r,a,t):Object(k.b)(a,t);this.$router.replace({path:i})}},onShowMore:function(){this.showMore=!0,this.$router.replace({path:this.$route.path,query:le({},this.$route.query,{page:this.activePage+1})})},onPreview:function(e){this[W.a]({name:J.a,open:!0,state:{code:e}})},onAddToCart:function(e){this[W.a]({name:Z.a,open:!0,state:{offerId:e.id,type:e.type}})},onPageChanged:function(e){this.showMore=!1,this.$router.push({path:this.$route.path,query:le({},this.$route.query,{page:e})})},fetchCatalog:(de=ce(regeneratorRuntime.mark((function e(t,a,r){var n,i,o,c,s,l,u,d,m,g,v,p,_,b,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=t.params,i=n.code,o=n.brandCode,c=t.query,s=(c=void 0===c?{page:1,orderField:"price",orderDirection:"desc"}:c).page,l=void 0===s?1:s,u=c.orderField,d=void 0===u?"price":u,m=c.orderDirection,g=void 0===m?"desc":m,v=a.params.brandCode,p=a.query,_=(p=void 0===p?{page:1}:p).page,b=void 0===_?1:_,h={category:i},this.$progress.start(),v!==o){e.next=15;break}return e.next=13,this.FETCH_ITEMS({filter:h,orderField:d,orderDirection:g,page:l,showMore:r});case 13:e.next=17;break;case 15:return e.next=17,this.FETCH_CATALOG_DATA({brandCode:o,filter:h,orderField:d,orderDirection:g,page:l});case 17:this.setSortValue(d,g),this.$progress.finish(),r||l===b||window.scrollTo({top:ee.MIN_SCROLL_VALUE+1,behavior:"smooth"}),e.next=28;break;case 22:e.prev=22,e.t0=e.catch(0),this.$progress.fail(),f.$logger.error("debounce_fetchCatalog",e.t0),this.$router.replace({name:"404"}),this.$progress.finish();case 28:case"end":return e.stop()}}),e,this,[[0,22]])}))),function(e,t,a){return de.apply(this,arguments)})}),beforeRouteEnter:function(e,t,a){var r=e.params,n=r.code,i=r.brandCode,o=e.query,c=(o=void 0===o?{page:1,orderField:"price",orderDirection:"desc"}:o).page,s=void 0===c?1:c,l=o.orderField,u=void 0===l?"price":l,d=o.orderDirection,m=void 0===d?"desc":d;!!f.$store._modulesNamespaceMap["".concat(P,"/")]||f.$store.registerModule(P,R,{preserveState:!!f.$store.state.catalog});var g=f.$store.state.catalog,v=g.categoryCode,p=g.brandCode;if(g.load&&v===n&&p===i)a((function(e){return e.$store.dispatch("".concat(P,"/").concat("SET_LOAD"),!1)}));else{var _={category:n};f.$progress.start(),f.$store.dispatch("".concat(P,"/").concat("FETCH_CATALOG_DATA"),{brandCode:i,filter:_,page:s,orderField:u,orderDirection:m}).then((function(){return a((function(e){e.setSortValue(u,m),f.$progress.finish()}))})).catch((function(e){f.$progress.fail(),f.$logger.error(e),a({name:"404",replace:!0}),f.$progress.finish()}))}},beforeRouteUpdate:function(e,t,a){this.showMore?(this.fetchCatalog(e,t,this.showMore),this.showMore=!1):this.debounce_fetchCatalog(e,t),a()},beforeMount:function(){this.debounce_fetchCatalog=B()(this.fetchCatalog,500)}},ve=Object($.a)(fe,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"section catalog-view"},[a("div",{staticClass:"container catalog-view__header"},[a("transition-group",{staticClass:"section catalog-view__breadcrumbs",attrs:{tag:"ol",name:"fade-in"}},[a("li",{key:"main",staticClass:"catalog-view__breadcrumbs-item"},[a("router-link",{staticClass:"catalog-view__breadcrumbs-link",attrs:{to:"/"}},[e._v("\n                    Главная\n                ")])],1),e._v(" "),a("li",{key:"all",staticClass:"catalog-view__breadcrumbs-item"},[e.brandCode?[e._v("Бренды")]:a("router-link",{staticClass:"catalog-view__breadcrumbs-link",attrs:{to:"/catalog"}},[e._v("\n                    Каталог\n                ")])],2),e._v(" "),e.brandCode?a("li",{key:e.brandCode,staticClass:"catalog-view__breadcrumbs-item"},[a("router-link",{staticClass:"catalog-view__breadcrumbs-link",attrs:{to:"/brand/"+e.brandCode}},[e._v("\n                    "+e._s(e.brand&&e.brand.name)+"\n                ")])],1):e._e(),e._v(" "),e._l(e.activeCategories,(function(t){return a("li",{key:t.id,staticClass:"catalog-view__breadcrumbs-item"},[a("router-link",{staticClass:"catalog-view__breadcrumbs-link",attrs:{to:e.generateBreadcrumbUrl(t.code)}},[e._v("\n                    "+e._s(t.name)+"\n                ")])],1)}))],2),e._v(" "),e.brandCode&&e.brand?a("catalog-banner-card",{staticClass:"catalog-view__brand",attrs:{"banner-id":e.brand.id,"bottom-text":e.brand.description,title:e.brand.name,image:e.brand.image}}):a("catalog-banner-card",{staticClass:"catalog-view__banner",attrs:{"banner-id":e.banner.id,image:e.banner.image,"upper-text":e.banner.upperText,"bottom-text":e.banner.bottomText,title:e.banner.title,"btn-text":e.banner.btnText}})],1),e._v(" "),a("section",{staticClass:"section"},[a("div",{staticClass:"container catalog-view__grid"},[a("div",{staticClass:"catalog-view__side-panel"},[a("ul",{staticClass:"catalog-view__side-panel-categories"},e._l(e.categories,(function(e){return a("category-tree-item",{key:e.id,staticClass:"catalog-view__side-panel-categories-item",attrs:{item:e}})})),1),e._v(" "),a("catalog-filter",{staticClass:"catalog-view__side-panel-filters"})],1),e._v(" "),a("div",{staticClass:"catalog-view__main"},[a("div",{staticClass:"catalog-view__main-header"},[a("div",{staticClass:"catalog-view__main-header-title"},[a("h1",{staticClass:"catalog-view__main-header-hl"},[e._v("\n                            "+e._s(e.activeCategory?e.activeCategory.name:"Все категории")+"\n                        ")]),e._v(" "),a("p",{staticClass:"text-grey catalog-view__main-header-text"},[e._v("489 продуктов")])]),e._v(" "),a("v-select",{staticClass:"catalog-view__main-header-sort",attrs:{label:"title","track-by":"id",options:e.sortOptions,searchable:!1,"allow-empty":!1,"show-labels":!1},model:{value:e.sortValue,callback:function(t){e.sortValue=t},expression:"sortValue"}}),e._v(" "),a("v-button",{staticClass:"catalog-view__main-header-btn",on:{click:function(t){e.filterModal=!e.filterModal}}},[a("span",[e._v("\n                            Фильтр и сортировка  \n                            "),a("span",{staticClass:"text-grey"},[e._v(e._s(e.activeTags.length))])]),e._v(" "),a("v-svg",{attrs:{id:"catalog-filter-icon",name:"filter",width:"18",height:"14"}})],1)],1),e._v(" "),a("transition-group",{staticClass:"catalog-view__main-tags",attrs:{tag:"ul",name:"tag-item"}},e._l(e.activeTags,(function(t,r){return a("tag-item",{key:t.code,attrs:{"data-index":r,text:t.name},on:{delete:function(a){return e.onClickDeleteTag(t.code)}}})})),1),e._v(" "),a("transition-group",{staticClass:"catalog-view__main-grid",attrs:{tag:"ul",name:"catalog-item"},on:{"before-enter":e.onBeforeEnterItems,enter:e.onEnterItems,"after-enter":e.onAfterEnterItems,leave:e.onLeaveItems}},e._l(e.items,(function(t){var r;return a("li",{key:t.id+"-"+t.type,staticClass:"catalog-view__main-grid-item",class:(r={},r["catalog-view__main-grid-item--"+t.type]=t.type,r)},["product"===t.type?a("catalog-product-card",{staticClass:"catalog-view__main-grid-card",attrs:{"product-id":t.id,name:t.name,type:t.type,href:"/catalog/"+t.categoryCodes[t.categoryCodes.length-1]+"/"+t.code,image:t.image,price:t.price,"old-price":t.oldPrice,tags:t.tags,rating:t.rating},on:{addItem:function(t){return e.onAddToCart(t)},preview:function(a){return e.onPreview(t.code)}}}):"banner"===t.type?a("catalog-banner-card",{staticClass:"catalog-view__main-grid-card",attrs:{"banner-id":t.id,title:t.title,image:t.image,"upper-text":t.upperText,"btn-text":t.btnText}}):e._e()],1)})),0),e._v(" "),e.pagesCount>1?a("div",{staticClass:"catalog-view__main-controls"},[e.activePage<e.pagesCount?a("v-button",{staticClass:"btn--outline catalog-view__main-controls-btn",on:{click:e.onShowMore}},[e._v("\n                        Показать ещё\n                    ")]):e._e(),e._v(" "),a("v-pagination",{attrs:{value:e.activePage,"page-count":e.pagesCount},on:{input:e.onPageChanged}})],1):e._e()],1)])]),e._v(" "),a("transition",{attrs:{name:"fade-in"}},[e.filterModal&&e.isTabletLg?a("modal",{staticClass:"catalog-view__modal-filter",attrs:{"show-close-btn":!1,type:"fullscreen"},scopedSlots:e._u([{key:"body",fn:function(){return[a("v-sticky",{staticClass:"catalog-view__modal-filter-sticky",scopedSlots:e._u([{key:"sticky",fn:function(){return[a("div",{staticClass:"catalog-view__modal-filter-header"},[a("button",{staticClass:"catalog-view__modal-filter-header-btn",on:{click:function(t){e.filterModal=!1}}},[a("v-svg",{attrs:{name:"cross-small",width:"14",height:"14"}}),e._v("Фильтр\n                            ")],1)])]},proxy:!0}],null,!1,219555529)},[e._v(" "),a("div",{staticClass:"catalog-view__modal-filter-sort"},[a("div",{staticClass:"catalog-view__modal-filter-sort-title"},[e._v("Сортировка")]),e._v(" "),a("ul",{staticClass:"catalog-view__modal-filter-sort-list"},e._l(e.sortOptions,(function(t){return a("li",{key:t.title,staticClass:"catalog-view__modal-filter-sort-item",class:{"catalog-view__modal-filter-sort-item--active":t===e.sortValue}},[a("button",{staticClass:"catalog-view__modal-filter-sort-btn",on:{click:function(a){e.sortValue=t}}},[e._v("\n                                    "+e._s(t.title)+"\n                                ")])])})),0)]),e._v(" "),a("catalog-filter",{staticClass:"catalog-view__modal-filter-panel"})],1)]},proxy:!0}],null,!1,2324292678)}):e._e()],1),e._v(" "),a("section",{staticClass:"section catalog-view__section catalog-view__seo"},[a("div",{staticClass:"container catalog-view__seo-container"},[a("h2",{staticClass:"catalog-view__section-hl catalog-view__seo-hl"},[e._v("Блок SEO текста")]),e._v(" "),a("v-expander",{staticClass:"catalog-view__seo-text",attrs:{"min-height":80,"has-mask":""},scopedSlots:e._u([{key:"btn",fn:function(t){var a=t.isExpanded;return[e._v("\n                    "+e._s(a?"Скрыть":"Показать больше")+"\n                ")]}}])},[e._v("\n                Помада L'Oreal Paris Color Riche — это первый матовый тинт для губ с ультранасыщенным цветом,\n                который абсолютно не ощущается на губах. Выбери из 10 модных оттенков те, которые тебе по душе. Эта\n                помада не оставит тебя равнодушной. Экспериментируй и наслаждайся, а Color Riche поможет тебе в\n                этом. Мы заботимся о надёжных поставщиках, качестве товаров и безопасной оплате. А что делать вам?\n                Просто наслаждаться покупками. Для экономии не нужен повод, поэтому мы каждый день даём вам скидки\n                на популярные товары самых разных категорий.\n\n                ")])],1)]),e._v(" "),a("transition",{attrs:{name:"fade-in"}},[e.isQuickViewOpen&&!e.isTabletLg?a("quick-view-modal"):e.isAddToCartOpen?a("add-to-cart-modal"):e._e()],1)],1)}),[],!1,null,null,null);t.default=ve.exports},"9bRU":function(e,t,a){},Xtz6:function(e,t,a){},x3SC:function(e,t,a){}}]);