(window.webpackJsonp=window.webpackJsonp||[]).push([[60],{"0Bec":function(e,t,r){},fPNc:function(e,t,r){"use strict";r.r(t);var o=r("i2Ud"),a=r("+gqB"),n=r("/Q9p"),i=r("6AGh"),s=r("obii"),c=r("zfPd"),u=r("L2JU"),v=r("3eXy"),f=r("Cv2f"),l=r("xm1V"),p=r("LCOE"),d=r("55Sm"),h=r("jDKC"),g=r("4mC1"),b=r("2JJK");r("0Bec");function w(e,t,r,o,a,n,i){try{var s=e[n](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(o,a)}function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var C={name:"favorites",components:{VButton:o.a,VPagination:a.a,CatalogProductCard:n.a,ShowMoreButton:i.a,Breadcrumbs:s.a,BreadcrumbItem:c.a},data:function(){return{showMore:!1}},computed:_({},Object(u.d)(f.e,[f.b,f.c,f.d,f.a]),{},Object(u.c)(f.e,[l.c])),methods:_({},Object(u.b)(f.e,[p.a,p.c,p.d]),{},Object(u.b)(d.b,[h.a]),{onShowMore:function(){this.showMore=!0,this.$router.replace({path:this.$route.path,query:_({},this.$route.query,{page:this[f.a]+1})})},onPageChanged:function(e){this.showMore=!1,this.$router.push({path:this.$route.path,query:_({},this.$route.query,{page:e})})},onToggleFavorite:function(e){var t=e.productId;this[p.d](t)},onPreview:function(e){this[h.a]({name:b.modalName.general.QUICK_VIEW,open:!0,state:{code:e}})},onAddToCart:function(e){var t=e.id,r=e.stock,o=e.type;this[h.a]({name:b.modalName.general.ADD_TO_CART,open:!0,state:{offerId:t,storeId:r.storeId,type:o}})}}),beforeRouteEnter:function(e,t,r){var o=e.fullPath,a=e.query.page,n=void 0===a?g.a:a;v.$store.state[f.e].loadPath===o?r():(v.$progress.start(),v.$store.dispatch("".concat(f.e,"/").concat(p.a),{page:n}).then((function(e){v.$store.dispatch("".concat(f.e,"/").concat(p.c),o),r((function(e){v.$progress.finish()}))})).catch((function(e){if(e&&!0===e.isCancel)return!0;r((function(e){v.$progress.fail()}))})))},beforeRouteUpdate:function(e,t,r){var o,a=this;return(o=regeneratorRuntime.mark((function t(){var o,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=e.query.page,n=void 0===o?g.a:o,t.prev=1,a.$progress.start(),t.next=5,a[p.a]({page:n,showMore:a.showMore});case 5:a.$progress.finish(),r(),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),a.$progress.fail(),r(!1);case 13:a.showMore=!1;case 14:case"end":return t.stop()}}),t,null,[[1,9]])})),function(){var e=this,t=arguments;return new Promise((function(r,a){var n=o.apply(e,t);function i(e){w(n,r,a,i,s,"next",e)}function s(e){w(n,r,a,i,s,"throw",e)}i(void 0)}))})()}},O=r("KHd+"),P=Object(O.a)(C,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"section favorites-view"},[r("div",{staticClass:"container"},[r("breadcrumbs",{staticClass:"favorites-view__breadcrumbs"},[r("breadcrumb-item",{key:"main",attrs:{to:"/"}},[e._v("\n                Главная\n            ")]),e._v(" "),r("breadcrumb-item",{key:"Favorites",attrs:{to:e.$route.fullPath}},[e._v("\n                Избранное\n            ")])],1)],1),e._v(" "),r("section",{staticClass:"section favorites-view__section"},[r("div",{staticClass:"container favorites-view__header"},[r("h1",{staticClass:"favorites-view__header-hl"},[e._v("\n                Избранное\n                "),e.favorites.length>0?r("span",{staticClass:"favorites-view__header-counter"},[e._v("\n                    "+e._s(e.favorites.length)+" продуктов\n                ")]):e._e()])]),e._v(" "),e.favorites.length>0?r("div",{staticClass:"container favorites-view__section-container"},[r("ul",{staticClass:"favorites-view__list"},e._l(e.favorites,(function(t){return r("catalog-product-card",{key:t.id,staticClass:"favorites-view__list-item",attrs:{"offer-id":t.id,"product-id":t.productId,name:t.name,type:t.type,href:"/catalog/"+t.categoryCodes[t.categoryCodes.length-1]+"/"+t.code,image:t.image,price:t.price,"old-price":t.oldPrice,tags:t.tags,rating:t.rating,"show-buy-btn":t.stock.qty>0},on:{"add-item":function(r){return e.onAddToCart(t)},preview:function(r){return e.onPreview(t.code)},"toggle-favorite-item":function(r){return e.onToggleFavorite(t)}}})})),1)]):r("p",{staticClass:"container"},[e._v("Ничего не найдено")]),e._v(" "),e.pagesCount>1?r("div",{staticClass:"container favorites-view__main-controls"},[e.activePage<e.pagesCount?r("show-more-button",{attrs:{"btn-class":"btn--outline favorites-view__main-controls-btn","preloader-class":"favorites-view__preloader","show-preloader":e.showMore},on:{click:e.onShowMore}},[e._v("\n                Показать ещё\n            ")]):e._e(),e._v(" "),r("v-pagination",{attrs:{value:e.activePage,"page-count":e.pagesCount},on:{input:e.onPageChanged}})],1):e._e()])])}),[],!1,null,null,null);t.default=P.exports}}]);