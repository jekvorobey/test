(window.webpackJsonp=window.webpackJsonp||[]).push([[95],{X4eb:function(t,e,a){},"zP/w":function(t,e,a){"use strict";a.r(e);var r=a("i2Ud"),n=a("ze5i"),i=a("A9YF"),s=a("45Ux"),o=a("PZpB"),c=a("Z14j"),l=(a("XJM6"),a("f5/Z")),u=a("fOuK"),d=a("MM1r"),p=a("L2JU"),v=a("Q2AE"),m=a("YPqg"),f=a("Qchp"),y=a("hFEP"),_=a("8TZ/"),h=a("3eXy"),g=a("2JJK"),b=a("tCqp"),C=a("fhPv"),w=a("GyY8"),k=a("QmAe"),O=a("oEqv"),P=a("aXGN"),j=a("W6hq");a("X4eb");function I(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function T(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?I(Object(a),!0).forEach((function(e){D(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):I(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function D(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var S={name:"thank-you",components:{VButton:r.a,VSticky:n.a,VCartHeader:i.a,InfoRow:s.a,InfoPanel:o.a,AttentionPanel:c.a,CartMasterClassCard:d.a,CartProductCard:l.a,CartBundleProductCard:u.a},computed:T(T(T(T(T(T({},Object(p.d)([v.g])),Object(p.d)(m.c,[m.b])),Object(p.d)(_.c,[_.a])),Object(p.d)(f.c,[f.d])),Object(p.d)("route",{id:function(t){return t.params.id}})),{},{dates:function(){var t=this,e=this.order.delivery.dates,a=void 0===e?[]:e;return a.map((function(e){var a=Object(k.e)(e),r=a.toLocaleDateString(t[v.g],w.b),n=a.toLocaleString(t[v.g],w.d),i=t.$t("weekdays.long.".concat(a.getDay()));return"".concat(r,", ").concat(i,", ").concat(n)}))},items:function(){var t=this,e=this.order,a=this.cartData,r=void 0===a?{}:a;switch(e.type){case C.a.PRODUCT:var n=(r[C.a.MASTERCLASS]||{}).items,i=void 0===n?[]:n;return i.map((function(e){var a=e.p,r=new Date("".concat(a.nearestDate," ").concat(a.nearestTimeFrom)),n=r.toLocaleString(t[v.g],w.b),i=r.toLocaleString(t[v.g],w.d),s="".concat(n," (").concat(t.$t("weekdays.short.".concat(r.getDay())),"), ").concat(i),o=Object(j.h)(a.code),c=a.speakers&&a.speakers[0],l=c&&"".concat(c.firstName," ").concat(c.lastName,", ").concat(c.profession),u="".concat(a.name," (").concat(a.ticketTypeName,")"),d=a.image&&Object(P.c)(144,96,a.image.id),p=a.image&&{webp:Object(P.c)(144,96,a.image.id,g.fileExtension.image.WEBP),orig:Object(P.c)(144,96,a.image.id)};return T(T({},e),{},{p:T(T({},a),{},{name:u,url:o,author:l,dateTime:s,desktopImg:p,defaultImg:d})})}));case C.a.MASTERCLASS:var s=(r[C.a.PRODUCT]||{}).items;return(void 0===s?[]:s).map((function(t){var e=t.p,a=e.categoryCodes&&e.categoryCodes[e.categoryCodes.length-1],r=Object(j.i)(a,e.code),n=e.type===C.a.PRODUCT&&e.image,i=n&&Object(P.c)(64,64,e.image.id),s=n&&{webp:Object(P.c)(64,64,e.image.id,g.fileExtension.image.WEBP),orig:Object(P.c)(64,64,e.image.id)};return T(T({},t),{},{p:T(T({},e),{},{href:r,defaultImg:i||void 0,desktopImg:s||void 0})})}));default:return[]}},title:function(){var t=this.order;switch(t&&t.type){case C.a.PRODUCT:return"Заказ успешно оформлен";case C.a.MASTERCLASS:return"Билеты успешно оформлены";default:return"Заказ"}},orderDelivery:function(){return this.$t("deliveryMethod.".concat(this.order.delivery.deliveryMethod))},fullUserInfo:function(){var t=this.order.user,e=t.name,a=t.phone,r=t.email;return"".concat(e,", ").concat(Object(k.d)(a),", ").concat(r)},deliveryAddress:function(){var t=(this[f.d]||{delivery:{}}).delivery,e=t.point,a=t.address,r=null;switch(t.deliveryMethod){case b.e.PICKUP:r=e.address;break;default:r=a}return r&&Object(O.a)(r)},isMasterClass:function(){var t=this.order;return t&&t.type===C.a.MASTERCLASS},isTabletLg:function(){return this.$mq.tabletLg},isTablet:function(){return this.$mq.tablet}}),watch:D({},m.b,(function(t){t||this.$router.replace(w.a.path)})),beforeRouteEnter:function(t,e,a){var r=t.params.id;h.$store.state[f.c].order?a():(h.$progress.start(),h.$store.dispatch("".concat(f.c,"/").concat(y.q),r).then((function(){a((function(t){h.$progress.finish()}))})).catch((function(e){h.$progress.fail(),e.status===httpCodes.NOT_FOUND?a(createNotFoundRoute(t)):a(new Error(e.message)),h.$progress.finish()})))},beforeCreate:function(){this.cartItemTypes=C.a}},E=a("KHd+"),A=Object(E.a)(S,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"section thank-you-view"},[a("v-cart-header",{attrs:{"hide-city":""}}),t._v(" "),a("div",{staticClass:"container"},[a("h1",{staticClass:"thank-you-view__hl"},[t._v("\n            "+t._s(t.title)+"\n        ")])]),t._v(" "),a("div",{staticClass:"container thank-you-view__container"},[a("v-sticky",{staticClass:"thank-you-view__sticky",scopedSlots:t._u([{key:"sticky",fn:function(){return[a("info-panel",{staticClass:"thank-you-view__panel",attrs:{header:"Информация о заказе","max-lines":t.isTablet?2:1}},[t.order?a("div",{staticClass:"container container--tablet"},[t.isMasterClass?[a("ul",{staticClass:"thank-you-view__panel-list"},[a("info-row",{staticClass:"thank-you-view__panel-item",attrs:{name:"Номер заказа",value:t.order.id}}),t._v(" "),a("info-row",{staticClass:"thank-you-view__panel-item",attrs:{name:"Получатель",value:t.order.email}})],1),t._v(" "),a("attention-panel",{staticClass:"thank-you-view__panel-attention"},[t._v("\n                                Посмотреть информацию о дате и месте проведения мастер-классов можно в письме,\n                                отправленном на ваш email\n                            ")])]:a("ul",{staticClass:"thank-you-view__panel-list"},[a("info-row",{staticClass:"thank-you-view__panel-item",attrs:{name:"Номер заказа",value:t.order.id}}),t._v(" "),a("info-row",{staticClass:"thank-you-view__panel-item",attrs:{name:"Получатель",value:t.fullUserInfo}}),t._v(" "),a("info-row",{staticClass:"thank-you-view__panel-item",attrs:{name:"Способ получения",value:t.orderDelivery}}),t._v(" "),a("info-row",{staticClass:"thank-you-view__panel-item",attrs:{name:"Адрес доставки",value:t.deliveryAddress}}),t._v(" "),a("info-row",{staticClass:"thank-you-view__panel-item",attrs:{name:"Даты доставки"}},[a("ul",t._l(t.dates,(function(e){return a("li",{key:e},[t._v("\n                                        "+t._s(e)+"\n                                    ")])})),0)])],1),t._v(" "),a("v-button",{staticClass:"thank-you-view__panel-btn",attrs:{to:"/"}},[t._v("\n                            На главную страницу\n                        ")])],2):t._e()])]},proxy:!0}])}),t._v(" "),t.items&&t.items.length>0?a("v-sticky",{staticClass:"thank-you-view__sticky",scopedSlots:t._u([{key:"sticky",fn:function(){return[a("info-panel",{staticClass:"thank-you-view__panel",attrs:{header:"В корзине остались неоформленные позиции","max-lines":t.isTablet?2:1}},[t.isMasterClass?a("ul",{staticClass:"thank-you-view__panel-list"},[t._l(t.items,(function(e){var r=e.p,n=e.count,i=e.type;return[i===t.cartItemTypes.PRODUCT?a("cart-product-card",{key:r.id,staticClass:"thank-you-view__panel-card",attrs:{"offer-id":r.id,"product-id":r.productId,type:i,name:r.name,image:r.image,price:r.price,"old-price":r.oldPrice,count:n,href:r.url},on:{deleteItem:function(e){return t.onDeleteCartItem(r.id,r.stock.storeId)},"toggle-favorite-item":function(e){return t.onToggleFavorite(r)},countChange:function(e){return t.onAddCartItem(r.id,r.stock.storeId,e.count)}}},[r.desktopImg?[a("source",{attrs:{"data-srcset":r.desktopImg.webp,type:"image/webp"}}),t._v(" "),a("source",{attrs:{"data-srcset":r.desktopImg.orig}})]:t._e(),t._v(" "),a("img",{staticClass:"blur-up lazyload v-picture__img",attrs:{"data-src":r.defaultImg,alt:""}})],2):i===t.cartItemTypes.BUNDLE_PRODUCT?a("cart-bundle-product-card",{key:r.id,staticClass:"thank-you-view__panel-card",attrs:{"bundle-id":r.id,name:r.name,price:r.price,bonus:r.bonus,"old-price":r.oldPrice,items:r.items,count:n},on:{deleteBundle:t.onDeleteBundle}}):t._e()]}))],2):a("ul",{staticClass:"thank-you-view__panel-list"},t._l(t.items,(function(e){var r=e.id,n=e.p,i=e.type;return a("cart-master-class-card",{key:r,staticClass:"thank-you-view__panel-card",attrs:{type:i,"product-id":n.id,name:n.name,note:n.note,image:n.image,price:n.price,"old-price":n.oldPrice,date:n.dateTime,author:n.author,href:n.url}},[n.desktopImg?[a("source",{attrs:{"data-srcset":n.desktopImg.webp,type:"image/webp"}}),t._v(" "),a("source",{attrs:{"data-srcset":n.desktopImg.orig}})]:t._e(),t._v(" "),a("img",{staticClass:"blur-up lazyload v-picture__img",attrs:{"data-src":n.defaultImg,alt:""}})],2)})),1),t._v(" "),a("div",{staticClass:"container container--tablet"},[a("v-button",{staticClass:"btn--outline thank-you-view__panel-btn",attrs:{to:{name:"Cart"}}},[t._v("\n                            Перейти в оформлению\n                        ")])],1)])]},proxy:!0}],null,!1,3118562591)}):t._e()],1)],1)}),[],!1,null,null,null);e.default=A.exports}}]);